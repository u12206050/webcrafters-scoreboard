(function(n){typeof define=="function"&&define.amd?define(n):n()})(function(){"use strict";function makeMap(n,e){const r=Object.create(null),i=n.split(",");for(let o=0;o<i.length;o++)r[i[o]]=!0;return e?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(n){return!!n||n===""}function normalizeStyle(n){if(isArray(n)){const e={};for(let r=0;r<n.length;r++){const i=n[r],o=isString(i)?parseStringStyle(i):normalizeStyle(i);if(o)for(const f in o)e[f]=o[f]}return e}else{if(isString(n))return n;if(isObject$1(n))return n}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(n){const e={};return n.split(listDelimiterRE).forEach(r=>{if(r){const i=r.split(propertyDelimiterRE);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function normalizeClass(n){let e="";if(isString(n))e=n;else if(isArray(n))for(let r=0;r<n.length;r++){const i=normalizeClass(n[r]);i&&(e+=i+" ")}else if(isObject$1(n))for(const r in n)n[r]&&(e+=r+" ");return e.trim()}const toDisplayString=n=>isString(n)?n:n==null?"":isArray(n)||isObject$1(n)&&(n.toString===objectToString||!isFunction(n.toString))?JSON.stringify(n,replacer,2):String(n),replacer=(n,e)=>e&&e.__v_isRef?replacer(n,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,o])=>(r[`${i} =>`]=o,r),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$1(e)&&!isArray(e)&&!isPlainObject(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=n=>onRE.test(n),isModelListener=n=>n.startsWith("onUpdate:"),extend=Object.assign,remove$1=(n,e)=>{const r=n.indexOf(e);r>-1&&n.splice(r,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(n,e)=>hasOwnProperty.call(n,e),isArray=Array.isArray,isMap=n=>toTypeString(n)==="[object Map]",isSet=n=>toTypeString(n)==="[object Set]",isFunction=n=>typeof n=="function",isString=n=>typeof n=="string",isSymbol=n=>typeof n=="symbol",isObject$1=n=>n!==null&&typeof n=="object",isPromise=n=>isObject$1(n)&&isFunction(n.then)&&isFunction(n.catch),objectToString=Object.prototype.toString,toTypeString=n=>objectToString.call(n),toRawType=n=>toTypeString(n).slice(8,-1),isPlainObject=n=>toTypeString(n)==="[object Object]",isIntegerKey=n=>isString(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=n=>{const e=Object.create(null);return r=>e[r]||(e[r]=n(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(n=>n.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(n=>n.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(n=>n.charAt(0).toUpperCase()+n.slice(1)),toHandlerKey=cacheStringFunction(n=>n?`on${capitalize(n)}`:""),hasChanged=(n,e)=>!Object.is(n,e),invokeArrayFns=(n,e)=>{for(let r=0;r<n.length;r++)n[r](e)},def=(n,e,r)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:r})},toNumber=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this.active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function recordEffectScope(n,e=activeEffectScope){e&&e.active&&e.effects.push(n)}const createDep=n=>{const e=new Set(n);return e.w=0,e.n=0,e},wasTracked=n=>(n.w&trackOpBit)>0,newTracked=n=>(n.n&trackOpBit)>0,initDepMarkers=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=trackOpBit},finalizeDepMarkers=n=>{const{deps:e}=n;if(e.length){let r=0;for(let i=0;i<e.length;i++){const o=e[i];wasTracked(o)&&!newTracked(o)?o.delete(n):e[r++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,i){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,i)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(n){const{deps:e}=n;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(n);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const n=trackStack.pop();shouldTrack=n===void 0?!0:n}function track(n,e,r){if(shouldTrack&&activeEffect){let i=targetMap.get(n);i||targetMap.set(n,i=new Map);let o=i.get(r);o||i.set(r,o=createDep()),trackEffects(o)}}function trackEffects(n,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(n)||(n.n|=trackOpBit,r=!wasTracked(n)):r=!n.has(activeEffect),r&&(n.add(activeEffect),activeEffect.deps.push(n))}function trigger$1(n,e,r,i,o,f){const m=targetMap.get(n);if(!m)return;let _=[];if(e==="clear")_=[...m.values()];else if(r==="length"&&isArray(n))m.forEach((re,ie)=>{(ie==="length"||ie>=i)&&_.push(re)});else switch(r!==void 0&&_.push(m.get(r)),e){case"add":isArray(n)?isIntegerKey(r)&&_.push(m.get("length")):(_.push(m.get(ITERATE_KEY)),isMap(n)&&_.push(m.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(n)||(_.push(m.get(ITERATE_KEY)),isMap(n)&&_.push(m.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(n)&&_.push(m.get(ITERATE_KEY));break}if(_.length===1)_[0]&&triggerEffects(_[0]);else{const re=[];for(const ie of _)ie&&re.push(...ie);triggerEffects(createDep(re))}}function triggerEffects(n,e){for(const r of isArray(n)?n:[...n])(r!==activeEffect||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...r){const i=toRaw(this);for(let f=0,m=this.length;f<m;f++)track(i,"get",f+"");const o=i[e](...r);return o===-1||o===!1?i[e](...r.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...r){pauseTracking();const i=toRaw(this)[e].apply(this,r);return resetTracking(),i}}),n}function createGetter(n=!1,e=!1){return function(i,o,f){if(o==="__v_isReactive")return!n;if(o==="__v_isReadonly")return n;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&f===(n?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(i))return i;const m=isArray(i);if(!n&&m&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,f);const _=Reflect.get(i,o,f);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(n||track(i,"get",o),e)?_:isRef(_)?!m||!isIntegerKey(o)?_.value:_:isObject$1(_)?n?readonly(_):reactive(_):_}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(n=!1){return function(r,i,o,f){let m=r[i];if(isReadonly(m)&&isRef(m)&&!isRef(o))return!1;if(!n&&!isReadonly(o)&&(isShallow(o)||(o=toRaw(o),m=toRaw(m)),!isArray(r)&&isRef(m)&&!isRef(o)))return m.value=o,!0;const _=isArray(r)&&isIntegerKey(i)?Number(i)<r.length:hasOwn(r,i),re=Reflect.set(r,i,o,f);return r===toRaw(f)&&(_?hasChanged(o,m)&&trigger$1(r,"set",i,o):trigger$1(r,"add",i,o)),re}}function deleteProperty(n,e){const r=hasOwn(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&r&&trigger$1(n,"delete",e,void 0),i}function has(n,e){const r=Reflect.has(n,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(n,"has",e),r}function ownKeys(n){return track(n,"iterate",isArray(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}const mutableHandlers={get,set:set$1,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(n,e){return!0},deleteProperty(n,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=n=>n,getProto=n=>Reflect.getPrototypeOf(n);function get$1(n,e,r=!1,i=!1){n=n.__v_raw;const o=toRaw(n),f=toRaw(e);e!==f&&!r&&track(o,"get",e),!r&&track(o,"get",f);const{has:m}=getProto(o),_=i?toShallow:r?toReadonly:toReactive;if(m.call(o,e))return _(n.get(e));if(m.call(o,f))return _(n.get(f));n!==o&&n.get(e)}function has$1(n,e=!1){const r=this.__v_raw,i=toRaw(r),o=toRaw(n);return n!==o&&!e&&track(i,"has",n),!e&&track(i,"has",o),n===o?r.has(n):r.has(n)||r.has(o)}function size(n,e=!1){return n=n.__v_raw,!e&&track(toRaw(n),"iterate",ITERATE_KEY),Reflect.get(n,"size",n)}function add(n){n=toRaw(n);const e=toRaw(this);return getProto(e).has.call(e,n)||(e.add(n),trigger$1(e,"add",n,n)),this}function set$1$1(n,e){e=toRaw(e);const r=toRaw(this),{has:i,get:o}=getProto(r);let f=i.call(r,n);f||(n=toRaw(n),f=i.call(r,n));const m=o.call(r,n);return r.set(n,e),f?hasChanged(e,m)&&trigger$1(r,"set",n,e):trigger$1(r,"add",n,e),this}function deleteEntry(n){const e=toRaw(this),{has:r,get:i}=getProto(e);let o=r.call(e,n);o||(n=toRaw(n),o=r.call(e,n)),i&&i.call(e,n);const f=e.delete(n);return o&&trigger$1(e,"delete",n,void 0),f}function clear(){const n=toRaw(this),e=n.size!==0,r=n.clear();return e&&trigger$1(n,"clear",void 0,void 0),r}function createForEach(n,e){return function(i,o){const f=this,m=f.__v_raw,_=toRaw(m),re=e?toShallow:n?toReadonly:toReactive;return!n&&track(_,"iterate",ITERATE_KEY),m.forEach((ie,pe)=>i.call(o,re(ie),re(pe),f))}}function createIterableMethod(n,e,r){return function(...i){const o=this.__v_raw,f=toRaw(o),m=isMap(f),_=n==="entries"||n===Symbol.iterator&&m,re=n==="keys"&&m,ie=o[n](...i),pe=r?toShallow:e?toReadonly:toReactive;return!e&&track(f,"iterate",re?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:ye,done:yt}=ie.next();return yt?{value:ye,done:yt}:{value:_?[pe(ye[0]),pe(ye[1])]:pe(ye),done:yt}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(n){return function(...e){return n==="delete"?!1:this}}function createInstrumentations(){const n={get(f){return get$1(this,f)},get size(){return size(this)},has:has$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(f){return get$1(this,f,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(f){return get$1(this,f,!0)},get size(){return size(this,!0)},has(f){return has$1.call(this,f,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},i={get(f){return get$1(this,f,!0,!0)},get size(){return size(this,!0)},has(f){return has$1.call(this,f,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{n[f]=createIterableMethod(f,!1,!1),r[f]=createIterableMethod(f,!0,!1),e[f]=createIterableMethod(f,!1,!0),i[f]=createIterableMethod(f,!0,!0)}),[n,r,e,i]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(n,e){const r=e?n?shallowReadonlyInstrumentations:shallowInstrumentations:n?readonlyInstrumentations:mutableInstrumentations;return(i,o,f)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?i:Reflect.get(hasOwn(r,o)&&o in i?r:i,o,f)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(n){return n.__v_skip||!Object.isExtensible(n)?0:targetTypeMap(toRawType(n))}function reactive(n){return isReadonly(n)?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(n){return createReactiveObject(n,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(n,e,r,i,o){if(!isObject$1(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const f=o.get(n);if(f)return f;const m=getTargetType(n);if(m===0)return n;const _=new Proxy(n,m===2?i:r);return o.set(n,_),_}function isReactive(n){return isReadonly(n)?isReactive(n.__v_raw):!!(n&&n.__v_isReactive)}function isReadonly(n){return!!(n&&n.__v_isReadonly)}function isShallow(n){return!!(n&&n.__v_isShallow)}function isProxy(n){return isReactive(n)||isReadonly(n)}function toRaw(n){const e=n&&n.__v_raw;return e?toRaw(e):n}function markRaw(n){return def(n,"__v_skip",!0),n}const toReactive=n=>isObject$1(n)?reactive(n):n,toReadonly=n=>isObject$1(n)?readonly(n):n;function trackRefValue(n){shouldTrack&&activeEffect&&(n=toRaw(n),trackEffects(n.dep||(n.dep=createDep())))}function triggerRefValue(n,e){n=toRaw(n),n.dep&&triggerEffects(n.dep)}function isRef(n){return!!(n&&n.__v_isRef===!0)}function ref(n){return createRef(n,!1)}function createRef(n,e){return isRef(n)?n:new RefImpl(n,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){e=this.__v_isShallow?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:toReactive(e),triggerRefValue(this))}}function unref(n){return isRef(n)?n.value:n}const shallowUnwrapHandlers={get:(n,e,r)=>unref(Reflect.get(n,e,r)),set:(n,e,r,i)=>{const o=n[e];return isRef(o)&&!isRef(r)?(o.value=r,!0):Reflect.set(n,e,r,i)}};function proxyRefs(n){return isReactive(n)?n:new Proxy(n,shallowUnwrapHandlers)}function toRefs(n){const e=isArray(n)?new Array(n.length):{};for(const r in n)e[r]=toRef(n,r);return e}class ObjectRefImpl{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function toRef(n,e,r){const i=n[e];return isRef(i)?i:new ObjectRefImpl(n,e,r)}class ComputedRefImpl{constructor(e,r,i,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$1(n,e,r=!1){let i,o;const f=isFunction(n);return f?(i=n,o=NOOP):(i=n.get,o=n.set),new ComputedRefImpl(i,o,f||!o,r)}function callWithErrorHandling(n,e,r,i){let o;try{o=i?n(...i):n()}catch(f){handleError(f,e,r)}return o}function callWithAsyncErrorHandling(n,e,r,i){if(isFunction(n)){const f=callWithErrorHandling(n,e,r,i);return f&&isPromise(f)&&f.catch(m=>{handleError(m,e,r)}),f}const o=[];for(let f=0;f<n.length;f++)o.push(callWithAsyncErrorHandling(n[f],e,r,i));return o}function handleError(n,e,r,i=!0){const o=e?e.vnode:null;if(e){let f=e.parent;const m=e.proxy,_=r;for(;f;){const ie=f.ec;if(ie){for(let pe=0;pe<ie.length;pe++)if(ie[pe](n,m,_)===!1)return}f=f.parent}const re=e.appContext.config.errorHandler;if(re){callWithErrorHandling(re,null,10,[n,m,_]);return}}logError(n,r,o,i)}function logError(n,e,r,i=!0){console.error(n)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(n){const e=currentFlushPromise||resolvedPromise;return n?e.then(this?n.bind(this):n):e}function findInsertionIndex(n){let e=flushIndex+1,r=queue.length;for(;e<r;){const i=e+r>>>1;getId$1(queue[i])<n?e=i+1:r=i}return e}function queueJob(n){(!queue.length||!queue.includes(n,isFlushing&&n.allowRecurse?flushIndex+1:flushIndex))&&n!==currentPreFlushParentJob&&(n.id==null?queue.push(n):queue.splice(findInsertionIndex(n.id),0,n),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(n){const e=queue.indexOf(n);e>flushIndex&&queue.splice(e,1)}function queueCb(n,e,r,i){isArray(n)?r.push(...n):(!e||!e.includes(n,n.allowRecurse?i+1:i))&&r.push(n),queueFlush()}function queuePreFlushCb(n){queueCb(n,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(n){queueCb(n,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(n,e=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=e,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(n,e)}}function flushPostFlushCbs(n){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,i)=>getId$1(r)-getId$1(i)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=n=>n.id==null?1/0:n.id;function flushJobs(n){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(n),queue.sort((r,i)=>getId$1(r)-getId$1(i));const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(n)}}function emit$1(n,e,...r){if(n.isUnmounted)return;const i=n.vnode.props||EMPTY_OBJ;let o=r;const f=e.startsWith("update:"),m=f&&e.slice(7);if(m&&m in i){const pe=`${m==="modelValue"?"model":m}Modifiers`,{number:ye,trim:yt}=i[pe]||EMPTY_OBJ;yt?o=r.map(Yt=>Yt.trim()):ye&&(o=r.map(toNumber))}let _,re=i[_=toHandlerKey(e)]||i[_=toHandlerKey(camelize(e))];!re&&f&&(re=i[_=toHandlerKey(hyphenate(e))]),re&&callWithAsyncErrorHandling(re,n,6,o);const ie=i[_+"Once"];if(ie){if(!n.emitted)n.emitted={};else if(n.emitted[_])return;n.emitted[_]=!0,callWithAsyncErrorHandling(ie,n,6,o)}}function normalizeEmitsOptions(n,e,r=!1){const i=e.emitsCache,o=i.get(n);if(o!==void 0)return o;const f=n.emits;let m={},_=!1;if(!isFunction(n)){const re=ie=>{const pe=normalizeEmitsOptions(ie,e,!0);pe&&(_=!0,extend(m,pe))};!r&&e.mixins.length&&e.mixins.forEach(re),n.extends&&re(n.extends),n.mixins&&n.mixins.forEach(re)}return!f&&!_?(i.set(n,null),null):(isArray(f)?f.forEach(re=>m[re]=null):extend(m,f),i.set(n,m),m)}function isEmitListener(n,e){return!n||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(n,e[0].toLowerCase()+e.slice(1))||hasOwn(n,hyphenate(e))||hasOwn(n,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(n){const e=currentRenderingInstance;return currentRenderingInstance=n,currentScopeId=n&&n.type.__scopeId||null,e}function pushScopeId(n){currentScopeId=n}function popScopeId(){currentScopeId=null}function withCtx(n,e=currentRenderingInstance,r){if(!e||n._n)return n;const i=(...o)=>{i._d&&setBlockTracking(-1);const f=setCurrentRenderingInstance(e),m=n(...o);return setCurrentRenderingInstance(f),i._d&&setBlockTracking(1),m};return i._n=!0,i._c=!0,i._d=!0,i}function markAttrsAccessed(){}function renderComponentRoot(n){const{type:e,vnode:r,proxy:i,withProxy:o,props:f,propsOptions:[m],slots:_,attrs:re,emit:ie,render:pe,renderCache:ye,data:yt,setupState:Yt,ctx:Xt,inheritAttrs:Cn}=n;let xn,rr;const lr=setCurrentRenderingInstance(n);try{if(r.shapeFlag&4){const mr=o||i;xn=normalizeVNode(pe.call(mr,mr,ye,f,Yt,yt,Xt)),rr=re}else{const mr=e;xn=normalizeVNode(mr.length>1?mr(f,{attrs:re,slots:_,emit:ie}):mr(f,null)),rr=e.props?re:getFunctionalFallthrough(re)}}catch(mr){blockStack.length=0,handleError(mr,n,1),xn=createVNode(Comment)}let sr=xn;if(rr&&Cn!==!1){const mr=Object.keys(rr),{shapeFlag:Sr}=sr;mr.length&&Sr&7&&(m&&mr.some(isModelListener)&&(rr=filterModelListeners(rr,m)),sr=cloneVNode(sr,rr))}return r.dirs&&(sr.dirs=sr.dirs?sr.dirs.concat(r.dirs):r.dirs),r.transition&&(sr.transition=r.transition),xn=sr,setCurrentRenderingInstance(lr),xn}const getFunctionalFallthrough=n=>{let e;for(const r in n)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=n[r]);return e},filterModelListeners=(n,e)=>{const r={};for(const i in n)(!isModelListener(i)||!(i.slice(9)in e))&&(r[i]=n[i]);return r};function shouldUpdateComponent(n,e,r){const{props:i,children:o,component:f}=n,{props:m,children:_,patchFlag:re}=e,ie=f.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&re>=0){if(re&1024)return!0;if(re&16)return i?hasPropsChanged(i,m,ie):!!m;if(re&8){const pe=e.dynamicProps;for(let ye=0;ye<pe.length;ye++){const yt=pe[ye];if(m[yt]!==i[yt]&&!isEmitListener(ie,yt))return!0}}}else return(o||_)&&(!_||!_.$stable)?!0:i===m?!1:i?m?hasPropsChanged(i,m,ie):!0:!!m;return!1}function hasPropsChanged(n,e,r){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let o=0;o<i.length;o++){const f=i[o];if(e[f]!==n[f]&&!isEmitListener(r,f))return!0}return!1}function updateHOCHostEl({vnode:n,parent:e},r){for(;e&&e.subTree===n;)(n=e.vnode).el=r,e=e.parent}const isSuspense=n=>n.__isSuspense;function queueEffectWithSuspense(n,e){e&&e.pendingBranch?isArray(n)?e.effects.push(...n):e.effects.push(n):queuePostFlushCb(n)}function provide(n,e){if(currentInstance){let r=currentInstance.provides;const i=currentInstance.parent&&currentInstance.parent.provides;i===r&&(r=currentInstance.provides=Object.create(i)),r[n]=e}}function inject(n,e,r=!1){const i=currentInstance||currentRenderingInstance;if(i){const o=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&n in o)return o[n];if(arguments.length>1)return r&&isFunction(e)?e.call(i.proxy):e}}const INITIAL_WATCHER_VALUE={};function watch(n,e,r){return doWatch(n,e,r)}function doWatch(n,e,{immediate:r,deep:i,flush:o,onTrack:f,onTrigger:m}=EMPTY_OBJ){const _=currentInstance;let re,ie=!1,pe=!1;if(isRef(n)?(re=()=>n.value,ie=isShallow(n)):isReactive(n)?(re=()=>n,i=!0):isArray(n)?(pe=!0,ie=n.some(isReactive),re=()=>n.map(rr=>{if(isRef(rr))return rr.value;if(isReactive(rr))return traverse(rr);if(isFunction(rr))return callWithErrorHandling(rr,_,2)})):isFunction(n)?e?re=()=>callWithErrorHandling(n,_,2):re=()=>{if(!(_&&_.isUnmounted))return ye&&ye(),callWithAsyncErrorHandling(n,_,3,[yt])}:re=NOOP,e&&i){const rr=re;re=()=>traverse(rr())}let ye,yt=rr=>{ye=xn.onStop=()=>{callWithErrorHandling(rr,_,4)}};if(isInSSRComponentSetup)return yt=NOOP,e?r&&callWithAsyncErrorHandling(e,_,3,[re(),pe?[]:void 0,yt]):re(),NOOP;let Yt=pe?[]:INITIAL_WATCHER_VALUE;const Xt=()=>{if(!!xn.active)if(e){const rr=xn.run();(i||ie||(pe?rr.some((lr,sr)=>hasChanged(lr,Yt[sr])):hasChanged(rr,Yt)))&&(ye&&ye(),callWithAsyncErrorHandling(e,_,3,[rr,Yt===INITIAL_WATCHER_VALUE?void 0:Yt,yt]),Yt=rr)}else xn.run()};Xt.allowRecurse=!!e;let Cn;o==="sync"?Cn=Xt:o==="post"?Cn=()=>queuePostRenderEffect(Xt,_&&_.suspense):Cn=()=>{!_||_.isMounted?queuePreFlushCb(Xt):Xt()};const xn=new ReactiveEffect(re,Cn);return e?r?Xt():Yt=xn.run():o==="post"?queuePostRenderEffect(xn.run.bind(xn),_&&_.suspense):xn.run(),()=>{xn.stop(),_&&_.scope&&remove$1(_.scope.effects,xn)}}function instanceWatch(n,e,r){const i=this.proxy,o=isString(n)?n.includes(".")?createPathGetter(i,n):()=>i[n]:n.bind(i,i);let f;isFunction(e)?f=e:(f=e.handler,r=e);const m=currentInstance;setCurrentInstance(this);const _=doWatch(o,f.bind(i),r);return m?setCurrentInstance(m):unsetCurrentInstance(),_}function createPathGetter(n,e){const r=e.split(".");return()=>{let i=n;for(let o=0;o<r.length&&i;o++)i=i[r[o]];return i}}function traverse(n,e){if(!isObject$1(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),isRef(n))traverse(n.value,e);else if(isArray(n))for(let r=0;r<n.length;r++)traverse(n[r],e);else if(isSet(n)||isMap(n))n.forEach(r=>{traverse(r,e)});else if(isPlainObject(n))for(const r in n)traverse(n[r],e);return n}function useTransitionState(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{n.isMounted=!0}),onBeforeUnmount(()=>{n.isUnmounting=!0}),n}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(n,{slots:e}){const r=getCurrentInstance(),i=useTransitionState();let o;return()=>{const f=e.default&&getTransitionRawChildren(e.default(),!0);if(!f||!f.length)return;let m=f[0];if(f.length>1){for(const Cn of f)if(Cn.type!==Comment){m=Cn;break}}const _=toRaw(n),{mode:re}=_;if(i.isLeaving)return emptyPlaceholder(m);const ie=getKeepAliveChild(m);if(!ie)return emptyPlaceholder(m);const pe=resolveTransitionHooks(ie,_,i,r);setTransitionHooks(ie,pe);const ye=r.subTree,yt=ye&&getKeepAliveChild(ye);let Yt=!1;const{getTransitionKey:Xt}=ie.type;if(Xt){const Cn=Xt();o===void 0?o=Cn:Cn!==o&&(o=Cn,Yt=!0)}if(yt&&yt.type!==Comment&&(!isSameVNodeType(ie,yt)||Yt)){const Cn=resolveTransitionHooks(yt,_,i,r);if(setTransitionHooks(yt,Cn),re==="out-in")return i.isLeaving=!0,Cn.afterLeave=()=>{i.isLeaving=!1,r.update()},emptyPlaceholder(m);re==="in-out"&&ie.type!==Comment&&(Cn.delayLeave=(xn,rr,lr)=>{const sr=getLeavingNodesForType(i,yt);sr[String(yt.key)]=yt,xn._leaveCb=()=>{rr(),xn._leaveCb=void 0,delete pe.delayedLeave},pe.delayedLeave=lr})}return m}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(n,e){const{leavingVNodes:r}=n;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function resolveTransitionHooks(n,e,r,i){const{appear:o,mode:f,persisted:m=!1,onBeforeEnter:_,onEnter:re,onAfterEnter:ie,onEnterCancelled:pe,onBeforeLeave:ye,onLeave:yt,onAfterLeave:Yt,onLeaveCancelled:Xt,onBeforeAppear:Cn,onAppear:xn,onAfterAppear:rr,onAppearCancelled:lr}=e,sr=String(n.key),mr=getLeavingNodesForType(r,n),Sr=(wr,zr)=>{wr&&callWithAsyncErrorHandling(wr,i,9,zr)},Mr={mode:f,persisted:m,beforeEnter(wr){let zr=_;if(!r.isMounted)if(o)zr=Cn||_;else return;wr._leaveCb&&wr._leaveCb(!0);const Kr=mr[sr];Kr&&isSameVNodeType(n,Kr)&&Kr.el._leaveCb&&Kr.el._leaveCb(),Sr(zr,[wr])},enter(wr){let zr=re,Kr=ie,li=pe;if(!r.isMounted)if(o)zr=xn||re,Kr=rr||ie,li=lr||pe;else return;let si=!1;const gr=wr._enterCb=Xr=>{si||(si=!0,Xr?Sr(li,[wr]):Sr(Kr,[wr]),Mr.delayedLeave&&Mr.delayedLeave(),wr._enterCb=void 0)};zr?(zr(wr,gr),zr.length<=1&&gr()):gr()},leave(wr,zr){const Kr=String(n.key);if(wr._enterCb&&wr._enterCb(!0),r.isUnmounting)return zr();Sr(ye,[wr]);let li=!1;const si=wr._leaveCb=gr=>{li||(li=!0,zr(),gr?Sr(Xt,[wr]):Sr(Yt,[wr]),wr._leaveCb=void 0,mr[Kr]===n&&delete mr[Kr])};mr[Kr]=n,yt?(yt(wr,si),yt.length<=1&&si()):si()},clone(wr){return resolveTransitionHooks(wr,e,r,i)}};return Mr}function emptyPlaceholder(n){if(isKeepAlive(n))return n=cloneVNode(n),n.children=null,n}function getKeepAliveChild(n){return isKeepAlive(n)?n.children?n.children[0]:void 0:n}function setTransitionHooks(n,e){n.shapeFlag&6&&n.component?setTransitionHooks(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function getTransitionRawChildren(n,e=!1,r){let i=[],o=0;for(let f=0;f<n.length;f++){let m=n[f];const _=r==null?m.key:String(r)+String(m.key!=null?m.key:f);m.type===Fragment?(m.patchFlag&128&&o++,i=i.concat(getTransitionRawChildren(m.children,e,_))):(e||m.type!==Comment)&&i.push(_!=null?cloneVNode(m,{key:_}):m)}if(o>1)for(let f=0;f<i.length;f++)i[f].patchFlag=-2;return i}function defineComponent(n){return isFunction(n)?{setup:n,name:n.name}:n}const isAsyncWrapper=n=>!!n.type.__asyncLoader,isKeepAlive=n=>n.type.__isKeepAlive;function onActivated(n,e){registerKeepAliveHook(n,"a",e)}function onDeactivated(n,e){registerKeepAliveHook(n,"da",e)}function registerKeepAliveHook(n,e,r=currentInstance){const i=n.__wdc||(n.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(injectHook(e,i,r),r){let o=r.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(i,e,r,o),o=o.parent}}function injectToKeepAliveRoot(n,e,r,i){const o=injectHook(e,n,i,!0);onUnmounted(()=>{remove$1(i[e],o)},r)}function injectHook(n,e,r=currentInstance,i=!1){if(r){const o=r[n]||(r[n]=[]),f=e.__weh||(e.__weh=(...m)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const _=callWithAsyncErrorHandling(e,r,n,m);return unsetCurrentInstance(),resetTracking(),_});return i?o.unshift(f):o.push(f),f}}const createHook=n=>(e,r=currentInstance)=>(!isInSSRComponentSetup||n==="sp")&&injectHook(n,e,r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(n,e=currentInstance){injectHook("ec",n,e)}let shouldCacheAccess=!0;function applyOptions(n){const e=resolveMergedOptions(n),r=n.proxy,i=n.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,n,"bc");const{data:o,computed:f,methods:m,watch:_,provide:re,inject:ie,created:pe,beforeMount:ye,mounted:yt,beforeUpdate:Yt,updated:Xt,activated:Cn,deactivated:xn,beforeDestroy:rr,beforeUnmount:lr,destroyed:sr,unmounted:mr,render:Sr,renderTracked:Mr,renderTriggered:wr,errorCaptured:zr,serverPrefetch:Kr,expose:li,inheritAttrs:si,components:gr,directives:Xr,filters:Si}=e;if(ie&&resolveInjections(ie,i,null,n.appContext.config.unwrapInjectedRef),m)for(const Ur in m){const Dr=m[Ur];isFunction(Dr)&&(i[Ur]=Dr.bind(r))}if(o){const Ur=o.call(r,r);isObject$1(Ur)&&(n.data=reactive(Ur))}if(shouldCacheAccess=!0,f)for(const Ur in f){const Dr=f[Ur],zi=isFunction(Dr)?Dr.bind(r,r):isFunction(Dr.get)?Dr.get.bind(r,r):NOOP,Js=!isFunction(Dr)&&isFunction(Dr.set)?Dr.set.bind(r):NOOP,hi=computed({get:zi,set:Js});Object.defineProperty(i,Ur,{enumerable:!0,configurable:!0,get:()=>hi.value,set:Zs=>hi.value=Zs})}if(_)for(const Ur in _)createWatcher(_[Ur],i,r,Ur);if(re){const Ur=isFunction(re)?re.call(r):re;Reflect.ownKeys(Ur).forEach(Dr=>{provide(Dr,Ur[Dr])})}pe&&callHook$1(pe,n,"c");function ni(Ur,Dr){isArray(Dr)?Dr.forEach(zi=>Ur(zi.bind(r))):Dr&&Ur(Dr.bind(r))}if(ni(onBeforeMount,ye),ni(onMounted,yt),ni(onBeforeUpdate,Yt),ni(onUpdated,Xt),ni(onActivated,Cn),ni(onDeactivated,xn),ni(onErrorCaptured,zr),ni(onRenderTracked,Mr),ni(onRenderTriggered,wr),ni(onBeforeUnmount,lr),ni(onUnmounted,mr),ni(onServerPrefetch,Kr),isArray(li))if(li.length){const Ur=n.exposed||(n.exposed={});li.forEach(Dr=>{Object.defineProperty(Ur,Dr,{get:()=>r[Dr],set:zi=>r[Dr]=zi})})}else n.exposed||(n.exposed={});Sr&&n.render===NOOP&&(n.render=Sr),si!=null&&(n.inheritAttrs=si),gr&&(n.components=gr),Xr&&(n.directives=Xr)}function resolveInjections(n,e,r=NOOP,i=!1){isArray(n)&&(n=normalizeInject(n));for(const o in n){const f=n[o];let m;isObject$1(f)?"default"in f?m=inject(f.from||o,f.default,!0):m=inject(f.from||o):m=inject(f),isRef(m)&&i?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>m.value,set:_=>m.value=_}):e[o]=m}}function callHook$1(n,e,r){callWithAsyncErrorHandling(isArray(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,r)}function createWatcher(n,e,r,i){const o=i.includes(".")?createPathGetter(r,i):()=>r[i];if(isString(n)){const f=e[n];isFunction(f)&&watch(o,f)}else if(isFunction(n))watch(o,n.bind(r));else if(isObject$1(n))if(isArray(n))n.forEach(f=>createWatcher(f,e,r,i));else{const f=isFunction(n.handler)?n.handler.bind(r):e[n.handler];isFunction(f)&&watch(o,f,n)}}function resolveMergedOptions(n){const e=n.type,{mixins:r,extends:i}=e,{mixins:o,optionsCache:f,config:{optionMergeStrategies:m}}=n.appContext,_=f.get(e);let re;return _?re=_:!o.length&&!r&&!i?re=e:(re={},o.length&&o.forEach(ie=>mergeOptions(re,ie,m,!0)),mergeOptions(re,e,m)),f.set(e,re),re}function mergeOptions(n,e,r,i=!1){const{mixins:o,extends:f}=e;f&&mergeOptions(n,f,r,!0),o&&o.forEach(m=>mergeOptions(n,m,r,!0));for(const m in e)if(!(i&&m==="expose")){const _=internalOptionMergeStrats[m]||r&&r[m];n[m]=_?_(n[m],e[m]):e[m]}return n}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(n,e){return e?n?function(){return extend(isFunction(n)?n.call(this,this):n,isFunction(e)?e.call(this,this):e)}:e:n}function mergeInject(n,e){return mergeObjectOptions(normalizeInject(n),normalizeInject(e))}function normalizeInject(n){if(isArray(n)){const e={};for(let r=0;r<n.length;r++)e[n[r]]=n[r];return e}return n}function mergeAsArray(n,e){return n?[...new Set([].concat(n,e))]:e}function mergeObjectOptions(n,e){return n?extend(extend(Object.create(null),n),e):e}function mergeWatchOptions(n,e){if(!n)return e;if(!e)return n;const r=extend(Object.create(null),n);for(const i in e)r[i]=mergeAsArray(n[i],e[i]);return r}function initProps(n,e,r,i=!1){const o={},f={};def(f,InternalObjectKey,1),n.propsDefaults=Object.create(null),setFullProps(n,e,o,f);for(const m in n.propsOptions[0])m in o||(o[m]=void 0);r?n.props=i?o:shallowReactive(o):n.type.props?n.props=o:n.props=f,n.attrs=f}function updateProps(n,e,r,i){const{props:o,attrs:f,vnode:{patchFlag:m}}=n,_=toRaw(o),[re]=n.propsOptions;let ie=!1;if((i||m>0)&&!(m&16)){if(m&8){const pe=n.vnode.dynamicProps;for(let ye=0;ye<pe.length;ye++){let yt=pe[ye];if(isEmitListener(n.emitsOptions,yt))continue;const Yt=e[yt];if(re)if(hasOwn(f,yt))Yt!==f[yt]&&(f[yt]=Yt,ie=!0);else{const Xt=camelize(yt);o[Xt]=resolvePropValue(re,_,Xt,Yt,n,!1)}else Yt!==f[yt]&&(f[yt]=Yt,ie=!0)}}}else{setFullProps(n,e,o,f)&&(ie=!0);let pe;for(const ye in _)(!e||!hasOwn(e,ye)&&((pe=hyphenate(ye))===ye||!hasOwn(e,pe)))&&(re?r&&(r[ye]!==void 0||r[pe]!==void 0)&&(o[ye]=resolvePropValue(re,_,ye,void 0,n,!0)):delete o[ye]);if(f!==_)for(const ye in f)(!e||!hasOwn(e,ye)&&!0)&&(delete f[ye],ie=!0)}ie&&trigger$1(n,"set","$attrs")}function setFullProps(n,e,r,i){const[o,f]=n.propsOptions;let m=!1,_;if(e)for(let re in e){if(isReservedProp(re))continue;const ie=e[re];let pe;o&&hasOwn(o,pe=camelize(re))?!f||!f.includes(pe)?r[pe]=ie:(_||(_={}))[pe]=ie:isEmitListener(n.emitsOptions,re)||(!(re in i)||ie!==i[re])&&(i[re]=ie,m=!0)}if(f){const re=toRaw(r),ie=_||EMPTY_OBJ;for(let pe=0;pe<f.length;pe++){const ye=f[pe];r[ye]=resolvePropValue(o,re,ye,ie[ye],n,!hasOwn(ie,ye))}}return m}function resolvePropValue(n,e,r,i,o,f){const m=n[r];if(m!=null){const _=hasOwn(m,"default");if(_&&i===void 0){const re=m.default;if(m.type!==Function&&isFunction(re)){const{propsDefaults:ie}=o;r in ie?i=ie[r]:(setCurrentInstance(o),i=ie[r]=re.call(null,e),unsetCurrentInstance())}else i=re}m[0]&&(f&&!_?i=!1:m[1]&&(i===""||i===hyphenate(r))&&(i=!0))}return i}function normalizePropsOptions(n,e,r=!1){const i=e.propsCache,o=i.get(n);if(o)return o;const f=n.props,m={},_=[];let re=!1;if(!isFunction(n)){const pe=ye=>{re=!0;const[yt,Yt]=normalizePropsOptions(ye,e,!0);extend(m,yt),Yt&&_.push(...Yt)};!r&&e.mixins.length&&e.mixins.forEach(pe),n.extends&&pe(n.extends),n.mixins&&n.mixins.forEach(pe)}if(!f&&!re)return i.set(n,EMPTY_ARR),EMPTY_ARR;if(isArray(f))for(let pe=0;pe<f.length;pe++){const ye=camelize(f[pe]);validatePropName(ye)&&(m[ye]=EMPTY_OBJ)}else if(f)for(const pe in f){const ye=camelize(pe);if(validatePropName(ye)){const yt=f[pe],Yt=m[ye]=isArray(yt)||isFunction(yt)?{type:yt}:yt;if(Yt){const Xt=getTypeIndex(Boolean,Yt.type),Cn=getTypeIndex(String,Yt.type);Yt[0]=Xt>-1,Yt[1]=Cn<0||Xt<Cn,(Xt>-1||hasOwn(Yt,"default"))&&_.push(ye)}}}const ie=[m,_];return i.set(n,ie),ie}function validatePropName(n){return n[0]!=="$"}function getType(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function isSameType(n,e){return getType(n)===getType(e)}function getTypeIndex(n,e){return isArray(e)?e.findIndex(r=>isSameType(r,n)):isFunction(e)&&isSameType(e,n)?0:-1}const isInternalKey=n=>n[0]==="_"||n==="$stable",normalizeSlotValue=n=>isArray(n)?n.map(normalizeVNode):[normalizeVNode(n)],normalizeSlot=(n,e,r)=>{const i=withCtx((...o)=>normalizeSlotValue(e(...o)),r);return i._c=!1,i},normalizeObjectSlots=(n,e,r)=>{const i=n._ctx;for(const o in n){if(isInternalKey(o))continue;const f=n[o];if(isFunction(f))e[o]=normalizeSlot(o,f,i);else if(f!=null){const m=normalizeSlotValue(f);e[o]=()=>m}}},normalizeVNodeSlots=(n,e)=>{const r=normalizeSlotValue(e);n.slots.default=()=>r},initSlots=(n,e)=>{if(n.vnode.shapeFlag&32){const r=e._;r?(n.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,n.slots={})}else n.slots={},e&&normalizeVNodeSlots(n,e);def(n.slots,InternalObjectKey,1)},updateSlots=(n,e,r)=>{const{vnode:i,slots:o}=n;let f=!0,m=EMPTY_OBJ;if(i.shapeFlag&32){const _=e._;_?r&&_===1?f=!1:(extend(o,e),!r&&_===1&&delete o._):(f=!e.$stable,normalizeObjectSlots(e,o)),m=e}else e&&(normalizeVNodeSlots(n,e),m={default:1});if(f)for(const _ in o)!isInternalKey(_)&&!(_ in m)&&delete o[_]};function withDirectives(n,e){const r=currentRenderingInstance;if(r===null)return n;const i=getExposeProxy(r)||r.proxy,o=n.dirs||(n.dirs=[]);for(let f=0;f<e.length;f++){let[m,_,re,ie=EMPTY_OBJ]=e[f];isFunction(m)&&(m={mounted:m,updated:m}),m.deep&&traverse(_),o.push({dir:m,instance:i,value:_,oldValue:void 0,arg:re,modifiers:ie})}return n}function invokeDirectiveHook(n,e,r,i){const o=n.dirs,f=e&&e.dirs;for(let m=0;m<o.length;m++){const _=o[m];f&&(_.oldValue=f[m].value);let re=_.dir[i];re&&(pauseTracking(),callWithAsyncErrorHandling(re,r,8,[n.el,_,n,e]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(n,e){return function(i,o=null){isFunction(i)||(i=Object.assign({},i)),o!=null&&!isObject$1(o)&&(o=null);const f=createAppContext(),m=new Set;let _=!1;const re=f.app={_uid:uid++,_component:i,_props:o,_container:null,_context:f,_instance:null,version:version$4,get config(){return f.config},set config(ie){},use(ie,...pe){return m.has(ie)||(ie&&isFunction(ie.install)?(m.add(ie),ie.install(re,...pe)):isFunction(ie)&&(m.add(ie),ie(re,...pe))),re},mixin(ie){return f.mixins.includes(ie)||f.mixins.push(ie),re},component(ie,pe){return pe?(f.components[ie]=pe,re):f.components[ie]},directive(ie,pe){return pe?(f.directives[ie]=pe,re):f.directives[ie]},mount(ie,pe,ye){if(!_){const yt=createVNode(i,o);return yt.appContext=f,pe&&e?e(yt,ie):n(yt,ie,ye),_=!0,re._container=ie,ie.__vue_app__=re,getExposeProxy(yt.component)||yt.component.proxy}},unmount(){_&&(n(null,re._container),delete re._container.__vue_app__)},provide(ie,pe){return f.provides[ie]=pe,re}};return re}}function setRef(n,e,r,i,o=!1){if(isArray(n)){n.forEach((yt,Yt)=>setRef(yt,e&&(isArray(e)?e[Yt]:e),r,i,o));return}if(isAsyncWrapper(i)&&!o)return;const f=i.shapeFlag&4?getExposeProxy(i.component)||i.component.proxy:i.el,m=o?null:f,{i:_,r:re}=n,ie=e&&e.r,pe=_.refs===EMPTY_OBJ?_.refs={}:_.refs,ye=_.setupState;if(ie!=null&&ie!==re&&(isString(ie)?(pe[ie]=null,hasOwn(ye,ie)&&(ye[ie]=null)):isRef(ie)&&(ie.value=null)),isFunction(re))callWithErrorHandling(re,_,12,[m,pe]);else{const yt=isString(re),Yt=isRef(re);if(yt||Yt){const Xt=()=>{if(n.f){const Cn=yt?pe[re]:re.value;o?isArray(Cn)&&remove$1(Cn,f):isArray(Cn)?Cn.includes(f)||Cn.push(f):yt?(pe[re]=[f],hasOwn(ye,re)&&(ye[re]=pe[re])):(re.value=[f],n.k&&(pe[n.k]=re.value))}else yt?(pe[re]=m,hasOwn(ye,re)&&(ye[re]=m)):isRef(re)&&(re.value=m,n.k&&(pe[n.k]=m))};m?(Xt.id=-1,queuePostRenderEffect(Xt,r)):Xt()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(n){return baseCreateRenderer(n)}function baseCreateRenderer(n,e){const r=getGlobalThis();r.__VUE__=!0;const{insert:i,remove:o,patchProp:f,createElement:m,createText:_,createComment:re,setText:ie,setElementText:pe,parentNode:ye,nextSibling:yt,setScopeId:Yt=NOOP,cloneNode:Xt,insertStaticContent:Cn}=n,xn=(et,gt,Zt,Gn=null,An=null,nr=null,or=!1,tr=null,er=!!gt.dynamicChildren)=>{if(et===gt)return;et&&!isSameVNodeType(et,gt)&&(Gn=ps(et),Zi(et,An,nr,!0),et=null),gt.patchFlag===-2&&(er=!1,gt.dynamicChildren=null);const{type:Jn,ref:pr,shapeFlag:ur}=gt;switch(Jn){case Text:rr(et,gt,Zt,Gn);break;case Comment:lr(et,gt,Zt,Gn);break;case Static:et==null&&sr(gt,Zt,Gn,or);break;case Fragment:Xr(et,gt,Zt,Gn,An,nr,or,tr,er);break;default:ur&1?Mr(et,gt,Zt,Gn,An,nr,or,tr,er):ur&6?Si(et,gt,Zt,Gn,An,nr,or,tr,er):(ur&64||ur&128)&&Jn.process(et,gt,Zt,Gn,An,nr,or,tr,er,go)}pr!=null&&An&&setRef(pr,et&&et.ref,nr,gt||et,!gt)},rr=(et,gt,Zt,Gn)=>{if(et==null)i(gt.el=_(gt.children),Zt,Gn);else{const An=gt.el=et.el;gt.children!==et.children&&ie(An,gt.children)}},lr=(et,gt,Zt,Gn)=>{et==null?i(gt.el=re(gt.children||""),Zt,Gn):gt.el=et.el},sr=(et,gt,Zt,Gn)=>{[et.el,et.anchor]=Cn(et.children,gt,Zt,Gn,et.el,et.anchor)},mr=({el:et,anchor:gt},Zt,Gn)=>{let An;for(;et&&et!==gt;)An=yt(et),i(et,Zt,Gn),et=An;i(gt,Zt,Gn)},Sr=({el:et,anchor:gt})=>{let Zt;for(;et&&et!==gt;)Zt=yt(et),o(et),et=Zt;o(gt)},Mr=(et,gt,Zt,Gn,An,nr,or,tr,er)=>{or=or||gt.type==="svg",et==null?wr(gt,Zt,Gn,An,nr,or,tr,er):li(et,gt,An,nr,or,tr,er)},wr=(et,gt,Zt,Gn,An,nr,or,tr)=>{let er,Jn;const{type:pr,props:ur,shapeFlag:dr,transition:Er,patchFlag:xr,dirs:Pr}=et;if(et.el&&Xt!==void 0&&xr===-1)er=et.el=Xt(et.el);else{if(er=et.el=m(et.type,nr,ur&&ur.is,ur),dr&8?pe(er,et.children):dr&16&&Kr(et.children,er,null,Gn,An,nr&&pr!=="foreignObject",or,tr),Pr&&invokeDirectiveHook(et,null,Gn,"created"),ur){for(const Hr in ur)Hr!=="value"&&!isReservedProp(Hr)&&f(er,Hr,null,ur[Hr],nr,et.children,Gn,An,ji);"value"in ur&&f(er,"value",null,ur.value),(Jn=ur.onVnodeBeforeMount)&&invokeVNodeHook(Jn,Gn,et)}zr(er,et,et.scopeId,or,Gn)}Pr&&invokeDirectiveHook(et,null,Gn,"beforeMount");const Fr=(!An||An&&!An.pendingBranch)&&Er&&!Er.persisted;Fr&&Er.beforeEnter(er),i(er,gt,Zt),((Jn=ur&&ur.onVnodeMounted)||Fr||Pr)&&queuePostRenderEffect(()=>{Jn&&invokeVNodeHook(Jn,Gn,et),Fr&&Er.enter(er),Pr&&invokeDirectiveHook(et,null,Gn,"mounted")},An)},zr=(et,gt,Zt,Gn,An)=>{if(Zt&&Yt(et,Zt),Gn)for(let nr=0;nr<Gn.length;nr++)Yt(et,Gn[nr]);if(An){let nr=An.subTree;if(gt===nr){const or=An.vnode;zr(et,or,or.scopeId,or.slotScopeIds,An.parent)}}},Kr=(et,gt,Zt,Gn,An,nr,or,tr,er=0)=>{for(let Jn=er;Jn<et.length;Jn++){const pr=et[Jn]=tr?cloneIfMounted(et[Jn]):normalizeVNode(et[Jn]);xn(null,pr,gt,Zt,Gn,An,nr,or,tr)}},li=(et,gt,Zt,Gn,An,nr,or)=>{const tr=gt.el=et.el;let{patchFlag:er,dynamicChildren:Jn,dirs:pr}=gt;er|=et.patchFlag&16;const ur=et.props||EMPTY_OBJ,dr=gt.props||EMPTY_OBJ;let Er;Zt&&toggleRecurse(Zt,!1),(Er=dr.onVnodeBeforeUpdate)&&invokeVNodeHook(Er,Zt,gt,et),pr&&invokeDirectiveHook(gt,et,Zt,"beforeUpdate"),Zt&&toggleRecurse(Zt,!0);const xr=An&&gt.type!=="foreignObject";if(Jn?si(et.dynamicChildren,Jn,tr,Zt,Gn,xr,nr):or||zi(et,gt,tr,null,Zt,Gn,xr,nr,!1),er>0){if(er&16)gr(tr,gt,ur,dr,Zt,Gn,An);else if(er&2&&ur.class!==dr.class&&f(tr,"class",null,dr.class,An),er&4&&f(tr,"style",ur.style,dr.style,An),er&8){const Pr=gt.dynamicProps;for(let Fr=0;Fr<Pr.length;Fr++){const Hr=Pr[Fr],mi=ur[Hr],ws=dr[Hr];(ws!==mi||Hr==="value")&&f(tr,Hr,mi,ws,An,et.children,Zt,Gn,ji)}}er&1&&et.children!==gt.children&&pe(tr,gt.children)}else!or&&Jn==null&&gr(tr,gt,ur,dr,Zt,Gn,An);((Er=dr.onVnodeUpdated)||pr)&&queuePostRenderEffect(()=>{Er&&invokeVNodeHook(Er,Zt,gt,et),pr&&invokeDirectiveHook(gt,et,Zt,"updated")},Gn)},si=(et,gt,Zt,Gn,An,nr,or)=>{for(let tr=0;tr<gt.length;tr++){const er=et[tr],Jn=gt[tr],pr=er.el&&(er.type===Fragment||!isSameVNodeType(er,Jn)||er.shapeFlag&70)?ye(er.el):Zt;xn(er,Jn,pr,null,Gn,An,nr,or,!0)}},gr=(et,gt,Zt,Gn,An,nr,or)=>{if(Zt!==Gn){for(const tr in Gn){if(isReservedProp(tr))continue;const er=Gn[tr],Jn=Zt[tr];er!==Jn&&tr!=="value"&&f(et,tr,Jn,er,or,gt.children,An,nr,ji)}if(Zt!==EMPTY_OBJ)for(const tr in Zt)!isReservedProp(tr)&&!(tr in Gn)&&f(et,tr,Zt[tr],null,or,gt.children,An,nr,ji);"value"in Gn&&f(et,"value",Zt.value,Gn.value)}},Xr=(et,gt,Zt,Gn,An,nr,or,tr,er)=>{const Jn=gt.el=et?et.el:_(""),pr=gt.anchor=et?et.anchor:_("");let{patchFlag:ur,dynamicChildren:dr,slotScopeIds:Er}=gt;Er&&(tr=tr?tr.concat(Er):Er),et==null?(i(Jn,Zt,Gn),i(pr,Zt,Gn),Kr(gt.children,Zt,pr,An,nr,or,tr,er)):ur>0&&ur&64&&dr&&et.dynamicChildren?(si(et.dynamicChildren,dr,Zt,An,nr,or,tr),(gt.key!=null||An&&gt===An.subTree)&&traverseStaticChildren(et,gt,!0)):zi(et,gt,Zt,pr,An,nr,or,tr,er)},Si=(et,gt,Zt,Gn,An,nr,or,tr,er)=>{gt.slotScopeIds=tr,et==null?gt.shapeFlag&512?An.ctx.activate(gt,Zt,Gn,or,er):Xs(gt,Zt,Gn,An,nr,or,er):ni(et,gt,er)},Xs=(et,gt,Zt,Gn,An,nr,or)=>{const tr=et.component=createComponentInstance(et,Gn,An);if(isKeepAlive(et)&&(tr.ctx.renderer=go),setupComponent(tr),tr.asyncDep){if(An&&An.registerDep(tr,Ur),!et.el){const er=tr.subTree=createVNode(Comment);lr(null,er,gt,Zt)}return}Ur(tr,et,gt,Zt,An,nr,or)},ni=(et,gt,Zt)=>{const Gn=gt.component=et.component;if(shouldUpdateComponent(et,gt,Zt))if(Gn.asyncDep&&!Gn.asyncResolved){Dr(Gn,gt,Zt);return}else Gn.next=gt,invalidateJob(Gn.update),Gn.update();else gt.component=et.component,gt.el=et.el,Gn.vnode=gt},Ur=(et,gt,Zt,Gn,An,nr,or)=>{const tr=()=>{if(et.isMounted){let{next:pr,bu:ur,u:dr,parent:Er,vnode:xr}=et,Pr=pr,Fr;toggleRecurse(et,!1),pr?(pr.el=xr.el,Dr(et,pr,or)):pr=xr,ur&&invokeArrayFns(ur),(Fr=pr.props&&pr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Fr,Er,pr,xr),toggleRecurse(et,!0);const Hr=renderComponentRoot(et),mi=et.subTree;et.subTree=Hr,xn(mi,Hr,ye(mi.el),ps(mi),et,An,nr),pr.el=Hr.el,Pr===null&&updateHOCHostEl(et,Hr.el),dr&&queuePostRenderEffect(dr,An),(Fr=pr.props&&pr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Fr,Er,pr,xr),An)}else{let pr;const{el:ur,props:dr}=gt,{bm:Er,m:xr,parent:Pr}=et,Fr=isAsyncWrapper(gt);if(toggleRecurse(et,!1),Er&&invokeArrayFns(Er),!Fr&&(pr=dr&&dr.onVnodeBeforeMount)&&invokeVNodeHook(pr,Pr,gt),toggleRecurse(et,!0),ur&&_o){const Hr=()=>{et.subTree=renderComponentRoot(et),_o(ur,et.subTree,et,An,null)};Fr?gt.type.__asyncLoader().then(()=>!et.isUnmounted&&Hr()):Hr()}else{const Hr=et.subTree=renderComponentRoot(et);xn(null,Hr,Zt,Gn,et,An,nr),gt.el=Hr.el}if(xr&&queuePostRenderEffect(xr,An),!Fr&&(pr=dr&&dr.onVnodeMounted)){const Hr=gt;queuePostRenderEffect(()=>invokeVNodeHook(pr,Pr,Hr),An)}gt.shapeFlag&256&&et.a&&queuePostRenderEffect(et.a,An),et.isMounted=!0,gt=Zt=Gn=null}},er=et.effect=new ReactiveEffect(tr,()=>queueJob(et.update),et.scope),Jn=et.update=er.run.bind(er);Jn.id=et.uid,toggleRecurse(et,!0),Jn()},Dr=(et,gt,Zt)=>{gt.component=et;const Gn=et.vnode.props;et.vnode=gt,et.next=null,updateProps(et,gt.props,Gn,Zt),updateSlots(et,gt.children,Zt),pauseTracking(),flushPreFlushCbs(void 0,et.update),resetTracking()},zi=(et,gt,Zt,Gn,An,nr,or,tr,er=!1)=>{const Jn=et&&et.children,pr=et?et.shapeFlag:0,ur=gt.children,{patchFlag:dr,shapeFlag:Er}=gt;if(dr>0){if(dr&128){hi(Jn,ur,Zt,Gn,An,nr,or,tr,er);return}else if(dr&256){Js(Jn,ur,Zt,Gn,An,nr,or,tr,er);return}}Er&8?(pr&16&&ji(Jn,An,nr),ur!==Jn&&pe(Zt,ur)):pr&16?Er&16?hi(Jn,ur,Zt,Gn,An,nr,or,tr,er):ji(Jn,An,nr,!0):(pr&8&&pe(Zt,""),Er&16&&Kr(ur,Zt,Gn,An,nr,or,tr,er))},Js=(et,gt,Zt,Gn,An,nr,or,tr,er)=>{et=et||EMPTY_ARR,gt=gt||EMPTY_ARR;const Jn=et.length,pr=gt.length,ur=Math.min(Jn,pr);let dr;for(dr=0;dr<ur;dr++){const Er=gt[dr]=er?cloneIfMounted(gt[dr]):normalizeVNode(gt[dr]);xn(et[dr],Er,Zt,null,An,nr,or,tr,er)}Jn>pr?ji(et,An,nr,!0,!1,ur):Kr(gt,Zt,Gn,An,nr,or,tr,er,ur)},hi=(et,gt,Zt,Gn,An,nr,or,tr,er)=>{let Jn=0;const pr=gt.length;let ur=et.length-1,dr=pr-1;for(;Jn<=ur&&Jn<=dr;){const Er=et[Jn],xr=gt[Jn]=er?cloneIfMounted(gt[Jn]):normalizeVNode(gt[Jn]);if(isSameVNodeType(Er,xr))xn(Er,xr,Zt,null,An,nr,or,tr,er);else break;Jn++}for(;Jn<=ur&&Jn<=dr;){const Er=et[ur],xr=gt[dr]=er?cloneIfMounted(gt[dr]):normalizeVNode(gt[dr]);if(isSameVNodeType(Er,xr))xn(Er,xr,Zt,null,An,nr,or,tr,er);else break;ur--,dr--}if(Jn>ur){if(Jn<=dr){const Er=dr+1,xr=Er<pr?gt[Er].el:Gn;for(;Jn<=dr;)xn(null,gt[Jn]=er?cloneIfMounted(gt[Jn]):normalizeVNode(gt[Jn]),Zt,xr,An,nr,or,tr,er),Jn++}}else if(Jn>dr)for(;Jn<=ur;)Zi(et[Jn],An,nr,!0),Jn++;else{const Er=Jn,xr=Jn,Pr=new Map;for(Jn=xr;Jn<=dr;Jn++){const ai=gt[Jn]=er?cloneIfMounted(gt[Jn]):normalizeVNode(gt[Jn]);ai.key!=null&&Pr.set(ai.key,Jn)}let Fr,Hr=0;const mi=dr-xr+1;let ws=!1,Iu=0;const Ds=new Array(mi);for(Jn=0;Jn<mi;Jn++)Ds[Jn]=0;for(Jn=Er;Jn<=ur;Jn++){const ai=et[Jn];if(Hr>=mi){Zi(ai,An,nr,!0);continue}let Ei;if(ai.key!=null)Ei=Pr.get(ai.key);else for(Fr=xr;Fr<=dr;Fr++)if(Ds[Fr-xr]===0&&isSameVNodeType(ai,gt[Fr])){Ei=Fr;break}Ei===void 0?Zi(ai,An,nr,!0):(Ds[Ei-xr]=Jn+1,Ei>=Iu?Iu=Ei:ws=!0,xn(ai,gt[Ei],Zt,null,An,nr,or,tr,er),Hr++)}const Au=ws?getSequence(Ds):EMPTY_ARR;for(Fr=Au.length-1,Jn=mi-1;Jn>=0;Jn--){const ai=xr+Jn,Ei=gt[ai],Rl=ai+1<pr?gt[ai+1].el:Gn;Ds[Jn]===0?xn(null,Ei,Zt,Rl,An,nr,or,tr,er):ws&&(Fr<0||Jn!==Au[Fr]?Zs(Ei,Zt,Rl,2):Fr--)}}},Zs=(et,gt,Zt,Gn,An=null)=>{const{el:nr,type:or,transition:tr,children:er,shapeFlag:Jn}=et;if(Jn&6){Zs(et.component.subTree,gt,Zt,Gn);return}if(Jn&128){et.suspense.move(gt,Zt,Gn);return}if(Jn&64){or.move(et,gt,Zt,go);return}if(or===Fragment){i(nr,gt,Zt);for(let ur=0;ur<er.length;ur++)Zs(er[ur],gt,Zt,Gn);i(et.anchor,gt,Zt);return}if(or===Static){mr(et,gt,Zt);return}if(Gn!==2&&Jn&1&&tr)if(Gn===0)tr.beforeEnter(nr),i(nr,gt,Zt),queuePostRenderEffect(()=>tr.enter(nr),An);else{const{leave:ur,delayLeave:dr,afterLeave:Er}=tr,xr=()=>i(nr,gt,Zt),Pr=()=>{ur(nr,()=>{xr(),Er&&Er()})};dr?dr(nr,xr,Pr):Pr()}else i(nr,gt,Zt)},Zi=(et,gt,Zt,Gn=!1,An=!1)=>{const{type:nr,props:or,ref:tr,children:er,dynamicChildren:Jn,shapeFlag:pr,patchFlag:ur,dirs:dr}=et;if(tr!=null&&setRef(tr,null,Zt,et,!0),pr&256){gt.ctx.deactivate(et);return}const Er=pr&1&&dr,xr=!isAsyncWrapper(et);let Pr;if(xr&&(Pr=or&&or.onVnodeBeforeUnmount)&&invokeVNodeHook(Pr,gt,et),pr&6)Tu(et.component,Zt,Gn);else{if(pr&128){et.suspense.unmount(Zt,Gn);return}Er&&invokeDirectiveHook(et,null,gt,"beforeUnmount"),pr&64?et.type.remove(et,gt,Zt,An,go,Gn):Jn&&(nr!==Fragment||ur>0&&ur&64)?ji(Jn,gt,Zt,!1,!0):(nr===Fragment&&ur&384||!An&&pr&16)&&ji(er,gt,Zt),Gn&&Sl(et)}(xr&&(Pr=or&&or.onVnodeUnmounted)||Er)&&queuePostRenderEffect(()=>{Pr&&invokeVNodeHook(Pr,gt,et),Er&&invokeDirectiveHook(et,null,gt,"unmounted")},Zt)},Sl=et=>{const{type:gt,el:Zt,anchor:Gn,transition:An}=et;if(gt===Fragment){ro(Zt,Gn);return}if(gt===Static){Sr(et);return}const nr=()=>{o(Zt),An&&!An.persisted&&An.afterLeave&&An.afterLeave()};if(et.shapeFlag&1&&An&&!An.persisted){const{leave:or,delayLeave:tr}=An,er=()=>or(Zt,nr);tr?tr(et.el,nr,er):er()}else nr()},ro=(et,gt)=>{let Zt;for(;et!==gt;)Zt=yt(et),o(et),et=Zt;o(gt)},Tu=(et,gt,Zt)=>{const{bum:Gn,scope:An,update:nr,subTree:or,um:tr}=et;Gn&&invokeArrayFns(Gn),An.stop(),nr&&(nr.active=!1,Zi(or,et,gt,Zt)),tr&&queuePostRenderEffect(tr,gt),queuePostRenderEffect(()=>{et.isUnmounted=!0},gt),gt&&gt.pendingBranch&&!gt.isUnmounted&&et.asyncDep&&!et.asyncResolved&&et.suspenseId===gt.pendingId&&(gt.deps--,gt.deps===0&&gt.resolve())},ji=(et,gt,Zt,Gn=!1,An=!1,nr=0)=>{for(let or=nr;or<et.length;or++)Zi(et[or],gt,Zt,Gn,An)},ps=et=>et.shapeFlag&6?ps(et.component.subTree):et.shapeFlag&128?et.suspense.next():yt(et.anchor||et.el),co=(et,gt,Zt)=>{et==null?gt._vnode&&Zi(gt._vnode,null,null,!0):xn(gt._vnode||null,et,gt,null,null,null,Zt),flushPostFlushCbs(),gt._vnode=et},go={p:xn,um:Zi,m:Zs,r:Sl,mt:Xs,mc:Kr,pc:zi,pbc:si,n:ps,o:n};let yo,_o;return e&&([yo,_o]=e(go)),{render:co,hydrate:yo,createApp:createAppAPI(co,yo)}}function toggleRecurse({effect:n,update:e},r){n.allowRecurse=e.allowRecurse=r}function traverseStaticChildren(n,e,r=!1){const i=n.children,o=e.children;if(isArray(i)&&isArray(o))for(let f=0;f<i.length;f++){const m=i[f];let _=o[f];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=o[f]=cloneIfMounted(o[f]),_.el=m.el),r||traverseStaticChildren(m,_))}}function getSequence(n){const e=n.slice(),r=[0];let i,o,f,m,_;const re=n.length;for(i=0;i<re;i++){const ie=n[i];if(ie!==0){if(o=r[r.length-1],n[o]<ie){e[i]=o,r.push(i);continue}for(f=0,m=r.length-1;f<m;)_=f+m>>1,n[r[_]]<ie?f=_+1:m=_;ie<n[r[f]]&&(f>0&&(e[i]=r[f-1]),r[f]=i)}}for(f=r.length,m=r[f-1];f-- >0;)r[f]=m,m=e[m];return r}const isTeleport=n=>n.__isTeleport,NULL_DYNAMIC_COMPONENT=Symbol(),Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(n=!1){blockStack.push(currentBlock=n?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(n){isBlockTreeEnabled+=n}function setupBlock(n){return n.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),n}function createElementBlock(n,e,r,i,o,f){return setupBlock(createBaseVNode(n,e,r,i,o,f,!0))}function createBlock(n,e,r,i,o){return setupBlock(createVNode(n,e,r,i,o,!0))}function isVNode(n){return n?n.__v_isVNode===!0:!1}function isSameVNodeType(n,e){return n.type===e.type&&n.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:n})=>n!=null?n:null,normalizeRef=({ref:n,ref_key:e,ref_for:r})=>n!=null?isString(n)||isRef(n)||isFunction(n)?{i:currentRenderingInstance,r:n,k:e,f:!!r}:n:null;function createBaseVNode(n,e=null,r=null,i=0,o=null,f=n===Fragment?0:1,m=!1,_=!1){const re={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return _?(normalizeChildren(re,r),f&128&&n.normalize(re)):r&&(re.shapeFlag|=isString(r)?8:16),isBlockTreeEnabled>0&&!m&&currentBlock&&(re.patchFlag>0||f&6)&&re.patchFlag!==32&&currentBlock.push(re),re}const createVNode=_createVNode;function _createVNode(n,e=null,r=null,i=0,o=null,f=!1){if((!n||n===NULL_DYNAMIC_COMPONENT)&&(n=Comment),isVNode(n)){const _=cloneVNode(n,e,!0);return r&&normalizeChildren(_,r),_}if(isClassComponent(n)&&(n=n.__vccOpts),e){e=guardReactiveProps(e);let{class:_,style:re}=e;_&&!isString(_)&&(e.class=normalizeClass(_)),isObject$1(re)&&(isProxy(re)&&!isArray(re)&&(re=extend({},re)),e.style=normalizeStyle(re))}const m=isString(n)?1:isSuspense(n)?128:isTeleport(n)?64:isObject$1(n)?4:isFunction(n)?2:0;return createBaseVNode(n,e,r,i,o,m,f,!0)}function guardReactiveProps(n){return n?isProxy(n)||InternalObjectKey in n?extend({},n):n:null}function cloneVNode(n,e,r=!1){const{props:i,ref:o,patchFlag:f,children:m}=n,_=e?mergeProps(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:_,key:_&&normalizeKey(_),ref:e&&e.ref?r&&o?isArray(o)?o.concat(normalizeRef(e)):[o,normalizeRef(e)]:normalizeRef(e):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:m,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Fragment?f===-1?16:f|16:f,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&cloneVNode(n.ssContent),ssFallback:n.ssFallback&&cloneVNode(n.ssFallback),el:n.el,anchor:n.anchor}}function createTextVNode(n=" ",e=0){return createVNode(Text,null,n,e)}function createCommentVNode(n="",e=!1){return e?(openBlock(),createBlock(Comment,null,n)):createVNode(Comment,null,n)}function normalizeVNode(n){return n==null||typeof n=="boolean"?createVNode(Comment):isArray(n)?createVNode(Fragment,null,n.slice()):typeof n=="object"?cloneIfMounted(n):createVNode(Text,null,String(n))}function cloneIfMounted(n){return n.el===null||n.memo?n:cloneVNode(n)}function normalizeChildren(n,e){let r=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(isArray(e))r=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),normalizeChildren(n,o()),o._c&&(o._d=!0));return}else{r=32;const o=e._;!o&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),i&64?(r=16,e=[createTextVNode(e)]):r=8);n.children=e,n.shapeFlag|=r}function mergeProps(...n){const e={};for(let r=0;r<n.length;r++){const i=n[r];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=normalizeClass([e.class,i.class]));else if(o==="style")e.style=normalizeStyle([e.style,i.style]);else if(isOn(o)){const f=e[o],m=i[o];m&&f!==m&&!(isArray(f)&&f.includes(m))&&(e[o]=f?[].concat(f,m):m)}else o!==""&&(e[o]=i[o])}return e}function invokeVNodeHook(n,e,r,i=null){callWithAsyncErrorHandling(n,e,7,[r,i])}function renderList(n,e,r,i){let o;const f=r&&r[i];if(isArray(n)||isString(n)){o=new Array(n.length);for(let m=0,_=n.length;m<_;m++)o[m]=e(n[m],m,void 0,f&&f[m])}else if(typeof n=="number"){o=new Array(n);for(let m=0;m<n;m++)o[m]=e(m+1,m,void 0,f&&f[m])}else if(isObject$1(n))if(n[Symbol.iterator])o=Array.from(n,(m,_)=>e(m,_,void 0,f&&f[_]));else{const m=Object.keys(n);o=new Array(m.length);for(let _=0,re=m.length;_<re;_++){const ie=m[_];o[_]=e(n[ie],ie,_,f&&f[_])}}else o=[];return r&&(r[i]=o),o}function renderSlot(n,e,r={},i,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",e==="default"?null:{name:e},i&&i());let f=n[e];f&&f._c&&(f._d=!1),openBlock();const m=f&&ensureValidVNode(f(r)),_=createBlock(Fragment,{key:r.key||`_${e}`},m||(i?i():[]),m&&n._===1?64:-2);return!o&&_.scopeId&&(_.slotScopeIds=[_.scopeId+"-s"]),f&&f._c&&(f._d=!0),_}function ensureValidVNode(n){return n.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?n:null}const getPublicInstance=n=>n?isStatefulComponent(n)?getExposeProxy(n)||n.proxy:getPublicInstance(n.parent):null,publicPropertiesMap=extend(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>getPublicInstance(n.parent),$root:n=>getPublicInstance(n.root),$emit:n=>n.emit,$options:n=>resolveMergedOptions(n),$forceUpdate:n=>()=>queueJob(n.update),$nextTick:n=>nextTick.bind(n.proxy),$watch:n=>instanceWatch.bind(n)}),PublicInstanceProxyHandlers={get({_:n},e){const{ctx:r,setupState:i,data:o,props:f,accessCache:m,type:_,appContext:re}=n;let ie;if(e[0]!=="$"){const Yt=m[e];if(Yt!==void 0)switch(Yt){case 1:return i[e];case 2:return o[e];case 4:return r[e];case 3:return f[e]}else{if(i!==EMPTY_OBJ&&hasOwn(i,e))return m[e]=1,i[e];if(o!==EMPTY_OBJ&&hasOwn(o,e))return m[e]=2,o[e];if((ie=n.propsOptions[0])&&hasOwn(ie,e))return m[e]=3,f[e];if(r!==EMPTY_OBJ&&hasOwn(r,e))return m[e]=4,r[e];shouldCacheAccess&&(m[e]=0)}}const pe=publicPropertiesMap[e];let ye,yt;if(pe)return e==="$attrs"&&track(n,"get",e),pe(n);if((ye=_.__cssModules)&&(ye=ye[e]))return ye;if(r!==EMPTY_OBJ&&hasOwn(r,e))return m[e]=4,r[e];if(yt=re.config.globalProperties,hasOwn(yt,e))return yt[e]},set({_:n},e,r){const{data:i,setupState:o,ctx:f}=n;return o!==EMPTY_OBJ&&hasOwn(o,e)?(o[e]=r,!0):i!==EMPTY_OBJ&&hasOwn(i,e)?(i[e]=r,!0):hasOwn(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(f[e]=r,!0)},has({_:{data:n,setupState:e,accessCache:r,ctx:i,appContext:o,propsOptions:f}},m){let _;return!!r[m]||n!==EMPTY_OBJ&&hasOwn(n,m)||e!==EMPTY_OBJ&&hasOwn(e,m)||(_=f[0])&&hasOwn(_,m)||hasOwn(i,m)||hasOwn(publicPropertiesMap,m)||hasOwn(o.config.globalProperties,m)},defineProperty(n,e,r){return r.get!=null?n._.accessCache[e]=0:hasOwn(r,"value")&&this.set(n,e,r.value,null),Reflect.defineProperty(n,e,r)}},emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(n,e,r){const i=n.type,o=(e?e.appContext:n.appContext)||emptyAppContext,f={uid:uid$1++,vnode:n,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(i,o),emitsOptions:normalizeEmitsOptions(i,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:i.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=e?e.root:f,f.emit=emit$1.bind(null,f),n.ce&&n.ce(f),f}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=n=>{currentInstance=n,n.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(n){return n.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(n,e=!1){isInSSRComponentSetup=e;const{props:r,children:i}=n.vnode,o=isStatefulComponent(n);initProps(n,r,o,e),initSlots(n,i);const f=o?setupStatefulComponent(n,e):void 0;return isInSSRComponentSetup=!1,f}function setupStatefulComponent(n,e){const r=n.type;n.accessCache=Object.create(null),n.proxy=markRaw(new Proxy(n.ctx,PublicInstanceProxyHandlers));const{setup:i}=r;if(i){const o=n.setupContext=i.length>1?createSetupContext(n):null;setCurrentInstance(n),pauseTracking();const f=callWithErrorHandling(i,n,0,[n.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(f)){if(f.then(unsetCurrentInstance,unsetCurrentInstance),e)return f.then(m=>{handleSetupResult(n,m,e)}).catch(m=>{handleError(m,n,0)});n.asyncDep=f}else handleSetupResult(n,f,e)}else finishComponentSetup(n,e)}function handleSetupResult(n,e,r){isFunction(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:isObject$1(e)&&(n.setupState=proxyRefs(e)),finishComponentSetup(n,r)}let compile;function finishComponentSetup(n,e,r){const i=n.type;if(!n.render){if(!e&&compile&&!i.render){const o=i.template;if(o){const{isCustomElement:f,compilerOptions:m}=n.appContext.config,{delimiters:_,compilerOptions:re}=i,ie=extend(extend({isCustomElement:f,delimiters:_},m),re);i.render=compile(o,ie)}}n.render=i.render||NOOP}setCurrentInstance(n),pauseTracking(),applyOptions(n),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(n){return new Proxy(n.attrs,{get(e,r){return track(n,"get","$attrs"),e[r]}})}function createSetupContext(n){const e=i=>{n.exposed=i||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(n))},slots:n.slots,emit:n.emit,expose:e}}function getExposeProxy(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(proxyRefs(markRaw(n.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](n)}}))}function isClassComponent(n){return isFunction(n)&&"__vccOpts"in n}const computed=(n,e)=>computed$1(n,e,isInSSRComponentSetup),version$4="3.2.33",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(n,e,r)=>{e.insertBefore(n,r||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,r,i)=>{const o=e?doc.createElementNS(svgNS,n):doc.createElement(n,r?{is:r}:void 0);return n==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:n=>doc.createTextNode(n),createComment:n=>doc.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>doc.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,r,i,o,f){const m=r?r.previousSibling:e.lastChild;if(o&&(o===f||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),r),!(o===f||!(o=o.nextSibling)););else{templateContainer.innerHTML=i?`<svg>${n}</svg>`:n;const _=templateContainer.content;if(i){const re=_.firstChild;for(;re.firstChild;)_.appendChild(re.firstChild);_.removeChild(re)}e.insertBefore(_,r)}return[m?m.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function patchClass(n,e,r){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):r?n.setAttribute("class",e):n.className=e}function patchStyle(n,e,r){const i=n.style,o=isString(r);if(r&&!o){for(const f in r)setStyle(i,f,r[f]);if(e&&!isString(e))for(const f in e)r[f]==null&&setStyle(i,f,"")}else{const f=i.display;o?e!==r&&(i.cssText=r):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=f)}}const importantRE=/\s*!important$/;function setStyle(n,e,r){if(isArray(r))r.forEach(i=>setStyle(n,e,i));else if(r==null&&(r=""),e.startsWith("--"))n.setProperty(e,r);else{const i=autoPrefix(n,e);importantRE.test(r)?n.setProperty(hyphenate(i),r.replace(importantRE,""),"important"):n[i]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(n,e){const r=prefixCache[e];if(r)return r;let i=camelize(e);if(i!=="filter"&&i in n)return prefixCache[e]=i;i=capitalize(i);for(let o=0;o<prefixes.length;o++){const f=prefixes[o]+i;if(f in n)return prefixCache[e]=f}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(n,e,r,i,o){if(i&&e.startsWith("xlink:"))r==null?n.removeAttributeNS(xlinkNS,e.slice(6,e.length)):n.setAttributeNS(xlinkNS,e,r);else{const f=isSpecialBooleanAttr(e);r==null||f&&!includeBooleanAttr(r)?n.removeAttribute(e):n.setAttribute(e,f?"":r)}}function patchDOMProp(n,e,r,i,o,f,m){if(e==="innerHTML"||e==="textContent"){i&&m(i,o,f),n[e]=r==null?"":r;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=r;const re=r==null?"":r;(n.value!==re||n.tagName==="OPTION")&&(n.value=re),r==null&&n.removeAttribute(e);return}let _=!1;if(r===""||r==null){const re=typeof n[e];re==="boolean"?r=includeBooleanAttr(r):r==null&&re==="string"?(r="",_=!0):re==="number"&&(r=0,_=!0)}try{n[e]=r}catch{}_&&n.removeAttribute(e)}const[_getNow,skipTimestampCheck]=(()=>{let n=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(n=()=>performance.now());const r=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(r&&Number(r[1])<=53)}return[n,e]})();let cachedNow=0;const p$1=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p$1.then(reset),cachedNow=_getNow());function addEventListener(n,e,r,i){n.addEventListener(e,r,i)}function removeEventListener(n,e,r,i){n.removeEventListener(e,r,i)}function patchEvent(n,e,r,i,o=null){const f=n._vei||(n._vei={}),m=f[e];if(i&&m)m.value=i;else{const[_,re]=parseName(e);if(i){const ie=f[e]=createInvoker(i,o);addEventListener(n,_,ie,re)}else m&&(removeEventListener(n,_,m,re),f[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(n){let e;if(optionsModifierRE.test(n)){e={};let r;for(;r=n.match(optionsModifierRE);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[hyphenate(n.slice(2)),e]}function createInvoker(n,e){const r=i=>{const o=i.timeStamp||_getNow();(skipTimestampCheck||o>=r.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(i,r.value),e,5,[i])};return r.value=n,r.attached=getNow(),r}function patchStopImmediatePropagation(n,e){if(isArray(e)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(n,e,r,i,o=!1,f,m,_,re)=>{e==="class"?patchClass(n,i,o):e==="style"?patchStyle(n,r,i):isOn(e)?isModelListener(e)||patchEvent(n,e,r,i,m):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(n,e,i,o))?patchDOMProp(n,e,i,f,m,_,re):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),patchAttr(n,e,i,o))};function shouldSetAsProp(n,e,r,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&nativeOnRE.test(e)&&isFunction(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString(r)?!1:e in n}const TRANSITION="transition",ANIMATION="animation",DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(n,e=[])=>{isArray(n)?n.forEach(r=>r(...e)):n&&n(...e)},hasExplicitCallback=n=>n?isArray(n)?n.some(e=>e.length>1):n.length>1:!1;function resolveTransitionProps(n){const e={};for(const gr in n)gr in DOMTransitionPropsValidators||(e[gr]=n[gr]);if(n.css===!1)return e;const{name:r="v",type:i,duration:o,enterFromClass:f=`${r}-enter-from`,enterActiveClass:m=`${r}-enter-active`,enterToClass:_=`${r}-enter-to`,appearFromClass:re=f,appearActiveClass:ie=m,appearToClass:pe=_,leaveFromClass:ye=`${r}-leave-from`,leaveActiveClass:yt=`${r}-leave-active`,leaveToClass:Yt=`${r}-leave-to`}=n,Xt=normalizeDuration(o),Cn=Xt&&Xt[0],xn=Xt&&Xt[1],{onBeforeEnter:rr,onEnter:lr,onEnterCancelled:sr,onLeave:mr,onLeaveCancelled:Sr,onBeforeAppear:Mr=rr,onAppear:wr=lr,onAppearCancelled:zr=sr}=e,Kr=(gr,Xr,Si)=>{removeTransitionClass(gr,Xr?pe:_),removeTransitionClass(gr,Xr?ie:m),Si&&Si()},li=(gr,Xr)=>{removeTransitionClass(gr,Yt),removeTransitionClass(gr,yt),Xr&&Xr()},si=gr=>(Xr,Si)=>{const Xs=gr?wr:lr,ni=()=>Kr(Xr,gr,Si);callHook(Xs,[Xr,ni]),nextFrame(()=>{removeTransitionClass(Xr,gr?re:f),addTransitionClass(Xr,gr?pe:_),hasExplicitCallback(Xs)||whenTransitionEnds(Xr,i,Cn,ni)})};return extend(e,{onBeforeEnter(gr){callHook(rr,[gr]),addTransitionClass(gr,f),addTransitionClass(gr,m)},onBeforeAppear(gr){callHook(Mr,[gr]),addTransitionClass(gr,re),addTransitionClass(gr,ie)},onEnter:si(!1),onAppear:si(!0),onLeave(gr,Xr){const Si=()=>li(gr,Xr);addTransitionClass(gr,ye),forceReflow(),addTransitionClass(gr,yt),nextFrame(()=>{removeTransitionClass(gr,ye),addTransitionClass(gr,Yt),hasExplicitCallback(mr)||whenTransitionEnds(gr,i,xn,Si)}),callHook(mr,[gr,Si])},onEnterCancelled(gr){Kr(gr,!1),callHook(sr,[gr])},onAppearCancelled(gr){Kr(gr,!0),callHook(zr,[gr])},onLeaveCancelled(gr){li(gr),callHook(Sr,[gr])}})}function normalizeDuration(n){if(n==null)return null;if(isObject$1(n))return[NumberOf(n.enter),NumberOf(n.leave)];{const e=NumberOf(n);return[e,e]}}function NumberOf(n){return toNumber(n)}function addTransitionClass(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.add(r)),(n._vtc||(n._vtc=new Set)).add(e)}function removeTransitionClass(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:r}=n;r&&(r.delete(e),r.size||(n._vtc=void 0))}function nextFrame(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let endId=0;function whenTransitionEnds(n,e,r,i){const o=n._endId=++endId,f=()=>{o===n._endId&&i()};if(r)return setTimeout(f,r);const{type:m,timeout:_,propCount:re}=getTransitionInfo(n,e);if(!m)return i();const ie=m+"end";let pe=0;const ye=()=>{n.removeEventListener(ie,yt),f()},yt=Yt=>{Yt.target===n&&++pe>=re&&ye()};setTimeout(()=>{pe<re&&ye()},_+1),n.addEventListener(ie,yt)}function getTransitionInfo(n,e){const r=window.getComputedStyle(n),i=Xt=>(r[Xt]||"").split(", "),o=i(TRANSITION+"Delay"),f=i(TRANSITION+"Duration"),m=getTimeout(o,f),_=i(ANIMATION+"Delay"),re=i(ANIMATION+"Duration"),ie=getTimeout(_,re);let pe=null,ye=0,yt=0;e===TRANSITION?m>0&&(pe=TRANSITION,ye=m,yt=f.length):e===ANIMATION?ie>0&&(pe=ANIMATION,ye=ie,yt=re.length):(ye=Math.max(m,ie),pe=ye>0?m>ie?TRANSITION:ANIMATION:null,yt=pe?pe===TRANSITION?f.length:re.length:0);const Yt=pe===TRANSITION&&/\b(transform|all)(,|$)/.test(r[TRANSITION+"Property"]);return{type:pe,timeout:ye,propCount:yt,hasTransform:Yt}}function getTimeout(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((r,i)=>toMs(r)+toMs(n[i])))}function toMs(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(n,{slots:e}){const r=getCurrentInstance(),i=useTransitionState();let o,f;return onUpdated(()=>{if(!o.length)return;const m=n.moveClass||`${n.name||"v"}-move`;if(!hasCSSTransform(o[0].el,r.vnode.el,m))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const _=o.filter(applyTranslation);forceReflow(),_.forEach(re=>{const ie=re.el,pe=ie.style;addTransitionClass(ie,m),pe.transform=pe.webkitTransform=pe.transitionDuration="";const ye=ie._moveCb=yt=>{yt&&yt.target!==ie||(!yt||/transform$/.test(yt.propertyName))&&(ie.removeEventListener("transitionend",ye),ie._moveCb=null,removeTransitionClass(ie,m))};ie.addEventListener("transitionend",ye)})}),()=>{const m=toRaw(n),_=resolveTransitionProps(m);let re=m.tag||Fragment;o=f,f=e.default?getTransitionRawChildren(e.default()):[];for(let ie=0;ie<f.length;ie++){const pe=f[ie];pe.key!=null&&setTransitionHooks(pe,resolveTransitionHooks(pe,_,i,r))}if(o)for(let ie=0;ie<o.length;ie++){const pe=o[ie];setTransitionHooks(pe,resolveTransitionHooks(pe,_,i,r)),positionMap.set(pe,pe.el.getBoundingClientRect())}return createVNode(re,null,f)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(n){const e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function recordPosition(n){newPositionMap.set(n,n.el.getBoundingClientRect())}function applyTranslation(n){const e=positionMap.get(n),r=newPositionMap.get(n),i=e.left-r.left,o=e.top-r.top;if(i||o){const f=n.el.style;return f.transform=f.webkitTransform=`translate(${i}px,${o}px)`,f.transitionDuration="0s",n}}function hasCSSTransform(n,e,r){const i=n.cloneNode();n._vtc&&n._vtc.forEach(m=>{m.split(/\s+/).forEach(_=>_&&i.classList.remove(_))}),r.split(/\s+/).forEach(m=>m&&i.classList.add(m)),i.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(i);const{hasTransform:f}=getTransitionInfo(i);return o.removeChild(i),f}const getModelAssigner=n=>{const e=n.props["onUpdate:modelValue"];return isArray(e)?r=>invokeArrayFns(e,r):e};function onCompositionStart(n){n.target.composing=!0}function onCompositionEnd(n){const e=n.target;e.composing&&(e.composing=!1,trigger(e,"input"))}function trigger(n,e){const r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),n.dispatchEvent(r)}const vModelText={created(n,{modifiers:{lazy:e,trim:r,number:i}},o){n._assign=getModelAssigner(o);const f=i||o.props&&o.props.type==="number";addEventListener(n,e?"change":"input",m=>{if(m.target.composing)return;let _=n.value;r?_=_.trim():f&&(_=toNumber(_)),n._assign(_)}),r&&addEventListener(n,"change",()=>{n.value=n.value.trim()}),e||(addEventListener(n,"compositionstart",onCompositionStart),addEventListener(n,"compositionend",onCompositionEnd),addEventListener(n,"change",onCompositionEnd))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:r,trim:i,number:o}},f){if(n._assign=getModelAssigner(f),n.composing||document.activeElement===n&&(r||i&&n.value.trim()===e||(o||n.type==="number")&&toNumber(n.value)===e))return;const m=e==null?"":e;n.value!==m&&(n.value=m)}},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...n)=>{const e=ensureRenderer().createApp(...n),{mount:r}=e;return e.mount=i=>{const o=normalizeContainer(i);if(!o)return;const f=e._component;!isFunction(f)&&!f.render&&!f.template&&(f.template=o.innerHTML),o.innerHTML="";const m=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),m},e};function normalizeContainer(n){return isString(n)?document.querySelector(n):n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(n){const e=[];let r=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},byteArrayToString=function(n){const e=[];let r=0,i=0;for(;r<n.length;){const o=n[r++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const f=n[r++];e[i++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=n[r++],m=n[r++],_=n[r++],re=((o&7)<<18|(f&63)<<12|(m&63)<<6|_&63)-65536;e[i++]=String.fromCharCode(55296+(re>>10)),e[i++]=String.fromCharCode(56320+(re&1023))}else{const f=n[r++],m=n[r++];e[i++]=String.fromCharCode((o&15)<<12|(f&63)<<6|m&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const f=n[o],m=o+1<n.length,_=m?n[o+1]:0,re=o+2<n.length,ie=re?n[o+2]:0,pe=f>>2,ye=(f&3)<<4|_>>4;let yt=(_&15)<<2|ie>>6,Yt=ie&63;re||(Yt=64,m||(yt=64)),i.push(r[pe],r[ye],r[yt],r[Yt])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(stringToByteArray$1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):byteArrayToString(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const f=r[n.charAt(o++)],_=o<n.length?r[n.charAt(o)]:0;++o;const ie=o<n.length?r[n.charAt(o)]:64;++o;const ye=o<n.length?r[n.charAt(o)]:64;if(++o,f==null||_==null||ie==null||ye==null)throw Error();const yt=f<<2|_>>4;if(i.push(yt),ie!==64){const Yt=_<<4&240|ie>>2;if(i.push(Yt),ye!==64){const Xt=ie<<6&192|ye;i.push(Xt)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},base64Encode=function(n){const e=stringToByteArray$1(n);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(n){return base64Encode(n).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isElectron(){return getUA().indexOf("Electron/")>=0}function isIE(){const n=getUA();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function isUWP(){return getUA().indexOf("MSAppHost/")>=0}function isIndexedDBAvailable(){return typeof indexedDB=="object"}function validateIndexedDBOpenable(){return new Promise((n,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var f;e(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(r){e(r)}})}function areCookiesEnabled(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},o=`${this.service}/${e}`,f=this.errors[e],m=f?replaceTemplate(f,i):"Error",_=`${this.serviceName}: ${m} (${o}).`;return new FirebaseError(o,_,i)}}function replaceTemplate(n,e){return n.replace(PATTERN,(r,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual(n,e){if(n===e)return!0;const r=Object.keys(n),i=Object.keys(e);for(const o of r){if(!i.includes(o))return!1;const f=n[o],m=e[o];if(isObject(f)&&isObject(m)){if(!deepEqual(f,m))return!1}else if(f!==m)return!1}for(const o of i)if(!r.includes(o))return!1;return!0}function isObject(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=4*60*60*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(n,e=DEFAULT_INTERVAL_MILLIS,r=DEFAULT_BACKOFF_FACTOR){const i=e*Math.pow(r,n),o=Math.round(RANDOM_FACTOR*i*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function promisifyRequest(n,e){return new Promise((r,i)=>{n.onsuccess=o=>{r(o.target.result)},n.onerror=o=>{var f;i(`${e}: ${(f=o.target.error)===null||f===void 0?void 0:f.message}`)}})}class DBWrapper{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,r="readonly"){return new TransactionWrapper(this._db.transaction.call(this._db,e,r))}createObjectStore(e,r){return new ObjectStoreWrapper(this._db.createObjectStore(e,r))}close(){this._db.close()}}class TransactionWrapper{constructor(e){this._transaction=e,this.complete=new Promise((r,i)=>{this._transaction.oncomplete=function(){r()},this._transaction.onerror=()=>{i(this._transaction.error)},this._transaction.onabort=()=>{i(this._transaction.error)}})}objectStore(e){return new ObjectStoreWrapper(this._transaction.objectStore(e))}}class ObjectStoreWrapper{constructor(e){this._store=e}index(e){return new IndexWrapper(this._store.index(e))}createIndex(e,r,i){return new IndexWrapper(this._store.createIndex(e,r,i))}get(e){const r=this._store.get(e);return promisifyRequest(r,"Error reading from IndexedDB")}put(e,r){const i=this._store.put(e,r);return promisifyRequest(i,"Error writing to IndexedDB")}delete(e){const r=this._store.delete(e);return promisifyRequest(r,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return promisifyRequest(e,"Error clearing IndexedDB object store")}}class IndexWrapper{constructor(e){this._index=e}get(e){const r=this._index.get(e);return promisifyRequest(r,"Error reading from IndexedDB")}}function openDB(n,e,r){return new Promise((i,o)=>{try{const f=indexedDB.open(n,e);f.onsuccess=m=>{i(new DBWrapper(m.target.result))},f.onerror=m=>{var _;o(`Error opening indexedDB: ${(_=m.target.error)===null||_===void 0?void 0:_.message}`)},f.onupgradeneeded=m=>{r(new DBWrapper(f.result),m.oldVersion,m.newVersion,new TransactionWrapper(f.transaction))}}catch(f){o(`Error opening indexedDB: ${f.message}`)}})}class Component{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new Deferred;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const f=this.getOrInitializeService({instanceIdentifier:o});i.resolve(f)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[f,m]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(f);i===_&&m.resolve(o)}return o}onInit(e,r){var i;const o=this.normalizeInstanceIdentifier(r),f=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;f.add(e),this.onInitCallbacks.set(o,f);const m=this.instances.get(o);return m&&e(m,o),()=>{f.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(!!i)for(const o of i)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(n){return n===DEFAULT_ENTRY_NAME$1?void 0:n}function isComponentEager(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Provider(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(n,e,...r)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=ConsoleMethod[e];if(o)console[o](`[${i}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(isVersionServiceProvider(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function isVersionServiceProvider(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.7.21";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$3="9.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(n,e){try{n.container.addComponent(e)}catch(r){logger$1.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function _registerComponent(n){const e=n.name;if(_components.has(e))return logger$1.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,n);for(const r of _apps.values())_addComponent(r,n);return!0}function _getProvider(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ERROR_FACTORY$2=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,r,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$2.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(n,e={}){typeof e!="object"&&(e={name:e});const r=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ERROR_FACTORY$2.create("bad-app-name",{appName:String(i)});const o=_apps.get(i);if(o){if(deepEqual(n,o.options)&&deepEqual(r,o.config))return o;throw ERROR_FACTORY$2.create("duplicate-app",{appName:i})}const f=new ComponentContainer(i);for(const _ of _components.values())f.addComponent(_);const m=new FirebaseAppImpl(n,r,f);return _apps.set(i,m),m}function getApp(n=DEFAULT_ENTRY_NAME){const e=_apps.get(n);if(!e)throw ERROR_FACTORY$2.create("no-app",{appName:n});return e}function registerVersion(n,e,r){var i;let o=(i=PLATFORM_LOG_STRING[n])!==null&&i!==void 0?i:n;r&&(o+=`-${r}`);const f=o.match(/\s|\//),m=e.match(/\s|\//);if(f||m){const _=[`Unable to register library "${o}" with version "${e}":`];f&&_.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&m&&_.push("and"),m&&_.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$1.warn(_.join(" "));return}_registerComponent(new Component(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DB_NAME,DB_VERSION,(n,e)=>{switch(e){case 0:n.createObjectStore(STORE_NAME)}}).catch(n=>{throw ERROR_FACTORY$2.create("storage-open",{originalErrorMessage:n.message})})),dbPromise$1}async function readHeartbeatsFromIndexedDB(n){try{return(await getDbPromise$1()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(n))}catch(e){throw ERROR_FACTORY$2.create("storage-get",{originalErrorMessage:e.message})}}async function writeHeartbeatsToIndexedDB(n,e){try{const i=(await getDbPromise$1()).transaction(STORE_NAME,"readwrite");return await i.objectStore(STORE_NAME).put(e,computeKey(n)),i.complete}catch(r){throw ERROR_FACTORY$2.create("storage-set",{originalErrorMessage:r.message})}}function computeKey(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const f=new Date(o.date).valueOf();return Date.now()-f<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:r,unsentEntries:i}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),o=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(n,e=MAX_HEADER_BYTES){const r=[];let i=n.slice();for(const o of n){const f=r.find(m=>m.agent===o.agent);if(f){if(f.dates.push(o.date),countBytes(r)>e){f.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),countBytes(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function countBytes(n){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(n){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,n),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$2="firebase",version$2="9.6.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$2,"app");var commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},k$1,goog=goog||{},l=commonjsGlobal$1||self;function aa(){}function ba(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function p(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function da$1(n){return Object.prototype.hasOwnProperty.call(n,ea)&&n[ea]||(n[ea]=++fa$1)}var ea="closure_uid_"+(1e9*Math.random()>>>0),fa$1=0;function ha$1(n,e,r){return n.call.apply(n.bind,arguments)}function ia$1(n,e,r){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function q(n,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q=ha$1:q=ia$1,q.apply(null,arguments)}function ja(n,e){var r=Array.prototype.slice.call(arguments,1);return function(){var i=r.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function t(n,e){function r(){}r.prototype=e.prototype,n.Z=e.prototype,n.prototype=new r,n.prototype.constructor=n,n.Vb=function(i,o,f){for(var m=Array(arguments.length-2),_=2;_<arguments.length;_++)m[_-2]=arguments[_];return e.prototype[o].apply(i,m)}}function v(){this.s=this.s,this.o=this.o}var ka=0,la$1={};v.prototype.s=!1,v.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),ka!=0)){var n=da$1(this);delete la$1[n]}},v.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ma$1=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let r=0;r<n.length;r++)if(r in n&&n[r]===e)return r;return-1},na$1=Array.prototype.forEach?function(n,e,r){Array.prototype.forEach.call(n,e,r)}:function(n,e,r){const i=n.length,o=typeof n=="string"?n.split(""):n;for(let f=0;f<i;f++)f in o&&e.call(r,o[f],f,n)};function oa(n){e:{var e=pa;const r=n.length,i=typeof n=="string"?n.split(""):n;for(let o=0;o<r;o++)if(o in i&&e.call(void 0,i[o],o,n)){e=o;break e}e=-1}return 0>e?null:typeof n=="string"?n.charAt(e):n[e]}function qa$1(n){return Array.prototype.concat.apply([],arguments)}function ra(n){const e=n.length;if(0<e){const r=Array(e);for(let i=0;i<e;i++)r[i]=n[i];return r}return[]}function sa$1(n){return/^[\s\xa0]*$/.test(n)}var ta$1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function w(n,e){return n.indexOf(e)!=-1}function ua(n,e){return n<e?-1:n>e?1:0}var x$1;e:{var va=l.navigator;if(va){var wa$1=va.userAgent;if(wa$1){x$1=wa$1;break e}}x$1=""}function xa(n,e,r){for(const i in n)e.call(r,n[i],i,n)}function ya(n){const e={};for(const r in n)e[r]=n[r];return e}var za$1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aa(n,e){let r,i;for(let o=1;o<arguments.length;o++){i=arguments[o];for(r in i)n[r]=i[r];for(let f=0;f<za$1.length;f++)r=za$1[f],Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}}function Ca(n){return Ca[" "](n),n}Ca[" "]=aa;function Fa(n){var e=Ga;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}var Ha=w(x$1,"Opera"),y=w(x$1,"Trident")||w(x$1,"MSIE"),Ia=w(x$1,"Edge"),Ja=Ia||y,Ka$1=w(x$1,"Gecko")&&!(w(x$1.toLowerCase(),"webkit")&&!w(x$1,"Edge"))&&!(w(x$1,"Trident")||w(x$1,"MSIE"))&&!w(x$1,"Edge"),La$1=w(x$1.toLowerCase(),"webkit")&&!w(x$1,"Edge");function Ma$1(){var n=l.document;return n?n.documentMode:void 0}var Na$1;e:{var Oa="",Pa=function(){var n=x$1;if(Ka$1)return/rv:([^\);]+)(\)|;)/.exec(n);if(Ia)return/Edge\/([\d\.]+)/.exec(n);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(La$1)return/WebKit\/(\S+)/.exec(n);if(Ha)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(Pa&&(Oa=Pa?Pa[1]:""),y){var Qa=Ma$1();if(Qa!=null&&Qa>parseFloat(Oa)){Na$1=String(Qa);break e}}Na$1=Oa}var Ga={};function Ra(){return Fa(function(){let n=0;const e=ta$1(String(Na$1)).split("."),r=ta$1("9").split("."),i=Math.max(e.length,r.length);for(let m=0;n==0&&m<i;m++){var o=e[m]||"",f=r[m]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],o[0].length==0&&f[0].length==0)break;n=ua(o[1].length==0?0:parseInt(o[1],10),f[1].length==0?0:parseInt(f[1],10))||ua(o[2].length==0,f[2].length==0)||ua(o[2],f[2]),o=o[3],f=f[3]}while(n==0)}return 0<=n})}var Sa;if(l.document&&y){var Ta=Ma$1();Sa=Ta||parseInt(Na$1,10)||void 0}else Sa=void 0;var Ua$1=Sa,Va$1=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{l.addEventListener("test",aa,e),l.removeEventListener("test",aa,e)}catch{}return n}();function z$1(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}z$1.prototype.h=function(){this.defaultPrevented=!0};function A(n,e){if(z$1.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var r=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ka$1){e:{try{Ca(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else r=="mouseover"?e=n.fromElement:r=="mouseout"&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:Wa[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&A.Z.h.call(this)}}t(A,z$1);var Wa={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var B$1="closure_listenable_"+(1e6*Math.random()|0),Xa=0;function Ya(n,e,r,i,o){this.listener=n,this.proxy=null,this.src=e,this.type=r,this.capture=!!i,this.ia=o,this.key=++Xa,this.ca=this.fa=!1}function Za(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function $a(n){this.src=n,this.g={},this.h=0}$a.prototype.add=function(n,e,r,i,o){var f=n.toString();n=this.g[f],n||(n=this.g[f]=[],this.h++);var m=ab(n,e,i,o);return-1<m?(e=n[m],r||(e.fa=!1)):(e=new Ya(e,this.src,f,!!i,o),e.fa=r,n.push(e)),e};function bb(n,e){var r=e.type;if(r in n.g){var i=n.g[r],o=ma$1(i,e),f;(f=0<=o)&&Array.prototype.splice.call(i,o,1),f&&(Za(e),n.g[r].length==0&&(delete n.g[r],n.h--))}}function ab(n,e,r,i){for(var o=0;o<n.length;++o){var f=n[o];if(!f.ca&&f.listener==e&&f.capture==!!r&&f.ia==i)return o}return-1}var cb="closure_lm_"+(1e6*Math.random()|0),db={};function fb(n,e,r,i,o){if(i&&i.once)return gb(n,e,r,i,o);if(Array.isArray(e)){for(var f=0;f<e.length;f++)fb(n,e[f],r,i,o);return null}return r=hb(r),n&&n[B$1]?n.N(e,r,p(i)?!!i.capture:!!i,o):ib(n,e,r,!1,i,o)}function ib(n,e,r,i,o,f){if(!e)throw Error("Invalid event type");var m=p(o)?!!o.capture:!!o,_=jb(n);if(_||(n[cb]=_=new $a(n)),r=_.add(e,r,i,m,f),r.proxy)return r;if(i=kb(),r.proxy=i,i.src=n,i.listener=r,n.addEventListener)Va$1||(o=m),o===void 0&&(o=!1),n.addEventListener(e.toString(),i,o);else if(n.attachEvent)n.attachEvent(lb(e.toString()),i);else if(n.addListener&&n.removeListener)n.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return r}function kb(){function n(r){return e.call(n.src,n.listener,r)}var e=mb;return n}function gb(n,e,r,i,o){if(Array.isArray(e)){for(var f=0;f<e.length;f++)gb(n,e[f],r,i,o);return null}return r=hb(r),n&&n[B$1]?n.O(e,r,p(i)?!!i.capture:!!i,o):ib(n,e,r,!0,i,o)}function nb(n,e,r,i,o){if(Array.isArray(e))for(var f=0;f<e.length;f++)nb(n,e[f],r,i,o);else i=p(i)?!!i.capture:!!i,r=hb(r),n&&n[B$1]?(n=n.i,e=String(e).toString(),e in n.g&&(f=n.g[e],r=ab(f,r,i,o),-1<r&&(Za(f[r]),Array.prototype.splice.call(f,r,1),f.length==0&&(delete n.g[e],n.h--)))):n&&(n=jb(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ab(e,r,i,o)),(r=-1<n?e[n]:null)&&ob(r))}function ob(n){if(typeof n!="number"&&n&&!n.ca){var e=n.src;if(e&&e[B$1])bb(e.i,n);else{var r=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(r,i,n.capture):e.detachEvent?e.detachEvent(lb(r),i):e.addListener&&e.removeListener&&e.removeListener(i),(r=jb(e))?(bb(r,n),r.h==0&&(r.src=null,e[cb]=null)):Za(n)}}}function lb(n){return n in db?db[n]:db[n]="on"+n}function mb(n,e){if(n.ca)n=!0;else{e=new A(e,this);var r=n.listener,i=n.ia||n.src;n.fa&&ob(n),n=r.call(i,e)}return n}function jb(n){return n=n[cb],n instanceof $a?n:null}var pb="__closure_events_fn_"+(1e9*Math.random()>>>0);function hb(n){return typeof n=="function"?n:(n[pb]||(n[pb]=function(e){return n.handleEvent(e)}),n[pb])}function C$1(){v.call(this),this.i=new $a(this),this.P=this,this.I=null}t(C$1,v),C$1.prototype[B$1]=!0,C$1.prototype.removeEventListener=function(n,e,r,i){nb(this,n,e,r,i)};function D$1(n,e){var r,i=n.I;if(i)for(r=[];i;i=i.I)r.push(i);if(n=n.P,i=e.type||e,typeof e=="string")e=new z$1(e,n);else if(e instanceof z$1)e.target=e.target||n;else{var o=e;e=new z$1(i,n),Aa(e,o)}if(o=!0,r)for(var f=r.length-1;0<=f;f--){var m=e.g=r[f];o=qb(m,i,!0,e)&&o}if(m=e.g=n,o=qb(m,i,!0,e)&&o,o=qb(m,i,!1,e)&&o,r)for(f=0;f<r.length;f++)m=e.g=r[f],o=qb(m,i,!1,e)&&o}C$1.prototype.M=function(){if(C$1.Z.M.call(this),this.i){var n=this.i,e;for(e in n.g){for(var r=n.g[e],i=0;i<r.length;i++)Za(r[i]);delete n.g[e],n.h--}}this.I=null},C$1.prototype.N=function(n,e,r,i){return this.i.add(String(n),e,!1,r,i)},C$1.prototype.O=function(n,e,r,i){return this.i.add(String(n),e,!0,r,i)};function qb(n,e,r,i){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,f=0;f<e.length;++f){var m=e[f];if(m&&!m.ca&&m.capture==r){var _=m.listener,re=m.ia||m.src;m.fa&&bb(n.i,m),o=_.call(re,i)!==!1&&o}}return o&&!i.defaultPrevented}var rb=l.JSON.stringify;function sb(){var n=tb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class ub{constructor(){this.h=this.g=null}add(e,r){const i=vb.get();i.set(e,r),this.h?this.h.next=i:this.g=i,this.h=i}}var vb=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new wb,n=>n.reset());class wb{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function yb(n){l.setTimeout(()=>{throw n},0)}function zb(n,e){Ab||Bb(),Cb||(Ab(),Cb=!0),tb.add(n,e)}var Ab;function Bb(){var n=l.Promise.resolve(void 0);Ab=function(){n.then(Db)}}var Cb=!1,tb=new ub;function Db(){for(var n;n=sb();){try{n.h.call(n.g)}catch(r){yb(r)}var e=vb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Cb=!1}function Eb(n,e){C$1.call(this),this.h=n||1,this.g=e||l,this.j=q(this.kb,this),this.l=Date.now()}t(Eb,C$1),k$1=Eb.prototype,k$1.da=!1,k$1.S=null,k$1.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),D$1(this,"tick"),this.da&&(Fb(this),this.start()))}},k$1.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fb(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}k$1.M=function(){Eb.Z.M.call(this),Fb(this),delete this.g};function Gb(n,e,r){if(typeof n=="function")r&&(n=q(n,r));else if(n&&typeof n.handleEvent=="function")n=q(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:l.setTimeout(n,e||0)}function Hb(n){n.g=Gb(()=>{n.g=null,n.i&&(n.i=!1,Hb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}class Ib extends v{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hb(this)}M(){super.M(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function E(n){v.call(this),this.h=n,this.g={}}t(E,v);var Jb=[];function Kb(n,e,r,i){Array.isArray(r)||(r&&(Jb[0]=r.toString()),r=Jb);for(var o=0;o<r.length;o++){var f=fb(e,r[o],i||n.handleEvent,!1,n.h||n);if(!f)break;n.g[f.key]=f}}function Lb(n){xa(n.g,function(e,r){this.g.hasOwnProperty(r)&&ob(e)},n),n.g={}}E.prototype.M=function(){E.Z.M.call(this),Lb(this)},E.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mb(){this.g=!0}Mb.prototype.Aa=function(){this.g=!1};function Nb(n,e,r,i,o,f){n.info(function(){if(n.g)if(f)for(var m="",_=f.split("&"),re=0;re<_.length;re++){var ie=_[re].split("=");if(1<ie.length){var pe=ie[0];ie=ie[1];var ye=pe.split("_");m=2<=ye.length&&ye[1]=="type"?m+(pe+"="+ie+"&"):m+(pe+"=redacted&")}}else m=null;else m=f;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+`
`+r+`
`+m})}function Ob(n,e,r,i,o,f,m){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+`
`+r+`
`+f+" "+m})}function F$1(n,e,r,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+Pb(n,r)+(i?" "+i:"")})}function Qb(n,e){n.info(function(){return"TIMEOUT: "+e})}Mb.prototype.info=function(){};function Pb(n,e){if(!n.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(n=0;n<r.length;n++)if(Array.isArray(r[n])){var i=r[n];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var f=o[0];if(f!="noop"&&f!="stop"&&f!="close")for(var m=1;m<o.length;m++)o[m]=""}}}}return rb(r)}catch{return e}}var H={},Rb=null;function Sb(){return Rb=Rb||new C$1}H.Ma="serverreachability";function Tb(n){z$1.call(this,H.Ma,n)}t(Tb,z$1);function I(n){const e=Sb();D$1(e,new Tb(e,n))}H.STAT_EVENT="statevent";function Ub(n,e){z$1.call(this,H.STAT_EVENT,n),this.stat=e}t(Ub,z$1);function J$1(n){const e=Sb();D$1(e,new Ub(e,n))}H.Na="timingevent";function Vb(n,e){z$1.call(this,H.Na,n),this.size=e}t(Vb,z$1);function K$1(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){n()},e)}var Wb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yb(){}Yb.prototype.h=null;function Zb(n){return n.h||(n.h=n.i())}function $b(){}var L$1={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ac(){z$1.call(this,"d")}t(ac,z$1);function bc(){z$1.call(this,"c")}t(bc,z$1);var cc$1;function dc$1(){}t(dc$1,Yb),dc$1.prototype.g=function(){return new XMLHttpRequest},dc$1.prototype.i=function(){return{}},cc$1=new dc$1;function M(n,e,r,i){this.l=n,this.j=e,this.m=r,this.X=i||1,this.V=new E(this),this.P=ec,n=Ja?125:void 0,this.W=new Eb(n),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fc}function fc(){this.i=null,this.g="",this.h=!1}var ec=45e3,gc$1={},hc$1={};k$1=M.prototype,k$1.setTimeout=function(n){this.P=n};function ic(n,e,r){n.K=1,n.v=jc$1(N$1(e)),n.s=r,n.U=!0,kc(n,null)}function kc(n,e){n.F=Date.now(),lc$1(n),n.A=N$1(n.v);var r=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),mc$1(r.h,"t",i),n.C=0,r=n.l.H,n.h=new fc,n.g=nc(n.l,r?e:null,!n.s),0<n.O&&(n.L=new Ib(q(n.Ia,n,n.g),n.O)),Kb(n.V,n.g,"readystatechange",n.gb),e=n.H?ya(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),I(1),Nb(n.j,n.u,n.A,n.m,n.X,n.s)}k$1.gb=function(n){n=n.target;const e=this.L;e&&O$1(n)==3?e.l():this.Ia(n)},k$1.Ia=function(n){try{if(n==this.g)e:{const pe=O$1(this.g);var e=this.g.Da();const ye=this.g.ba();if(!(3>pe)&&(pe!=3||Ja||this.g&&(this.h.h||this.g.ga()||oc$1(this.g)))){this.I||pe!=4||e==7||(e==8||0>=ye?I(3):I(2)),pc$1(this);var r=this.g.ba();this.N=r;t:if(qc(this)){var i=oc$1(this.g);n="";var o=i.length,f=O$1(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){P(this),rc$1(this);var m="";break t}this.h.i=new l.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:f&&e==o-1});i.splice(0,o),this.h.g+=n,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=r==200,Ob(this.j,this.u,this.A,this.m,this.X,pe,r),this.i){if(this.$&&!this.J){t:{if(this.g){var _,re=this.g;if((_=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sa$1(_)){var ie=_;break t}}ie=null}if(r=ie)F$1(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sc(this,r);else{this.i=!1,this.o=3,J$1(12),P(this),rc$1(this);break e}}this.U?(tc(this,pe,m),Ja&&this.i&&pe==3&&(Kb(this.V,this.W,"tick",this.fb),this.W.start())):(F$1(this.j,this.m,m,null),sc(this,m)),pe==4&&P(this),this.i&&!this.I&&(pe==4?uc$1(this.l,this):(this.i=!1,lc$1(this)))}else r==400&&0<m.indexOf("Unknown SID")?(this.o=3,J$1(12)):(this.o=0,J$1(13)),P(this),rc$1(this)}}}catch{}finally{}};function qc(n){return n.g?n.u=="GET"&&n.K!=2&&n.l.Ba:!1}function tc(n,e,r){let i=!0,o;for(;!n.I&&n.C<r.length;)if(o=vc$1(n,r),o==hc$1){e==4&&(n.o=4,J$1(14),i=!1),F$1(n.j,n.m,null,"[Incomplete Response]");break}else if(o==gc$1){n.o=4,J$1(15),F$1(n.j,n.m,r,"[Invalid Chunk]"),i=!1;break}else F$1(n.j,n.m,o,null),sc(n,o);qc(n)&&o!=hc$1&&o!=gc$1&&(n.h.g="",n.C=0),e!=4||r.length!=0||n.h.h||(n.o=1,J$1(16),i=!1),n.i=n.i&&i,i?0<r.length&&!n.aa&&(n.aa=!0,e=n.l,e.g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),wc(e),e.L=!0,J$1(11))):(F$1(n.j,n.m,r,"[Invalid Chunked Response]"),P(n),rc$1(n))}k$1.fb=function(){if(this.g){var n=O$1(this.g),e=this.g.ga();this.C<e.length&&(pc$1(this),tc(this,n,e),this.i&&n!=4&&lc$1(this))}};function vc$1(n,e){var r=n.C,i=e.indexOf(`
`,r);return i==-1?hc$1:(r=Number(e.substring(r,i)),isNaN(r)?gc$1:(i+=1,i+r>e.length?hc$1:(e=e.substr(i,r),n.C=i+r,e)))}k$1.cancel=function(){this.I=!0,P(this)};function lc$1(n){n.Y=Date.now()+n.P,xc$1(n,n.P)}function xc$1(n,e){if(n.B!=null)throw Error("WatchDog timer not null");n.B=K$1(q(n.eb,n),e)}function pc$1(n){n.B&&(l.clearTimeout(n.B),n.B=null)}k$1.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(Qb(this.j,this.A),this.K!=2&&(I(3),J$1(17)),P(this),this.o=2,rc$1(this)):xc$1(this,this.Y-n)};function rc$1(n){n.l.G==0||n.I||uc$1(n.l,n)}function P(n){pc$1(n);var e=n.L;e&&typeof e.na=="function"&&e.na(),n.L=null,Fb(n.W),Lb(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function sc(n,e){try{var r=n.l;if(r.G!=0&&(r.g==n||yc$1(r.i,n))){if(r.I=n.N,!n.J&&yc$1(r.i,n)&&r.G==3){try{var i=r.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!r.u){if(r.g)if(r.g.F+3e3<n.F)zc$1(r),Ac(r);else break e;Bc(r),J$1(18)}}else r.ta=o[1],0<r.ta-r.U&&37500>o[2]&&r.N&&r.A==0&&!r.v&&(r.v=K$1(q(r.ab,r),6e3));if(1>=Cc$1(r.i)&&r.ka){try{r.ka()}catch{}r.ka=void 0}}else Q$1(r,11)}else if((n.J||r.g==n)&&zc$1(r),!sa$1(e))for(o=r.Ca.g.parse(e),e=0;e<o.length;e++){let ie=o[e];if(r.U=ie[0],ie=ie[1],r.G==2)if(ie[0]=="c"){r.J=ie[1],r.la=ie[2];const pe=ie[3];pe!=null&&(r.ma=pe,r.h.info("VER="+r.ma));const ye=ie[4];ye!=null&&(r.za=ye,r.h.info("SVER="+r.za));const yt=ie[5];yt!=null&&typeof yt=="number"&&0<yt&&(i=1.5*yt,r.K=i,r.h.info("backChannelRequestTimeoutMs_="+i)),i=r;const Yt=n.g;if(Yt){const Xt=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xt){var f=i.i;!f.g&&(w(Xt,"spdy")||w(Xt,"quic")||w(Xt,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Dc$1(f,f.h),f.h=null))}if(i.D){const Cn=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cn&&(i.sa=Cn,R(i.F,i.D,Cn))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-n.F,r.h.info("Handshake RTT: "+r.O+"ms")),i=r;var m=n;if(i.oa=Ec(i,i.H?i.la:null,i.W),m.J){Fc(i.i,m);var _=m,re=i.K;re&&_.setTimeout(re),_.B&&(pc$1(_),lc$1(_)),i.g=m}else Gc$1(i);0<r.l.length&&Hc$1(r)}else ie[0]!="stop"&&ie[0]!="close"||Q$1(r,7);else r.G==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?Q$1(r,7):Ic(r):ie[0]!="noop"&&r.j&&r.j.wa(ie),r.A=0)}}I(4)}catch{}}function Jc(n){if(n.R&&typeof n.R=="function")return n.R();if(typeof n=="string")return n.split("");if(ba(n)){for(var e=[],r=n.length,i=0;i<r;i++)e.push(n[i]);return e}e=[],r=0;for(i in n)e[r++]=n[i];return e}function Kc(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(ba(n)||typeof n=="string")na$1(n,e,void 0);else{if(n.T&&typeof n.T=="function")var r=n.T();else if(n.R&&typeof n.R=="function")r=void 0;else if(ba(n)||typeof n=="string"){r=[];for(var i=n.length,o=0;o<i;o++)r.push(o)}else for(o in r=[],i=0,n)r[i++]=o;i=Jc(n),o=i.length;for(var f=0;f<o;f++)e.call(void 0,i[f],r&&r[f],n)}}function S(n,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var i=0;i<r;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof S)for(r=n.T(),i=0;i<r.length;i++)this.set(r[i],n.get(r[i]));else for(i in n)this.set(i,n[i])}k$1=S.prototype,k$1.R=function(){Lc(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},k$1.T=function(){return Lc(this),this.g.concat()};function Lc(n){if(n.i!=n.g.length){for(var e=0,r=0;e<n.g.length;){var i=n.g[e];T(n.h,i)&&(n.g[r++]=i),e++}n.g.length=r}if(n.i!=n.g.length){var o={};for(r=e=0;e<n.g.length;)i=n.g[e],T(o,i)||(n.g[r++]=i,o[i]=1),e++;n.g.length=r}}k$1.get=function(n,e){return T(this.h,n)?this.h[n]:e},k$1.set=function(n,e){T(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},k$1.forEach=function(n,e){for(var r=this.T(),i=0;i<r.length;i++){var o=r[i],f=this.get(o);n.call(e,f,o,this)}};function T(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var Mc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nc(n,e){if(n){n=n.split("&");for(var r=0;r<n.length;r++){var i=n[r].indexOf("="),o=null;if(0<=i){var f=n[r].substring(0,i);o=n[r].substring(i+1)}else f=n[r];e(f,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function U$1(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof U$1){this.g=e!==void 0?e:n.g,Oc(this,n.j),this.s=n.s,Pc$1(this,n.i),Qc(this,n.m),this.l=n.l,e=n.h;var r=new Rc$1;r.i=e.i,e.g&&(r.g=new S(e.g),r.h=e.h),Sc(this,r),this.o=n.o}else n&&(r=String(n).match(Mc))?(this.g=!!e,Oc(this,r[1]||"",!0),this.s=Tc(r[2]||""),Pc$1(this,r[3]||"",!0),Qc(this,r[4]),this.l=Tc(r[5]||"",!0),Sc(this,r[6]||"",!0),this.o=Tc(r[7]||"")):(this.g=!!e,this.h=new Rc$1(null,this.g))}U$1.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Uc(e,Vc,!0),":");var r=this.i;return(r||e=="file")&&(n.push("//"),(e=this.s)&&n.push(Uc(e,Vc,!0),"@"),n.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&n.push(":",String(r))),(r=this.l)&&(this.i&&r.charAt(0)!="/"&&n.push("/"),n.push(Uc(r,r.charAt(0)=="/"?Wc$1:Xc$1,!0))),(r=this.h.toString())&&n.push("?",r),(r=this.o)&&n.push("#",Uc(r,Yc)),n.join("")};function N$1(n){return new U$1(n)}function Oc(n,e,r){n.j=r?Tc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Pc$1(n,e,r){n.i=r?Tc(e,!0):e}function Qc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Sc(n,e,r){e instanceof Rc$1?(n.h=e,Zc$1(n.h,n.g)):(r||(e=Uc(e,$c)),n.h=new Rc$1(e,n.g))}function R(n,e,r){n.h.set(e,r)}function jc$1(n){return R(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ad(n){return n instanceof U$1?N$1(n):new U$1(n,void 0)}function bd(n,e,r,i){var o=new U$1(null,void 0);return n&&Oc(o,n),e&&Pc$1(o,e),r&&Qc(o,r),i&&(o.l=i),o}function Tc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Uc(n,e,r){return typeof n=="string"?(n=encodeURI(n).replace(e,cd),r&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cd(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var Vc=/[#\/\?@]/g,Xc$1=/[#\?:]/g,Wc$1=/[#\?]/g,$c=/[#\?@]/g,Yc=/#/g;function Rc$1(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function V(n){n.g||(n.g=new S,n.h=0,n.i&&Nc(n.i,function(e,r){n.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}k$1=Rc$1.prototype,k$1.add=function(n,e){V(this),this.i=null,n=W$1(this,n);var r=this.g.get(n);return r||this.g.set(n,r=[]),r.push(e),this.h+=1,this};function dd(n,e){V(n),e=W$1(n,e),T(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,n=n.g,T(n.h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Lc(n)))}function ed(n,e){return V(n),e=W$1(n,e),T(n.g.h,e)}k$1.forEach=function(n,e){V(this),this.g.forEach(function(r,i){na$1(r,function(o){n.call(e,o,i,this)},this)},this)},k$1.T=function(){V(this);for(var n=this.g.R(),e=this.g.T(),r=[],i=0;i<e.length;i++)for(var o=n[i],f=0;f<o.length;f++)r.push(e[i]);return r},k$1.R=function(n){V(this);var e=[];if(typeof n=="string")ed(this,n)&&(e=qa$1(e,this.g.get(W$1(this,n))));else{n=this.g.R();for(var r=0;r<n.length;r++)e=qa$1(e,n[r])}return e},k$1.set=function(n,e){return V(this),this.i=null,n=W$1(this,n),ed(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},k$1.get=function(n,e){return n?(n=this.R(n),0<n.length?String(n[0]):e):e};function mc$1(n,e,r){dd(n,e),0<r.length&&(n.i=null,n.g.set(W$1(n,e),ra(r)),n.h+=r.length)}k$1.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),r=0;r<e.length;r++){var i=e[r],o=encodeURIComponent(String(i));i=this.R(i);for(var f=0;f<i.length;f++){var m=o;i[f]!==""&&(m+="="+encodeURIComponent(String(i[f]))),n.push(m)}}return this.i=n.join("&")};function W$1(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Zc$1(n,e){e&&!n.j&&(V(n),n.i=null,n.g.forEach(function(r,i){var o=i.toLowerCase();i!=o&&(dd(this,i),mc$1(this,o,r))},n)),n.j=e}var fd=class{constructor(n,e){this.h=n,this.g=e}};function gd(n){this.l=n||hd,l.PerformanceNavigationTiming?(n=l.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(l.g&&l.g.Ea&&l.g.Ea()&&l.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hd=10;function id(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function Cc$1(n){return n.h?1:n.g?n.g.size:0}function yc$1(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function Dc$1(n,e){n.g?n.g.add(e):n.h=e}function Fc(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}gd.prototype.cancel=function(){if(this.i=jd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function jd(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let e=n.i;for(const r of n.g.values())e=e.concat(r.D);return e}return ra(n.i)}function kd(){}kd.prototype.stringify=function(n){return l.JSON.stringify(n,void 0)},kd.prototype.parse=function(n){return l.JSON.parse(n,void 0)};function ld(){this.g=new kd}function md(n,e,r){const i=r||"";try{Kc(n,function(o,f){let m=o;p(o)&&(m=rb(o)),e.push(i+f+"="+encodeURIComponent(m))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function nd(n,e){const r=new Mb;if(l.Image){const i=new Image;i.onload=ja(od,r,i,"TestLoadImage: loaded",!0,e),i.onerror=ja(od,r,i,"TestLoadImage: error",!1,e),i.onabort=ja(od,r,i,"TestLoadImage: abort",!1,e),i.ontimeout=ja(od,r,i,"TestLoadImage: timeout",!1,e),l.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}function od(n,e,r,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function pd(n){this.l=n.$b||null,this.j=n.ib||!1}t(pd,Yb),pd.prototype.g=function(){return new qd(this.l,this.j)},pd.prototype.i=function(n){return function(){return n}}({});function qd(n,e){C$1.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=rd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t(qd,C$1);var rd=0;k$1=qd.prototype,k$1.open=function(n,e){if(this.readyState!=rd)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,sd(this)},k$1.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||l).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},k$1.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,td(this)),this.readyState=rd},k$1.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof l.ReadableStream!="undefined"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ud(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))};function ud(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}k$1.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?td(this):sd(this),this.readyState==3&&ud(this)}},k$1.Ua=function(n){this.g&&(this.response=this.responseText=n,td(this))},k$1.Ta=function(n){this.g&&(this.response=n,td(this))},k$1.ha=function(){this.g&&td(this)};function td(n){n.readyState=4,n.l=null,n.j=null,n.A=null,sd(n)}k$1.setRequestHeader=function(n,e){this.v.append(n,e)},k$1.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},k$1.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,n.push(r[0]+": "+r[1]),r=e.next();return n.join(`\r
`)};function sd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var vd=l.JSON.parse;function X$1(n){C$1.call(this),this.headers=new S,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wd,this.K=this.L=!1}t(X$1,C$1);var wd="",xd=/^https?$/i,yd=["POST","PUT"];k$1=X$1.prototype,k$1.ea=function(n,e,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cc$1.g(),this.C=this.u?Zb(this.u):Zb(cc$1),this.g.onreadystatechange=q(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(f){zd(this,f);return}n=r||"";const o=new S(this.headers);i&&Kc(i,function(f,m){o.set(m,f)}),i=oa(o.T()),r=l.FormData&&n instanceof l.FormData,!(0<=ma$1(yd,e))||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(f,m){this.g.setRequestHeader(m,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ad(this),0<this.B&&((this.K=Bd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q(this.pa,this)):this.A=Gb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(f){zd(this,f)}};function Bd(n){return y&&Ra()&&typeof n.timeout=="number"&&n.ontimeout!==void 0}function pa(n){return n.toLowerCase()=="content-type"}k$1.pa=function(){typeof goog!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,D$1(this,"timeout"),this.abort(8))};function zd(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Cd(n),Dd(n)}function Cd(n){n.D||(n.D=!0,D$1(n,"complete"),D$1(n,"error"))}k$1.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,D$1(this,"complete"),D$1(this,"abort"),Dd(this))},k$1.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dd(this,!0)),X$1.Z.M.call(this)},k$1.Fa=function(){this.s||(this.F||this.v||this.l?Ed(this):this.cb())},k$1.cb=function(){Ed(this)};function Ed(n){if(n.h&&typeof goog!="undefined"&&(!n.C[1]||O$1(n)!=4||n.ba()!=2)){if(n.v&&O$1(n)==4)Gb(n.Fa,0,n);else if(D$1(n,"readystatechange"),O$1(n)==4){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var i;if(i=_===0){var o=String(n.H).match(Mc)[1]||null;if(!o&&l.self&&l.self.location){var f=l.self.location.protocol;o=f.substr(0,f.length-1)}i=!xd.test(o?o.toLowerCase():"")}r=i}if(r)D$1(n,"complete"),D$1(n,"success");else{n.m=6;try{var m=2<O$1(n)?n.g.statusText:""}catch{m=""}n.j=m+" ["+n.ba()+"]",Cd(n)}}finally{Dd(n)}}}}function Dd(n,e){if(n.g){Ad(n);const r=n.g,i=n.C[0]?aa:null;n.g=null,n.C=null,e||D$1(n,"ready");try{r.onreadystatechange=i}catch{}}}function Ad(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(l.clearTimeout(n.A),n.A=null)}function O$1(n){return n.g?n.g.readyState:0}k$1.ba=function(){try{return 2<O$1(this)?this.g.status:-1}catch{return-1}},k$1.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},k$1.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),vd(e)}};function oc$1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case wd:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}k$1.Da=function(){return this.m},k$1.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Fd(n){let e="";return xa(n,function(r,i){e+=i,e+=":",e+=r,e+=`\r
`}),e}function Gd(n,e,r){e:{for(i in r){var i=!1;break e}i=!0}i||(r=Fd(r),typeof n=="string"?r!=null&&encodeURIComponent(String(r)):R(n,e,r))}function Hd(n,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[n]||e}function Id(n){this.za=0,this.l=[],this.h=new Mb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hd("baseRetryDelayMs",5e3,n),this.$a=Hd("retryDelaySeedMs",1e4,n),this.Ya=Hd("forwardChannelMaxRetries",2,n),this.ra=Hd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new gd(n&&n.concurrentRequestLimit),this.Ca=new ld,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||n.Xb!==!1}k$1=Id.prototype,k$1.ma=8,k$1.G=1;function Ic(n){if(Jd(n),n.G==3){var e=n.V++,r=N$1(n.F);R(r,"SID",n.J),R(r,"RID",e),R(r,"TYPE","terminate"),Kd(n,r),e=new M(n,n.h,e,void 0),e.K=2,e.v=jc$1(N$1(r)),r=!1,l.navigator&&l.navigator.sendBeacon&&(r=l.navigator.sendBeacon(e.v.toString(),"")),!r&&l.Image&&(new Image().src=e.v,r=!0),r||(e.g=nc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),lc$1(e)}Ld(n)}k$1.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}};function Ac(n){n.g&&(wc(n),n.g.cancel(),n.g=null)}function Jd(n){Ac(n),n.u&&(l.clearTimeout(n.u),n.u=null),zc$1(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&l.clearTimeout(n.m),n.m=null)}function Md(n,e){n.l.push(new fd(n.Za++,e)),n.G==3&&Hc$1(n)}function Hc$1(n){id(n.i)||n.m||(n.m=!0,zb(n.Ha,n),n.C=0)}function Nd(n,e){return Cc$1(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.l=e.D.concat(n.l),!0):n.G==1||n.G==2||n.C>=(n.Xa?0:n.Ya)?!1:(n.m=K$1(q(n.Ha,n,e),Od(n,n.C)),n.C++,!0)}k$1.Ha=function(n){if(this.m)if(this.m=null,this.G==1){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new M(this,this.h,n,void 0);let f=this.s;if(this.P&&(f?(f=ya(f),Aa(f,this.P)):f=this.P),this.o===null&&(o.H=f),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){t:{var i=this.l[r];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=r;break e}if(e===4096||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Pd(this,o,e),r=N$1(this.F),R(r,"RID",n),R(r,"CVER",22),this.D&&R(r,"X-HTTP-Session-Id",this.D),Kd(this,r),this.o&&f&&Gd(r,this.o,f),Dc$1(this.i,o),this.Ra&&R(r,"TYPE","init"),this.ja?(R(r,"$req",e),R(r,"SID","null"),o.$=!0,ic(o,r,null)):ic(o,r,e),this.G=2}}else this.G==3&&(n?Qd(this,n):this.l.length==0||id(this.i)||Qd(this))};function Qd(n,e){var r;e?r=e.m:r=n.V++;const i=N$1(n.F);R(i,"SID",n.J),R(i,"RID",r),R(i,"AID",n.U),Kd(n,i),n.o&&n.s&&Gd(i,n.o,n.s),r=new M(n,n.h,r,n.C+1),n.o===null&&(r.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Pd(n,r,1e3),r.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Dc$1(n.i,r),ic(r,i,e)}function Kd(n,e){n.j&&Kc({},function(r,i){R(e,i,r)})}function Pd(n,e,r){r=Math.min(n.l.length,r);var i=n.j?q(n.j.Oa,n.j,n):null;e:{var o=n.l;let f=-1;for(;;){const m=["count="+r];f==-1?0<r?(f=o[0].h,m.push("ofs="+f)):f=0:m.push("ofs="+f);let _=!0;for(let re=0;re<r;re++){let ie=o[re].h;const pe=o[re].g;if(ie-=f,0>ie)f=Math.max(0,o[re].h-100),_=!1;else try{md(pe,m,"req"+ie+"_")}catch{i&&i(pe)}}if(_){i=m.join("&");break e}}}return n=n.l.splice(0,r),e.D=n,i}function Gc$1(n){n.g||n.u||(n.Y=1,zb(n.Ga,n),n.A=0)}function Bc(n){return n.g||n.u||3<=n.A?!1:(n.Y++,n.u=K$1(q(n.Ga,n),Od(n,n.A)),n.A++,!0)}k$1.Ga=function(){if(this.u=null,Rd(this),this.$&&!(this.L||this.g==null||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=K$1(q(this.bb,this),n)}},k$1.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,J$1(10),Ac(this),Rd(this))};function wc(n){n.B!=null&&(l.clearTimeout(n.B),n.B=null)}function Rd(n){n.g=new M(n,n.h,"rpc",n.Y),n.o===null&&(n.g.H=n.s),n.g.O=0;var e=N$1(n.oa);R(e,"RID","rpc"),R(e,"SID",n.J),R(e,"CI",n.N?"0":"1"),R(e,"AID",n.U),Kd(n,e),R(e,"TYPE","xmlhttp"),n.o&&n.s&&Gd(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var r=n.g;n=n.la,r.K=1,r.v=jc$1(N$1(e)),r.s=null,r.U=!0,kc(r,n)}k$1.ab=function(){this.v!=null&&(this.v=null,Ac(this),Bc(this),J$1(19))};function zc$1(n){n.v!=null&&(l.clearTimeout(n.v),n.v=null)}function uc$1(n,e){var r=null;if(n.g==e){zc$1(n),wc(n),n.g=null;var i=2}else if(yc$1(n.i,e))r=e.D,Fc(n.i,e),i=1;else return;if(n.I=e.N,n.G!=0){if(e.i)if(i==1){r=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;i=Sb(),D$1(i,new Vb(i,r,e,o)),Hc$1(n)}else Gc$1(n);else if(o=e.o,o==3||o==0&&0<n.I||!(i==1&&Nd(n,e)||i==2&&Bc(n)))switch(r&&0<r.length&&(e=n.i,e.i=e.i.concat(r)),o){case 1:Q$1(n,5);break;case 4:Q$1(n,10);break;case 3:Q$1(n,6);break;default:Q$1(n,2)}}}function Od(n,e){let r=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(r*=2),r*e}function Q$1(n,e){if(n.h.info("Error code "+e),e==2){var r=null;n.j&&(r=null);var i=q(n.jb,n);r||(r=new U$1("//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Oc(r,"https"),jc$1(r)),nd(r.toString(),i)}else J$1(2);n.G=0,n.j&&n.j.va(e),Ld(n),Jd(n)}k$1.jb=function(n){n?(this.h.info("Successfully pinged google.com"),J$1(2)):(this.h.info("Failed to ping google.com"),J$1(1))};function Ld(n){n.G=0,n.I=-1,n.j&&((jd(n.i).length!=0||n.l.length!=0)&&(n.i.i.length=0,ra(n.l),n.l.length=0),n.j.ua())}function Ec(n,e,r){let i=ad(r);if(i.i!="")e&&Pc$1(i,e+"."+i.i),Qc(i,i.m);else{const o=l.location;i=bd(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,r)}return n.aa&&xa(n.aa,function(o,f){R(i,f,o)}),e=n.D,r=n.sa,e&&r&&R(i,e,r),R(i,"VER",n.ma),Kd(n,i),i}function nc(n,e,r){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=r&&n.Ba&&!n.qa?new X$1(new pd({ib:!0})):new X$1(n.qa),e.L=n.H,e}function Sd(){}k$1=Sd.prototype,k$1.xa=function(){},k$1.wa=function(){},k$1.va=function(){},k$1.ua=function(){},k$1.Oa=function(){};function Td(){if(y&&!(10<=Number(Ua$1)))throw Error("Environmental error: no available transport.")}Td.prototype.g=function(n,e){return new Y$1(n,e)};function Y$1(n,e){C$1.call(this),this.g=new Id(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!sa$1(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sa$1(e)&&(this.g.D=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new Z$1(this)}t(Y$1,C$1),Y$1.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,r=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),zb(q(n.hb,n,e))),J$1(0),n.W=e,n.aa=r||{},n.N=n.X,n.F=Ec(n,null,n.W),Hc$1(n)},Y$1.prototype.close=function(){Ic(this.g)},Y$1.prototype.u=function(n){if(typeof n=="string"){var e={};e.__data__=n,Md(this.g,e)}else this.v?(e={},e.__data__=rb(n),Md(this.g,e)):Md(this.g,n)},Y$1.prototype.M=function(){this.g.j=null,delete this.j,Ic(this.g),delete this.g,Y$1.Z.M.call(this)};function Ud(n){ac.call(this);var e=n.__sm__;if(e){e:{for(const r in e){n=r;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}t(Ud,ac);function Vd(){bc.call(this),this.status=1}t(Vd,bc);function Z$1(n){this.g=n}t(Z$1,Sd),Z$1.prototype.xa=function(){D$1(this.g,"a")},Z$1.prototype.wa=function(n){D$1(this.g,new Ud(n))},Z$1.prototype.va=function(n){D$1(this.g,new Vd(n))},Z$1.prototype.ua=function(){D$1(this.g,"b")},Td.prototype.createWebChannel=Td.prototype.g,Y$1.prototype.send=Y$1.prototype.u,Y$1.prototype.open=Y$1.prototype.m,Y$1.prototype.close=Y$1.prototype.close,Wb.NO_ERROR=0,Wb.TIMEOUT=8,Wb.HTTP_ERROR=6,Xb.COMPLETE="complete",$b.EventType=L$1,L$1.OPEN="a",L$1.CLOSE="b",L$1.ERROR="c",L$1.MESSAGE="d",C$1.prototype.listen=C$1.prototype.N,X$1.prototype.listenOnce=X$1.prototype.O,X$1.prototype.getLastError=X$1.prototype.La,X$1.prototype.getLastErrorCode=X$1.prototype.Da,X$1.prototype.getStatus=X$1.prototype.ba,X$1.prototype.getResponseJson=X$1.prototype.Qa,X$1.prototype.getResponseText=X$1.prototype.ga,X$1.prototype.send=X$1.prototype.ea;var createWebChannelTransport=function(){return new Td},getStatEventTarget=function(){return Sb()},ErrorCode=Wb,EventType=Xb,Event=H,Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},FetchXmlHttpFactory=pd,WebChannel=$b,XhrIo=X$1;const D="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x="9.6.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=new Logger("@firebase/firestore");function k(){return N.logLevel}function O(n,...e){if(N.logLevel<=LogLevel.DEBUG){const r=e.map(B);N.debug(`Firestore (${x}): ${n}`,...r)}}function F(n,...e){if(N.logLevel<=LogLevel.ERROR){const r=e.map(B);N.error(`Firestore (${x}): ${n}`,...r)}}function $(n,...e){if(N.logLevel<=LogLevel.WARN){const r=e.map(B);N.warn(`Firestore (${x}): ${n}`,...r)}}function B(n){if(typeof n=="string")return n;try{return e=n,JSON.stringify(e)}catch{return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(n="Unexpected state"){const e=`FIRESTORE (${x}) INTERNAL ASSERTION FAILED: `+n;throw F(e),new Error(e)}function U(n,e){n||L()}function K(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends FirebaseError{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(C.UNAUTHENTICATED))}shutdown(){}}class J{constructor(e){this.t=e,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let i=this.i;const o=re=>this.i!==i?(i=this.i,r(re)):Promise.resolve();let f=new j;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new j,e.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const re=f;e.enqueueRetryable(async()=>{await re.promise,await o(this.currentUser)})},_=re=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=re,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(re=>_(re)),setTimeout(()=>{if(!this.auth){const re=this.t.getImmediate({optional:!0});re?_(re):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new j)}},0),m()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(U(typeof i.accessToken=="string"),new W(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(e===null||typeof e=="string"),new C(e)}}class Y{constructor(e,r,i){this.type="FirstParty",this.user=C.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class X{constructor(e,r,i){this.h=e,this.l=r,this.m=i}getToken(){return Promise.resolve(new Y(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tt{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,r){const i=f=>{f.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.p;return this.p=f.token,O("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>i(f))};const o=f=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.g.onInit(f=>o(f)),setTimeout(()=>{if(!this.appCheck){const f=this.g.getImmediate({optional:!0});f?o(f):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(U(typeof r.token=="string"),this.p=r.token,new Z(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.I(i),this.T=i=>r.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(n){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nt.A=-1;class it{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=st(40);for(let f=0;f<o.length;++f)i.length<20&&o[f]<r&&(i+=e.charAt(o[f]%e.length))}return i}}function rt(n,e){return n<e?-1:n>e?1:0}function ot(n,e,r){return n.length===e.length&&n.every((i,o)=>r(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Q(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Q(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Q(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*r));return new at(r,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new at(0,0))}static max(){return new ct(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n){let e=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e++;return e}function lt(n,e){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(r,n[r])}function ft(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,r,i){r===void 0?r=0:r>e.length&&L(),i===void 0?i=e.length-r:i>e.length-r&&L(),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return dt.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof dt?e.forEach(i=>{r.push(i)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const i=Math.min(e.length,r.length);for(let o=0;o<i;o++){const f=e.get(o),m=r.get(o);if(f<m)return-1;if(f>m)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class _t extends dt{construct(e,r,i){return new _t(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const i of e){if(i.indexOf("//")>=0)throw new Q(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(o=>o.length>0))}return new _t(r)}static emptyPath(){return new _t([])}}const wt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends dt{construct(e,r,i){return new mt(e,r,i)}static isValidIdentifier(e){return wt.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const r=[];let i="",o=0;const f=()=>{if(i.length===0)throw new Q(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let m=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new Q(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const re=e[o+1];if(re!=="\\"&&re!=="."&&re!=="`")throw new Q(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=re,o+=2}else _==="`"?(m=!m,o++):_!=="."||m?(i+=_,o++):(f(),o++)}if(f(),m)throw new Q(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(r)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new pt(r)}static fromUint8Array(e){const r=function(i){let o="";for(let f=0;f<i.length;++f)o+=String.fromCharCode(i[f]);return o}(e);return new pt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const It=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tt(n){if(U(!!n),typeof n=="string"){let e=0;const r=It.exec(n);if(U(!!r),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function At(n){return typeof n=="string"?pt.fromBase64String(n):pt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Pt(n){const e=n.mapValue.fields.__previous_value__;return Rt(e)?Pt(e):e}function bt(n){const e=Tt(n.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,r,i,o,f,m,_,re){this.databaseId=e,this.appId=r,this.persistenceKey=i,this.host=o,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=_,this.useFetchStreams=re}}class vt{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new vt("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vt&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n){return n==null}function Dt(n){return n===0&&1/n==-1/0}function Ct(n){return typeof n=="number"&&Number.isInteger(n)&&!Dt(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.path=e}static fromPath(e){return new xt(_t.fromString(e))}static fromName(e){return new xt(_t.fromString(e).popFirst(5))}static empty(){return new xt(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return _t.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xt(new _t(e.slice()))}}function Mt(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rt(n)?4:Ht(n)?9:10:L()}function Ot(n,e){if(n===e)return!0;const r=Mt(n);if(r!==Mt(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bt(n).isEqual(bt(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const f=Tt(i.timestampValue),m=Tt(o.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return At(i.bytesValue).isEqual(At(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const f=Et(i.doubleValue),m=Et(o.doubleValue);return f===m?Dt(f)===Dt(m):isNaN(f)&&isNaN(m)}return!1}(n,e);case 9:return ot(n.arrayValue.values||[],e.arrayValue.values||[],Ot);case 10:return function(i,o){const f=i.mapValue.fields||{},m=o.mapValue.fields||{};if(ht(f)!==ht(m))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(m[_]===void 0||!Ot(f[_],m[_])))return!1;return!0}(n,e);default:return L()}}function Ft(n,e){return(n.values||[]).find(r=>Ot(r,e))!==void 0}function $t(n,e){if(n===e)return 0;const r=Mt(n),i=Mt(e);if(r!==i)return rt(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return rt(n.booleanValue,e.booleanValue);case 2:return function(o,f){const m=Et(o.integerValue||o.doubleValue),_=Et(f.integerValue||f.doubleValue);return m<_?-1:m>_?1:m===_?0:isNaN(m)?isNaN(_)?0:-1:1}(n,e);case 3:return Bt(n.timestampValue,e.timestampValue);case 4:return Bt(bt(n),bt(e));case 5:return rt(n.stringValue,e.stringValue);case 6:return function(o,f){const m=At(o),_=At(f);return m.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(o,f){const m=o.split("/"),_=f.split("/");for(let re=0;re<m.length&&re<_.length;re++){const ie=rt(m[re],_[re]);if(ie!==0)return ie}return rt(m.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,f){const m=rt(Et(o.latitude),Et(f.latitude));return m!==0?m:rt(Et(o.longitude),Et(f.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,f){const m=o.values||[],_=f.values||[];for(let re=0;re<m.length&&re<_.length;++re){const ie=$t(m[re],_[re]);if(ie)return ie}return rt(m.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,f){const m=o.fields||{},_=Object.keys(m),re=f.fields||{},ie=Object.keys(re);_.sort(),ie.sort();for(let pe=0;pe<_.length&&pe<ie.length;++pe){const ye=rt(_[pe],ie[pe]);if(ye!==0)return ye;const yt=$t(m[_[pe]],re[ie[pe]]);if(yt!==0)return yt}return rt(_.length,ie.length)}(n.mapValue,e.mapValue);default:throw L()}}function Bt(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return rt(n,e);const r=Tt(n),i=Tt(e),o=rt(r.seconds,i.seconds);return o!==0?o:rt(r.nanos,i.nanos)}function Lt(n){return Ut(n)}function Ut(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const o=Tt(i);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?At(n.bytesValue).toBase64():"referenceValue"in n?(r=n.referenceValue,xt.fromName(r).toString()):"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let o="[",f=!0;for(const m of i.values||[])f?f=!1:o+=",",o+=Ut(m);return o+"]"}(n.arrayValue):"mapValue"in n?function(i){const o=Object.keys(i.fields||{}).sort();let f="{",m=!0;for(const _ of o)m?m=!1:f+=",",f+=`${_}:${Ut(i.fields[_])}`;return f+"}"}(n.mapValue):L();var e,r}function qt(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kt(n){return!!n&&"integerValue"in n}function Gt(n){return!!n&&"arrayValue"in n}function Qt(n){return!!n&&"nullValue"in n}function jt(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wt(n){return!!n&&"mapValue"in n}function zt(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return lt(n.mapValue.fields,(r,i)=>e.mapValue.fields[r]=zt(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=zt(n.arrayValue.values[r]);return e}return Object.assign({},n)}function Ht(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.value=e}static empty(){return new te({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let i=0;i<e.length-1;++i)if(r=(r.mapValue.fields||{})[e.get(i)],!Wt(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=zt(r)}setAll(e){let r=mt.emptyPath(),i={},o=[];e.forEach((m,_)=>{if(!r.isImmediateParentOf(_)){const re=this.getFieldsMap(r);this.applyChanges(re,i,o),i={},o=[],r=_.popLast()}m?i[_.lastSegment()]=zt(m):o.push(_.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,i,o)}delete(e){const r=this.field(e.popLast());Wt(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ot(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=r.mapValue.fields[e.get(i)];Wt(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(i)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,i){lt(r,(o,f)=>e[o]=f);for(const o of i)delete e[o]}clone(){return new te(zt(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,r,i,o,f,m){this.key=e,this.documentType=r,this.version=i,this.readTime=o,this.data=f,this.documentState=m}static newInvalidDocument(e){return new ne(e,0,ct.min(),ct.min(),te.empty(),0)}static newFoundDocument(e,r,i){return new ne(e,1,r,ct.min(),i,0)}static newNoDocument(e,r){return new ne(e,2,r,ct.min(),te.empty(),0)}static newUnknownDocument(e,r){return new ne(e,3,r,ct.min(),te.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=te.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=te.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ne&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ne(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function ae(n,e){const r=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=ct.fromTimestamp(i===1e9?new at(r+1,0):new at(r,i));return new he(o,xt.empty(),e)}function ce(n){return new he(n.readTime,n.key,-1)}class he{constructor(e,r,i){this.readTime=e,this.documentKey=r,this.largestBatchId=i}static min(){return new he(ct.min(),xt.empty(),-1)}static max(){return new he(ct.max(),xt.empty(),-1)}}function le(n,e){let r=n.readTime.compareTo(e.readTime);return r!==0?r:(r=xt.comparator(n.documentKey,e.documentKey),r!==0?r:rt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,r=null,i=[],o=[],f=null,m=null,_=null){this.path=e,this.collectionGroup=r,this.orderBy=i,this.filters=o,this.limit=f,this.startAt=m,this.endAt=_,this.P=null}}function de(n,e=null,r=[],i=[],o=null,f=null,m=null){return new fe(n,e,r,i,o,f,m)}function _e(n){const e=K(n);if(e.P===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(i=>{return(o=i).field.canonicalString()+o.op.toString()+Lt(o.value);var o}).join(","),r+="|ob:",r+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),St(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>Lt(i)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>Lt(i)).join(",")),e.P=r}return e.P}function we(n){let e=n.path.canonicalString();return n.collectionGroup!==null&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(r=>{return`${(i=r).field.canonicalString()} ${i.op} ${Lt(i.value)}`;var i}).join(", ")}]`),St(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(r=>Lt(r)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(r=>Lt(r)).join(",")),`Target(${e})`}function me(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!xe(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if(r=n.filters[o],i=e.filters[o],r.op!==i.op||!r.field.isEqual(i.field)||!Ot(r.value,i.value))return!1;var r,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ke(n.startAt,e.startAt)&&ke(n.endAt,e.endAt)}function ge(n){return xt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Te extends class{}{constructor(e,r,i){super(),this.field=e,this.op=r,this.value=i}static create(e,r,i){return e.isKeyField()?r==="in"||r==="not-in"?this.V(e,r,i):new Ee(e,r,i):r==="array-contains"?new be(e,i):r==="in"?new Ve(e,i):r==="not-in"?new ve(e,i):r==="array-contains-any"?new Se(e,i):new Te(e,r,i)}static V(e,r,i){return r==="in"?new Ae(e,i):new Re(e,i)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.v($t(r,this.value)):r!==null&&Mt(this.value)===Mt(r)&&this.v($t(r,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return L()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ee extends Te{constructor(e,r,i){super(e,r,i),this.key=xt.fromName(i.referenceValue)}matches(e){const r=xt.comparator(e.key,this.key);return this.v(r)}}class Ae extends Te{constructor(e,r){super(e,"in",r),this.keys=Pe("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Re extends Te{constructor(e,r){super(e,"not-in",r),this.keys=Pe("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Pe(n,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(i=>xt.fromName(i.referenceValue))}class be extends Te{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Gt(r)&&Ft(r.arrayValue,this.value)}}class Ve extends Te{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ft(this.value.arrayValue,r)}}class ve extends Te{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ft(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ft(this.value.arrayValue,r)}}class Se extends Te{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Gt(r)||!r.arrayValue.values)&&r.arrayValue.values.some(i=>Ft(this.value.arrayValue,i))}}class De{constructor(e,r){this.position=e,this.inclusive=r}}class Ce{constructor(e,r="asc"){this.field=e,this.dir=r}}function xe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Ne(n,e,r){let i=0;for(let o=0;o<n.position.length;o++){const f=e[o],m=n.position[o];if(f.field.isKeyField()?i=xt.comparator(xt.fromName(m.referenceValue),r.key):i=$t(m,r.data.field(f.field)),f.dir==="desc"&&(i*=-1),i!==0)break}return i}function ke(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!Ot(n.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,r=null,i=[],o=[],f=null,m="F",_=null,re=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=o,this.limit=f,this.limitType=m,this.startAt=_,this.endAt=re,this.D=null,this.C=null,this.startAt,this.endAt}}function Oe(n,e,r,i,o,f,m,_){return new Me(n,e,r,i,o,f,m,_)}function Fe(n){return new Me(n)}function $e(n){return!St(n.limit)&&n.limitType==="F"}function Be(n){return!St(n.limit)&&n.limitType==="L"}function Le(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ue(n){for(const e of n.filters)if(e.S())return e.field;return null}function qe(n){return n.collectionGroup!==null}function Ke(n){const e=K(n);if(e.D===null){e.D=[];const r=Ue(e),i=Le(e);if(r!==null&&i===null)r.isKeyField()||e.D.push(new Ce(r)),e.D.push(new Ce(mt.keyField(),"asc"));else{let o=!1;for(const f of e.explicitOrderBy)e.D.push(f),f.field.isKeyField()&&(o=!0);if(!o){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ce(mt.keyField(),f))}}}return e.D}function Ge(n){const e=K(n);if(!e.C)if(e.limitType==="F")e.C=de(e.path,e.collectionGroup,Ke(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const f of Ke(e)){const m=f.dir==="desc"?"asc":"desc";r.push(new Ce(f.field,m))}const i=e.endAt?new De(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new De(e.startAt.position,!e.startAt.inclusive):null;e.C=de(e.path,e.collectionGroup,r,e.filters,e.limit,i,o)}return e.C}function Qe(n,e,r){return new Me(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,r,n.startAt,n.endAt)}function je(n,e){return me(Ge(n),Ge(e))&&n.limitType===e.limitType}function We(n){return`${_e(Ge(n))}|lt:${n.limitType}`}function ze(n){return`Query(target=${we(Ge(n))}; limitType=${n.limitType})`}function He(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of r.explicitOrderBy)if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,f,m){const _=Ne(o,f,m);return o.inclusive?_<=0:_<0}(r.startAt,Ke(r),i)||r.endAt&&!function(o,f,m){const _=Ne(o,f,m);return o.inclusive?_>=0:_>0}(r.endAt,Ke(r),i))}(n,e)}function Je(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ye(n){return(e,r)=>{let i=!1;for(const o of Ke(n)){const f=Xe(o,e,r);if(f!==0)return f;i=i||o.field.isKeyField()}return 0}}function Xe(n,e,r){const i=n.field.isKeyField()?xt.comparator(e.key,r.key):function(o,f,m){const _=f.data.field(o),re=m.data.field(o);return _!==null&&re!==null?$t(_,re):L()}(n.field,e,r);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return L()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dt(e)?"-0":e}}function tn(n){return{integerValue:""+n}}function en(n,e){return Ct(e)?tn(e):Ze(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(){this._=void 0}}function sn(n,e,r){return n instanceof un?function(i,o){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(f.fields.__previous_value__=o),{mapValue:f}}(r,e):n instanceof an?cn(n,e):n instanceof hn?ln(n,e):function(i,o){const f=on(i,o),m=dn(f)+dn(i.k);return Kt(f)&&Kt(i.k)?tn(m):Ze(i.M,m)}(n,e)}function rn(n,e,r){return n instanceof an?cn(n,e):n instanceof hn?ln(n,e):r}function on(n,e){return n instanceof fn?Kt(r=e)||function(i){return!!i&&"doubleValue"in i}(r)?e:{integerValue:0}:null;var r}class un extends nn{}class an extends nn{constructor(e){super(),this.elements=e}}function cn(n,e){const r=_n(e);for(const i of n.elements)r.some(o=>Ot(o,i))||r.push(i);return{arrayValue:{values:r}}}class hn extends nn{constructor(e){super(),this.elements=e}}function ln(n,e){let r=_n(e);for(const i of n.elements)r=r.filter(o=>!Ot(o,i));return{arrayValue:{values:r}}}class fn extends nn{constructor(e,r){super(),this.M=e,this.k=r}}function dn(n){return Et(n.integerValue||n.doubleValue)}function _n(n){return Gt(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function mn(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof an&&i instanceof an||r instanceof hn&&i instanceof hn?ot(r.elements,i.elements,Ot):r instanceof fn&&i instanceof fn?Ot(r.k,i.k):r instanceof un&&i instanceof un}(n.transform,e.transform)}function pn(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class In{}function Tn(n,e,r){n instanceof bn?function(i,o,f){const m=i.value.clone(),_=Sn(i.fieldTransforms,o,f.transformResults);m.setAll(_),o.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(n,e,r):n instanceof Vn?function(i,o,f){if(!pn(i.precondition,o))return void o.convertToUnknownDocument(f.version);const m=Sn(i.fieldTransforms,o,f.transformResults),_=o.data;_.setAll(vn(i)),_.setAll(m),o.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(n,e,r):function(i,o,f){o.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,r)}function En(n,e,r){n instanceof bn?function(i,o,f){if(!pn(i.precondition,o))return;const m=i.value.clone(),_=Dn(i.fieldTransforms,f,o);m.setAll(_),o.convertToFoundDocument(Pn(o),m).setHasLocalMutations()}(n,e,r):n instanceof Vn?function(i,o,f){if(!pn(i.precondition,o))return;const m=Dn(i.fieldTransforms,f,o),_=o.data;_.setAll(vn(i)),_.setAll(m),o.convertToFoundDocument(Pn(o),_).setHasLocalMutations()}(n,e,r):function(i,o){pn(i.precondition,o)&&o.convertToNoDocument(ct.min())}(n,e)}function Rn(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ot(r,i,(o,f)=>mn(o,f))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}function Pn(n){return n.isFoundDocument()?n.version:ct.min()}class bn extends In{constructor(e,r,i,o=[]){super(),this.key=e,this.value=r,this.precondition=i,this.fieldTransforms=o,this.type=0}}class Vn extends In{constructor(e,r,i,o,f=[]){super(),this.key=e,this.data=r,this.fieldMask=i,this.precondition=o,this.fieldTransforms=f,this.type=1}}function vn(n){const e=new Map;return n.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const i=n.data.field(r);e.set(r,i)}}),e}function Sn(n,e,r){const i=new Map;U(n.length===r.length);for(let o=0;o<r.length;o++){const f=n[o],m=f.transform,_=e.data.field(f.field);i.set(f.field,rn(m,_,r[o]))}return i}function Dn(n,e,r){const i=new Map;for(const o of n){const f=o.transform,m=r.data.field(o.field);i.set(o.field,sn(f,m,e))}return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,Mn;function Fn(n){if(n===void 0)return F("GRPC error has no .code"),G.UNKNOWN;switch(n){case kn.OK:return G.OK;case kn.CANCELLED:return G.CANCELLED;case kn.UNKNOWN:return G.UNKNOWN;case kn.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case kn.INTERNAL:return G.INTERNAL;case kn.UNAVAILABLE:return G.UNAVAILABLE;case kn.UNAUTHENTICATED:return G.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case kn.NOT_FOUND:return G.NOT_FOUND;case kn.ALREADY_EXISTS:return G.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return G.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case kn.ABORTED:return G.ABORTED;case kn.OUT_OF_RANGE:return G.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return G.UNIMPLEMENTED;case kn.DATA_LOSS:return G.DATA_LOSS;default:return L()}}(Mn=kn||(kn={}))[Mn.OK=0]="OK",Mn[Mn.CANCELLED=1]="CANCELLED",Mn[Mn.UNKNOWN=2]="UNKNOWN",Mn[Mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mn[Mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mn[Mn.NOT_FOUND=5]="NOT_FOUND",Mn[Mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mn[Mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mn[Mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mn[Mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mn[Mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mn[Mn.ABORTED=10]="ABORTED",Mn[Mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mn[Mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mn[Mn.INTERNAL=13]="INTERNAL",Mn[Mn.UNAVAILABLE=14]="UNAVAILABLE",Mn[Mn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(const[o,f]of i)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,r){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,r]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[r]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){lt(this.inner,(r,i)=>{for(const[o,f]of i)e(o,f)})}isEmpty(){return ft(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,r){this.comparator=e,this.root=r||Un.EMPTY}insert(e,r){return new Bn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return r+i.left.size;o<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,i)=>(e(r,i),!1))}toString(){const e=[];return this.inorderTraversal((r,i)=>(e.push(`${r}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ln(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ln(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ln(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ln(this.root,e,this.comparator,!0)}}class Ln{constructor(e,r,i,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?i(e.key,r):1,r&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,r,i,o,f){this.key=e,this.value=r,this.color=i!=null?i:Un.RED,this.left=o!=null?o:Un.EMPTY,this.right=f!=null?f:Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,o,f){return new Un(e!=null?e:this.key,r!=null?r:this.value,i!=null?i:this.color,o!=null?o:this.left,f!=null?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let o=this;const f=i(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,r,i),null):f===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return Un.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1,Un.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(n,e,r,i,o){return this}insert(n,e,r){return new Un(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e,this.data=new Bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,i)=>(e(r),!1))}forEachInRange(e,r){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Kn(this.data.getIterator())}getIteratorFrom(e){return new Kn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(i=>{r=r.add(i)}),r}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,f=i.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new qn(this.comparator);return r.data=e,r}}class Kn{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Bn(xt.comparator);function jn(){return Qn}const Wn=new Bn(xt.comparator);function zn(){return Wn}function Hn(){return new $n(n=>n.toString(),(n,e)=>n.isEqual(e))}new Bn(xt.comparator);const Yn=new qn(xt.comparator);function Xn(...n){let e=Yn;for(const r of n)e=e.add(r);return e}const Zn=new qn(rt);function ts(){return Zn}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,r,i,o,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r){const i=new Map;return i.set(e,ns.createSynthesizedTargetChangeForCurrentChange(e,r)),new es(ct.min(),i,ts(),jn(),Xn())}}class ns{constructor(e,r,i,o,f){this.resumeToken=e,this.current=r,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r){return new ns(pt.EMPTY_BYTE_STRING,r,Xn(),Xn(),Xn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,r,i,o){this.O=e,this.removedTargetIds=r,this.key=i,this.F=o}}class is{constructor(e,r){this.targetId=e,this.$=r}}class rs{constructor(e,r,i=pt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=i,this.cause=o}}class os{constructor(){this.B=0,this.L=cs(),this.U=pt.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return this.B!==0}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Xn(),r=Xn(),i=Xn();return this.L.forEach((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:i=i.add(o);break;default:L()}}),new ns(this.U,this.q,e,r,i)}J(){this.K=!1,this.L=cs()}Y(e,r){this.K=!0,this.L=this.L.insert(e,r)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class us{constructor(e){this.nt=e,this.st=new Map,this.it=jn(),this.rt=as(),this.ot=new qn(rt)}ut(e){for(const r of e.O)e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F);for(const r of e.removedTargetIds)this.ct(r,e.key,e.F)}ht(e){this.forEachTarget(e,r=>{const i=this.lt(r);switch(e.state){case 0:this.ft(r)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(r);break;case 3:this.ft(r)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(r)&&(this.dt(r),i.W(e.resumeToken));break;default:L()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.st.forEach((i,o)=>{this.ft(o)&&r(o)})}_t(e){const r=e.targetId,i=e.$.count,o=this.wt(r);if(o){const f=o.target;if(ge(f))if(i===0){const m=new xt(f.path);this.ct(r,m,ne.newNoDocument(m,ct.min()))}else U(i===1);else this.gt(r)!==i&&(this.dt(r),this.ot=this.ot.add(r))}}yt(e){const r=new Map;this.st.forEach((f,m)=>{const _=this.wt(m);if(_){if(f.current&&ge(_.target)){const re=new xt(_.target.path);this.it.get(re)!==null||this.It(m,re)||this.ct(m,re,ne.newNoDocument(re,e))}f.j&&(r.set(m,f.H()),f.J())}});let i=Xn();this.rt.forEach((f,m)=>{let _=!0;m.forEachWhile(re=>{const ie=this.wt(re);return!ie||ie.purpose===2||(_=!1,!1)}),_&&(i=i.add(f))}),this.it.forEach((f,m)=>m.setReadTime(e));const o=new es(e,r,this.ot,this.it,i);return this.it=jn(),this.rt=as(),this.ot=new qn(rt),o}at(e,r){if(!this.ft(e))return;const i=this.It(e,r.key)?2:0;this.lt(e).Y(r.key,i),this.it=this.it.insert(r.key,r),this.rt=this.rt.insert(r.key,this.Tt(r.key).add(e))}ct(e,r,i){if(!this.ft(e))return;const o=this.lt(e);this.It(e,r)?o.Y(r,1):o.X(r),this.rt=this.rt.insert(r,this.Tt(r).delete(e)),i&&(this.it=this.it.insert(r,i))}removeTarget(e){this.st.delete(e)}gt(e){const r=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let r=this.st.get(e);return r||(r=new os,this.st.set(e,r)),r}Tt(e){let r=this.rt.get(e);return r||(r=new qn(rt),this.rt=this.rt.insert(e,r)),r}ft(e){const r=this.wt(e)!==null;return r||O("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.st.get(e);return r&&r.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new os),this.nt.getRemoteKeysForTarget(e).forEach(r=>{this.ct(e,r,null)})}It(e,r){return this.nt.getRemoteKeysForTarget(e).has(r)}}function as(){return new Bn(xt.comparator)}function cs(){return new Bn(xt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ls=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class fs{constructor(e,r){this.databaseId=e,this.N=r}}function ds(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _s(n,e){return n.N?e.toBase64():e.toUint8Array()}function ms(n){return U(!!n),ct.fromTimestamp(function(e){const r=Tt(e);return new at(r.seconds,r.nanos)}(n))}function gs(n,e){return function(r){return new _t(["projects",r.projectId,"databases",r.database])}(n).child("documents").child(e).canonicalString()}function ys(n){const e=_t.fromString(n);return U(Gs(e)),e}function Is(n,e){const r=ys(e);if(r.get(1)!==n.databaseId.projectId)throw new Q(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new Q(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new xt(Rs(r))}function Ts(n,e){return gs(n.databaseId,e)}function Es(n){const e=ys(n);return e.length===4?_t.emptyPath():Rs(e)}function As(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Rs(n){return U(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function vs(n,e){let r;if("targetChange"in e){e.targetChange;const i=function(re){return re==="NO_CHANGE"?0:re==="ADD"?1:re==="REMOVE"?2:re==="CURRENT"?3:re==="RESET"?4:L()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=function(re,ie){return re.N?(U(ie===void 0||typeof ie=="string"),pt.fromBase64String(ie||"")):(U(ie===void 0||ie instanceof Uint8Array),pt.fromUint8Array(ie||new Uint8Array))}(n,e.targetChange.resumeToken),m=e.targetChange.cause,_=m&&function(re){const ie=re.code===void 0?G.UNKNOWN:Fn(re.code);return new Q(ie,re.message||"")}(m);r=new rs(i,o,f,_||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Is(n,i.document.name),f=ms(i.document.updateTime),m=new te({mapValue:{fields:i.document.fields}}),_=ne.newFoundDocument(o,f,m),re=i.targetIds||[],ie=i.removedTargetIds||[];r=new ss(re,ie,_.key,_)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Is(n,i.document),f=i.readTime?ms(i.readTime):ct.min(),m=ne.newNoDocument(o,f),_=i.removedTargetIds||[];r=new ss([],_,m.key,m)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Is(n,i.document),f=i.removedTargetIds||[];r=new ss([],f,o,null)}else{if(!("filter"in e))return L();{e.filter;const i=e.filter;i.targetId;const o=i.count||0,f=new Nn(o),m=i.targetId;r=new is(m,f)}}return r}function xs(n,e){return{documents:[Ts(n,e.path)]}}function Ns(n,e){const r={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(r.parent=Ts(n,i),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=Ts(n,i.popLast()),r.structuredQuery.from=[{collectionId:i.lastSegment()}]);const o=function(re){if(re.length===0)return;const ie=re.map(pe=>function(ye){if(ye.op==="=="){if(jt(ye.value))return{unaryFilter:{field:Bs(ye.field),op:"IS_NAN"}};if(Qt(ye.value))return{unaryFilter:{field:Bs(ye.field),op:"IS_NULL"}}}else if(ye.op==="!="){if(jt(ye.value))return{unaryFilter:{field:Bs(ye.field),op:"IS_NOT_NAN"}};if(Qt(ye.value))return{unaryFilter:{field:Bs(ye.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(ye.field),op:$s(ye.op),value:ye.value}}}(pe));return ie.length===1?ie[0]:{compositeFilter:{op:"AND",filters:ie}}}(e.filters);o&&(r.structuredQuery.where=o);const f=function(re){if(re.length!==0)return re.map(ie=>function(pe){return{field:Bs(pe.field),direction:Fs(pe.dir)}}(ie))}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const m=function(re,ie){return re.N||St(ie)?ie:{value:ie}}(n,e.limit);var _;return m!==null&&(r.structuredQuery.limit=m),e.startAt&&(r.structuredQuery.startAt={before:(_=e.startAt).inclusive,values:_.position}),e.endAt&&(r.structuredQuery.endAt=function(re){return{before:!re.inclusive,values:re.position}}(e.endAt)),r}function ks(n){let e=Es(n.parent);const r=n.structuredQuery,i=r.from?r.from.length:0;let o=null;if(i>0){U(i===1);const pe=r.from[0];pe.allDescendants?o=pe.collectionId:e=e.child(pe.collectionId)}let f=[];r.where&&(f=Os(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(pe=>function(ye){return new Ce(Ls(ye.field),function(yt){switch(yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ye.direction))}(pe)));let _=null;r.limit&&(_=function(pe){let ye;return ye=typeof pe=="object"?pe.value:pe,St(ye)?null:ye}(r.limit));let re=null;r.startAt&&(re=function(pe){const ye=!!pe.before,yt=pe.values||[];return new De(yt,ye)}(r.startAt));let ie=null;return r.endAt&&(ie=function(pe){const ye=!pe.before,yt=pe.values||[];return new De(yt,ye)}(r.endAt)),Oe(e,o,m,f,_,"F",re,ie)}function Ms(n,e){const r=function(i,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return L()}}(0,e.purpose);return r==null?null:{"goog-listen-tags":r}}function Os(n){return n?n.unaryFilter!==void 0?[qs(n)]:n.fieldFilter!==void 0?[Us(n)]:n.compositeFilter!==void 0?n.compositeFilter.filters.map(e=>Os(e)).reduce((e,r)=>e.concat(r)):L():[]}function Fs(n){return hs[n]}function $s(n){return ls[n]}function Bs(n){return{fieldPath:n.canonicalString()}}function Ls(n){return mt.fromServerFormat(n.fieldPath)}function Us(n){return Te.create(Ls(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(n.fieldFilter.op),n.fieldFilter.value)}function qs(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ls(n.unaryFilter.field);return Te.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Ls(n.unaryFilter.field);return Te.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ls(n.unaryFilter.field);return Te.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ls(n.unaryFilter.field);return Te.create(o,"!=",{nullValue:"NULL_VALUE"});default:return L()}}function Gs(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pi((i,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(i,o)},this.catchCallback=f=>{this.wrapFailure(r,f).next(i,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pi?r:pi.resolve(r)}catch(r){return pi.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pi.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pi.reject(r)}static resolve(e){return new pi((r,i)=>{r(e)})}static reject(e){return new pi((r,i)=>{i(e)})}static waitFor(e){return new pi((r,i)=>{let o=0,f=0,m=!1;e.forEach(_=>{++o,_.next(()=>{++f,m&&f===o&&r()},re=>i(re))}),m=!0,f===o&&r()})}static or(e){let r=pi.resolve(!1);for(const i of e)r=r.next(o=>o?pi.resolve(o):i());return r}static forEach(e,r){const i=[];return e.forEach((o,f)=>{i.push(r.call(this,o,f))}),this.waitFor(i)}}function Ri(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,r,i,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,r){const i=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&Tn(f,e,i[o])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&En(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&En(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const i=e.get(r.key),o=i;this.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(ct.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Xn())}isEqual(e){return this.batchId===e.batchId&&ot(this.mutations,e.mutations,(r,i)=>Rn(r,i))&&ot(this.baseMutations,e.baseMutations,(r,i)=>Rn(r,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,r,i,o,f=ct.min(),m=ct.min(),_=pt.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=_}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.Jt=e}}function Gi(n){const e=ks({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qe(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.qe=new hr}addToCollectionParentIndex(e,r){return this.qe.add(r),pi.resolve()}getCollectionParents(e,r){return pi.resolve(this.qe.getEntries(r))}addFieldIndex(e,r){return pi.resolve()}deleteFieldIndex(e,r){return pi.resolve()}getDocumentsMatchingTarget(e,r){return pi.resolve(null)}getFieldIndex(e,r){return pi.resolve(null)}getFieldIndexes(e,r){return pi.resolve([])}getNextCollectionGroupToUpdate(e){return pi.resolve(null)}updateCollectionGroup(e,r,i){return pi.resolve()}updateIndexEntries(e,r){return pi.resolve()}}class hr{constructor(){this.index={}}add(e){const r=e.lastSegment(),i=e.popLast(),o=this.index[r]||new qn(_t.comparator),f=!o.has(i);return this.index[r]=o.add(i),f}has(e){const r=e.lastSegment(),i=e.popLast(),o=this.index[r];return o&&o.has(i)}getEntries(e){return(this.index[e]||new qn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new br(0)}static yn(){return new br(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cr(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==gi)throw n;O("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.changes=new $n(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ne.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?pi.resolve(i):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,r,i){this.ds=e,this.Bs=r,this.indexManager=i}Ls(e,r){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,r).next(i=>this.Us(e,r,i))}Us(e,r,i){return this.ds.getEntry(e,r).next(o=>{for(const f of i)f.applyToLocalView(o);return o})}qs(e,r){e.forEach((i,o)=>{for(const f of r)f.applyToLocalView(o)})}Ks(e,r){return this.ds.getEntries(e,r).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,r){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,r).next(i=>this.qs(r,i))}Qs(e,r,i){return function(o){return xt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.js(e,r.path):qe(r)?this.Ws(e,r,i):this.zs(e,r,i)}js(e,r){return this.Ls(e,new xt(r)).next(i=>{let o=zn();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}Ws(e,r,i){const o=r.collectionGroup;let f=zn();return this.indexManager.getCollectionParents(e,o).next(m=>pi.forEach(m,_=>{const re=function(ie,pe){return new Me(pe,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt)}(r,_.child(o));return this.zs(e,re,i).next(ie=>{ie.forEach((pe,ye)=>{f=f.insert(pe,ye)})})}).next(()=>f))}zs(e,r,i){let o;return this.ds.getAllFromCollection(e,r.path,i).next(f=>(o=f,this.Bs.getAllMutationBatchesAffectingQuery(e,r))).next(f=>{for(const m of f)for(const _ of m.mutations){const re=_.key;let ie=o.get(re);ie==null&&(ie=ne.newInvalidDocument(re),o=o.insert(re,ie)),En(_,ie,m.localWriteTime),ie.isFoundDocument()||(o=o.remove(re))}}).next(()=>(o.forEach((f,m)=>{He(r,m)||(o=o.remove(f))}),o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,r,i,o){this.targetId=e,this.fromCache=r,this.Hs=i,this.Js=o}static Ys(e,r){let i=Xn(),o=Xn();for(const f of r.docChanges)switch(f.type){case 0:i=i.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new to(e,r.fromCache,i,o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{Xs(e){this.Zs=e}Qs(e,r,i,o){return function(f){return f.filters.length===0&&f.limit===null&&f.startAt==null&&f.endAt==null&&(f.explicitOrderBy.length===0||f.explicitOrderBy.length===1&&f.explicitOrderBy[0].field.isKeyField())}(r)||i.isEqual(ct.min())?this.ti(e,r):this.Zs.Ks(e,o).next(f=>{const m=this.ei(r,f);return($e(r)||Be(r))&&this.ni(r.limitType,m,o,i)?this.ti(e,r):(k()<=LogLevel.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ze(r)),this.Zs.Qs(e,r,ae(i,-1)).next(_=>(m.forEach(re=>{_=_.insert(re.key,re)}),_)))})}ei(e,r){let i=new qn(Ye(e));return r.forEach((o,f)=>{He(e,f)&&(i=i.add(f))}),i}ni(e,r,i,o){if(i.size!==r.size)return!0;const f=e==="F"?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}ti(e,r){return k()<=LogLevel.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",ze(r)),this.Zs.Qs(e,r,he.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,r,i,o){this.persistence=e,this.si=r,this.M=o,this.ii=new Bn(rt),this.ri=new $n(f=>_e(f),me),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(i)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Zr(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ii))}}function so(n,e,r,i){return new no(n,e,r,i)}async function io(n,e){const r=K(n);return await r.persistence.runTransaction("Handle user change","readonly",i=>{let o;return r.Bs.getAllMutationBatches(i).next(f=>(o=f,r.ai(e),r.Bs.getAllMutationBatches(i))).next(f=>{const m=[],_=[];let re=Xn();for(const ie of o){m.push(ie.batchId);for(const pe of ie.mutations)re=re.add(pe.key)}for(const ie of f){_.push(ie.batchId);for(const pe of ie.mutations)re=re.add(pe.key)}return r.ci.Ks(i,re).next(ie=>({hi:ie,removedBatchIds:m,addedBatchIds:_}))})})}function oo(n){const e=K(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.fs.getLastRemoteSnapshotVersion(r))}function uo(n,e){const r=K(n),i=e.snapshotVersion;let o=r.ii;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.ui.newChangeBuffer({trackRemovals:!0});o=r.ii;const _=[];e.targetChanges.forEach((ie,pe)=>{const ye=o.get(pe);if(!ye)return;_.push(r.fs.removeMatchingKeys(f,ie.removedDocuments,pe).next(()=>r.fs.addMatchingKeys(f,ie.addedDocuments,pe)));let yt=ye.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.has(pe)?yt=yt.withResumeToken(pt.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):ie.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(ie.resumeToken,i)),o=o.insert(pe,yt),function(Yt,Xt,Cn){return Yt.resumeToken.approximateByteSize()===0||Xt.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8?!0:Cn.addedDocuments.size+Cn.modifiedDocuments.size+Cn.removedDocuments.size>0}(ye,yt,ie)&&_.push(r.fs.updateTargetData(f,yt))});let re=jn();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&_.push(r.persistence.referenceDelegate.updateLimboDocument(f,ie))}),_.push(ao(f,m,e.documentUpdates).next(ie=>{re=ie})),!i.isEqual(ct.min())){const ie=r.fs.getLastRemoteSnapshotVersion(f).next(pe=>r.fs.setTargetsMetadata(f,f.currentSequenceNumber,i));_.push(ie)}return pi.waitFor(_).next(()=>m.apply(f)).next(()=>r.ci.Gs(f,re)).next(()=>re)}).then(f=>(r.ii=o,f))}function ao(n,e,r){let i=Xn();return r.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let f=jn();return r.forEach((m,_)=>{const re=o.get(m);_.isNoDocument()&&_.version.isEqual(ct.min())?(e.removeEntry(m,_.readTime),f=f.insert(m,_)):!re.isValidDocument()||_.version.compareTo(re.version)>0||_.version.compareTo(re.version)===0&&re.hasPendingWrites?(e.addEntry(_),f=f.insert(m,_)):O("LocalStore","Ignoring outdated watch update for ",m,". Current version:",re.version," Watch version:",_.version)}),f})}function ho(n,e){const r=K(n);return r.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return r.fs.getTargetData(i,e).next(f=>f?(o=f,pi.resolve(o)):r.fs.allocateTargetId(i).next(m=>(o=new ki(e,m,0,i.currentSequenceNumber),r.fs.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=r.ii.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.ii=r.ii.insert(i.targetId,i),r.ri.set(e,i.targetId)),i})}async function lo(n,e,r){const i=K(n),o=i.ii.get(e),f=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",f,m=>i.persistence.referenceDelegate.removeTarget(m,o))}catch(m){if(!Ri(m))throw m;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}i.ii=i.ii.remove(e),i.ri.delete(o.target)}function fo(n,e,r){const i=K(n);let o=ct.min(),f=Xn();return i.persistence.runTransaction("Execute query","readonly",m=>function(_,re,ie){const pe=K(_),ye=pe.ri.get(ie);return ye!==void 0?pi.resolve(pe.ii.get(ye)):pe.fs.getTargetData(re,ie)}(i,m,Ge(e)).next(_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(m,_.targetId).next(re=>{f=re})}).next(()=>i.si.Qs(m,e,r?o:ct.min(),r?f:Xn())).next(_=>(mo(i,Je(e),_),{documents:_,li:f})))}function mo(n,e,r){let i=ct.min();r.forEach((o,f)=>{f.readTime.compareTo(i)>0&&(i=f.readTime)}),n.oi.set(e,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,r){return pi.resolve(this.wi.get(r))}saveBundleMetadata(e,r){var i;return this.wi.set(r.id,{id:(i=r).id,version:i.version,createTime:ms(i.createTime)}),pi.resolve()}getNamedQuery(e,r){return pi.resolve(this.mi.get(r))}saveNamedQuery(e,r){return this.mi.set(r.name,function(i){return{name:i.name,query:Gi(i.bundledQuery),readTime:ms(i.readTime)}}(r)),pi.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.overlays=new Bn(xt.comparator),this.gi=new Map}getOverlay(e,r){return pi.resolve(this.overlays.get(r))}saveOverlays(e,r,i){return i.forEach((o,f)=>{this.Xt(e,r,f)}),pi.resolve()}removeOverlaysForBatchId(e,r,i){const o=this.gi.get(i);return o!==void 0&&(o.forEach(f=>this.overlays=this.overlays.remove(f)),this.gi.delete(i)),pi.resolve()}getOverlaysForCollection(e,r,i){const o=Hn(),f=r.length+1,m=new xt(r.child("")),_=this.overlays.getIteratorFrom(m);for(;_.hasNext();){const re=_.getNext().value,ie=re.getKey();if(!r.isPrefixOf(ie.path))break;ie.path.length===f&&re.largestBatchId>i&&o.set(re.getKey(),re)}return pi.resolve(o)}getOverlaysForCollectionGroup(e,r,i,o){let f=new Bn((ie,pe)=>ie-pe);const m=this.overlays.getIterator();for(;m.hasNext();){const ie=m.getNext().value;if(ie.getKey().getCollectionGroup()===r&&ie.largestBatchId>i){let pe=f.get(ie.largestBatchId);pe===null&&(pe=Hn(),f=f.insert(ie.largestBatchId,pe)),pe.set(ie.getKey(),ie)}}const _=Hn(),re=f.getIterator();for(;re.hasNext()&&(re.getNext().value.forEach((ie,pe)=>_.set(ie,pe)),!(_.size()>=o)););return pi.resolve(_)}Xt(e,r,i){if(i===null)return;const o=this.overlays.get(i.key);if(o!==null){const m=this.gi.get(o.largestBatchId).delete(i.key);this.gi.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(i.key,new Ni(r,i));let f=this.gi.get(r);f===void 0&&(f=Xn(),this.gi.set(r,f)),this.gi.set(r,f.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.yi=new qn(Eo.pi),this.Ii=new qn(Eo.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,r){const i=new Eo(e,r);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(e,r){e.forEach(i=>this.addReference(i,r))}removeReference(e,r){this.Ai(new Eo(e,r))}Ri(e,r){e.forEach(i=>this.removeReference(i,r))}Pi(e){const r=new xt(new _t([])),i=new Eo(r,e),o=new Eo(r,e+1),f=[];return this.Ii.forEachInRange([i,o],m=>{this.Ai(m),f.push(m.key)}),f}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const r=new xt(new _t([])),i=new Eo(r,e),o=new Eo(r,e+1);let f=Xn();return this.Ii.forEachInRange([i,o],m=>{f=f.add(m.key)}),f}containsKey(e){const r=new Eo(e,0),i=this.yi.firstAfterOrEqual(r);return i!==null&&e.isEqual(i.key)}}class Eo{constructor(e,r){this.key=e,this.vi=r}static pi(e,r){return xt.comparator(e.key,r.key)||rt(e.vi,r.vi)}static Ti(e,r){return rt(e.vi,r.vi)||xt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.Bs=[],this.Si=1,this.Di=new qn(Eo.pi)}checkEmpty(e){return pi.resolve(this.Bs.length===0)}addMutationBatch(e,r,i,o){const f=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const m=new Ci(f,r,i,o);this.Bs.push(m);for(const _ of o)this.Di=this.Di.add(new Eo(_.key,f)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return pi.resolve(m)}lookupMutationBatch(e,r){return pi.resolve(this.Ci(r))}getNextMutationBatchAfterBatchId(e,r){const i=r+1,o=this.xi(i),f=o<0?0:o;return pi.resolve(this.Bs.length>f?this.Bs[f]:null)}getHighestUnacknowledgedBatchId(){return pi.resolve(this.Bs.length===0?-1:this.Si-1)}getAllMutationBatches(e){return pi.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const i=new Eo(r,0),o=new Eo(r,Number.POSITIVE_INFINITY),f=[];return this.Di.forEachInRange([i,o],m=>{const _=this.Ci(m.vi);f.push(_)}),pi.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let i=new qn(rt);return r.forEach(o=>{const f=new Eo(o,0),m=new Eo(o,Number.POSITIVE_INFINITY);this.Di.forEachInRange([f,m],_=>{i=i.add(_.vi)})}),pi.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(e,r){const i=r.path,o=i.length+1;let f=i;xt.isDocumentKey(f)||(f=f.child(""));const m=new Eo(new xt(f),0);let _=new qn(rt);return this.Di.forEachWhile(re=>{const ie=re.key.path;return!!i.isPrefixOf(ie)&&(ie.length===o&&(_=_.add(re.vi)),!0)},m),pi.resolve(this.Ni(_))}Ni(e){const r=[];return e.forEach(i=>{const o=this.Ci(i);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){U(this.ki(r.batchId,"removed")===0),this.Bs.shift();let i=this.Di;return pi.forEach(r.mutations,o=>{const f=new Eo(o.key,r.batchId);return i=i.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Di=i})}_n(e){}containsKey(e,r){const i=new Eo(r,0),o=this.Di.firstAfterOrEqual(i);return pi.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.Bs.length,pi.resolve()}ki(e,r){return this.xi(e)}xi(e){return this.Bs.length===0?0:e-this.Bs[0].batchId}Ci(e){const r=this.xi(e);return r<0||r>=this.Bs.length?null:this.Bs[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.Mi=e,this.docs=new Bn(xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const i=r.key,o=this.docs.get(i),f=o?o.size:0,m=this.Mi(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const i=this.docs.get(r);return pi.resolve(i?i.document.mutableCopy():ne.newInvalidDocument(r))}getEntries(e,r){let i=jn();return r.forEach(o=>{const f=this.docs.get(o);i=i.insert(o,f?f.document.mutableCopy():ne.newInvalidDocument(o))}),pi.resolve(i)}getAllFromCollection(e,r,i){let o=jn();const f=new xt(r.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:_,value:{document:re}}=m.getNext();if(!r.isPrefixOf(_.path))break;_.path.length>r.length+1||le(ce(re),i)<=0||(o=o.insert(re.key,re.mutableCopy()))}return pi.resolve(o)}getAllFromCollectionGroup(e,r,i,o){L()}Oi(e,r){return pi.forEach(this.docs,i=>r(i))}newChangeBuffer(e){return new Po(this)}getSize(e){return pi.resolve(this.size)}}class Po extends $r{constructor(e){super(),this.Kn=e}applyChanges(e){const r=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?r.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(i)}),pi.waitFor(r)}getFromCache(e,r){return this.Kn.getEntry(e,r)}getAllFromCache(e,r){return this.Kn.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.persistence=e,this.Fi=new $n(r=>_e(r),me),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.$i=0,this.Bi=new To,this.targetCount=0,this.Li=br.gn()}forEachTarget(e,r){return this.Fi.forEach((i,o)=>r(o)),pi.resolve()}getLastRemoteSnapshotVersion(e){return pi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pi.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),pi.resolve(this.highestTargetId)}setTargetsMetadata(e,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.$i&&(this.$i=r),pi.resolve()}Tn(e){this.Fi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Li=new br(r),this.highestTargetId=r),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,r){return this.Tn(r),this.targetCount+=1,pi.resolve()}updateTargetData(e,r){return this.Tn(r),pi.resolve()}removeTargetData(e,r){return this.Fi.delete(r.target),this.Bi.Pi(r.targetId),this.targetCount-=1,pi.resolve()}removeTargets(e,r,i){let o=0;const f=[];return this.Fi.forEach((m,_)=>{_.sequenceNumber<=r&&i.get(_.targetId)===null&&(this.Fi.delete(m),f.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)}),pi.waitFor(f).next(()=>o)}getTargetCount(e){return pi.resolve(this.targetCount)}getTargetData(e,r){const i=this.Fi.get(r)||null;return pi.resolve(i)}addMatchingKeys(e,r,i){return this.Bi.Ei(r,i),pi.resolve()}removeMatchingKeys(e,r,i){this.Bi.Ri(r,i);const o=this.persistence.referenceDelegate,f=[];return o&&r.forEach(m=>{f.push(o.markPotentiallyOrphaned(e,m))}),pi.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Bi.Pi(r),pi.resolve()}getMatchingKeysForTargetId(e,r){const i=this.Bi.Vi(r);return pi.resolve(i)}containsKey(e,r){return pi.resolve(this.Bi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,r){this.Ui={},this.overlays={},this.es=new nt(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new bo(this),this.indexManager=new cr,this.ds=function(i){return new Ro(i)}(i=>this.referenceDelegate.qi(i)),this.M=new Mi(r),this._s=new po(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Io,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let i=this.Ui[e.toKey()];return i||(i=new Ao(r,this.referenceDelegate),this.Ui[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,r,i){O("MemoryPersistence","Starting transaction:",e);const o=new vo(this.es.next());return this.referenceDelegate.Ki(),i(o).next(f=>this.referenceDelegate.Gi(o).next(()=>f)).toPromise().then(f=>(o.raiseOnCommittedEvent(),f))}Qi(e,r){return pi.or(Object.values(this.Ui).map(i=>()=>i.containsKey(e,r)))}}class vo extends yi{constructor(e){super(),this.currentSequenceNumber=e}}class So{constructor(e){this.persistence=e,this.ji=new To,this.Wi=null}static zi(e){return new So(e)}get Hi(){if(this.Wi)return this.Wi;throw L()}addReference(e,r,i){return this.ji.addReference(i,r),this.Hi.delete(i.toString()),pi.resolve()}removeReference(e,r,i){return this.ji.removeReference(i,r),this.Hi.add(i.toString()),pi.resolve()}markPotentiallyOrphaned(e,r){return this.Hi.add(r.toString()),pi.resolve()}removeTarget(e,r){this.ji.Pi(r.targetId).forEach(o=>this.Hi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(f=>this.Hi.add(f.toString()))}).next(()=>i.removeTargetData(e,r))}Ki(){this.Wi=new Set}Gi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pi.forEach(this.Hi,i=>{const o=xt.fromPath(i);return this.Ji(e,o).next(f=>{f||r.removeEntry(o,ct.min())})}).next(()=>(this.Wi=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ji(e,r).next(i=>{i?this.Hi.delete(r.toString()):this.Hi.add(r.toString())})}qi(e){return 0}Ji(e,r){return pi.or([()=>pi.resolve(this.ji.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Qi(e,r)])}}class Fo{constructor(){this.activeTargetIds=ts()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bo{constructor(){this.$r=new Fo,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,i){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,r,i){this.Br[e]=r}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Fo,Promise.resolve()}handleUserChange(e,r,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{Lr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http";this.io=r+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,r,i,o,f){const m=this.uo(e,r);O("RestConnection","Sending: ",m,i);const _={};return this.ao(_,o,f),this.co(e,m,_,i).then(re=>(O("RestConnection","Received: ",re),re),re=>{throw $("RestConnection",`${e} failed with error: `,re,"url: ",m,"request:",i),re})}ho(e,r,i,o,f){return this.oo(e,r,i,o,f)}ao(e,r,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+x,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,f)=>e[f]=o),i&&i.headers.forEach((o,f)=>e[f]=o)}uo(e,r){const i=qo[e];return`${this.io}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,r,i,o){return new Promise((f,m)=>{const _=new XhrIo;_.listenOnce(EventType.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case ErrorCode.NO_ERROR:const ie=_.getResponseJson();O("Connection","XHR received:",JSON.stringify(ie)),f(ie);break;case ErrorCode.TIMEOUT:O("Connection",'RPC "'+e+'" timed out'),m(new Q(G.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const pe=_.getStatus();if(O("Connection",'RPC "'+e+'" failed with status:',pe,"response text:",_.getResponseText()),pe>0){const ye=_.getResponseJson().error;if(ye&&ye.status&&ye.message){const yt=function(Yt){const Xt=Yt.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(Xt)>=0?Xt:G.UNKNOWN}(ye.status);m(new Q(yt,ye.message))}else m(new Q(G.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new Q(G.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{O("Connection",'RPC "'+e+'" completed.')}});const re=JSON.stringify(o);_.send(r,"POST",re,i,15)})}lo(e,r,i){const o=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=createWebChannelTransport(),m=getStatEventTarget(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new FetchXmlHttpFactory({})),this.ao(_.initMessageHeaders,r,i),isMobileCordova()||isReactNative()||isElectron()||isIE()||isUWP()||isBrowserExtension()||(_.httpHeadersOverwriteParam="$httpHeaders");const re=o.join("");O("Connection","Creating WebChannel: "+re,_);const ie=f.createWebChannel(re,_);let pe=!1,ye=!1;const yt=new Ko({Wr:Xt=>{ye?O("Connection","Not sending because WebChannel is closed:",Xt):(pe||(O("Connection","Opening WebChannel transport."),ie.open(),pe=!0),O("Connection","WebChannel sending:",Xt),ie.send(Xt))},zr:()=>ie.close()}),Yt=(Xt,Cn,xn)=>{Xt.listen(Cn,rr=>{try{xn(rr)}catch(lr){setTimeout(()=>{throw lr},0)}})};return Yt(ie,WebChannel.EventType.OPEN,()=>{ye||O("Connection","WebChannel transport opened.")}),Yt(ie,WebChannel.EventType.CLOSE,()=>{ye||(ye=!0,O("Connection","WebChannel transport closed"),yt.no())}),Yt(ie,WebChannel.EventType.ERROR,Xt=>{ye||(ye=!0,$("Connection","WebChannel transport errored:",Xt),yt.no(new Q(G.UNAVAILABLE,"The operation could not be completed")))}),Yt(ie,WebChannel.EventType.MESSAGE,Xt=>{var Cn;if(!ye){const xn=Xt.data[0];U(!!xn);const rr=xn,lr=rr.error||((Cn=rr[0])===null||Cn===void 0?void 0:Cn.error);if(lr){O("Connection","WebChannel received error:",lr);const sr=lr.status;let mr=function(Mr){const wr=kn[Mr];if(wr!==void 0)return Fn(wr)}(sr),Sr=lr.message;mr===void 0&&(mr=G.INTERNAL,Sr="Unknown error status: "+sr+" with message "+lr.message),ye=!0,yt.no(new Q(mr,Sr)),ie.close()}else O("Connection","WebChannel received:",xn),yt.so(xn)}}),Yt(m,Event.STAT_EVENT,Xt=>{Xt.stat===Stat.PROXY?O("Connection","Detected buffering proxy"):Xt.stat===Stat.NOPROXY&&O("Connection","Detected no buffering proxy")}),setTimeout(()=>{yt.eo()},0),yt}}function jo(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(n){return new fs(n,!0)}class zo{constructor(e,r,i=1e3,o=1.5,f=6e4){this.Yn=e,this.timerId=r,this.fo=i,this._o=o,this.wo=f,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const r=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),o=Math.max(0,r-i);o>0&&O("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.mo} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){this.yo!==null&&(this.yo.skipDelay(),this.yo=null)}cancel(){this.yo!==null&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,r,i,o,f,m,_,re){this.Yn=e,this.Ro=i,this.Po=o,this.bo=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=_,this.listener=re,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new zo(e,r)}Co(){return this.state===1||this.state===5||this.xo()}xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.No()}async stop(){this.Co()&&await this.close(0)}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&this.vo===null&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}async Oo(){if(this.xo())return this.close(0)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}async close(e,r){this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,e!==4?this.Do.reset():r&&r.code===G.RESOURCE_EXHAUSTED?(F(r.toString()),F("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):r&&r.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Lo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Yr(r)}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),r=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Vo===r&&this.qo(i,o)},i=>{e(()=>{const o=new Q(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(o)})})}qo(e,r){const i=this.Uo(this.Vo);this.stream=this.Go(e,r),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(o=>{i(()=>this.Ko(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}No(){this.state=5,this.Do.To(async()=>{this.state=0,this.start()})}Ko(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return r=>{this.Yn.enqueueAndForget(()=>this.Vo===e?r():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jo extends Ho{constructor(e,r,i,o,f,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,m),this.M=f}Go(e,r){return this.bo.lo("Listen",e,r)}onMessage(e){this.Do.reset();const r=vs(this.M,e),i=function(o){if(!("targetChange"in o))return ct.min();const f=o.targetChange;return f.targetIds&&f.targetIds.length?ct.min():f.readTime?ms(f.readTime):ct.min()}(e);return this.listener.Qo(r,i)}jo(e){const r={};r.database=As(this.M),r.addTarget=function(o,f){let m;const _=f.target;return m=ge(_)?{documents:xs(o,_)}:{query:Ns(o,_)},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?m.resumeToken=_s(o,f.resumeToken):f.snapshotVersion.compareTo(ct.min())>0&&(m.readTime=ds(o,f.snapshotVersion.toTimestamp())),m}(this.M,e);const i=Ms(this.M,e);i&&(r.labels=i),this.Fo(r)}Wo(e){const r={};r.database=As(this.M),r.removeTarget=e,this.Fo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends class{}{constructor(e,r,i,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.bo=i,this.M=o,this.tu=!1}eu(){if(this.tu)throw new Q(G.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,r,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,f])=>this.bo.oo(e,r,i,o,f)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(G.UNKNOWN,o.toString())})}ho(e,r,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,f])=>this.bo.ho(e,r,i,o,f)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(G.UNKNOWN,o.toString())})}terminate(){this.tu=!0}}class Zo{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){this.nu===0&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,e==="Online"&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(F(r),this.iu=!1):O("OnlineStateTracker",r)}cu(){this.su!==null&&(this.su.cancel(),this.su=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,r,i,o,f){this.localStore=e,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=f,this._u.Lr(m=>{i.enqueueAndForget(async()=>{cu(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(_){const re=K(_);re.fu.add(4),await nu(re),re.wu.set("Unknown"),re.fu.delete(4),await eu(re)}(this))})}),this.wu=new Zo(i,o)}}async function eu(n){if(cu(n))for(const e of n.du)await e(!0)}async function nu(n){for(const e of n.du)await e(!1)}function su(n,e){const r=K(n);r.lu.has(e.targetId)||(r.lu.set(e.targetId,e),au(r)?uu(r):Vu(r).xo()&&ru(r,e))}function iu(n,e){const r=K(n),i=Vu(r);r.lu.delete(e),i.xo()&&ou(r,e),r.lu.size===0&&(i.xo()?i.Mo():cu(r)&&r.wu.set("Unknown"))}function ru(n,e){n.mu.Z(e.targetId),Vu(n).jo(e)}function ou(n,e){n.mu.Z(e),Vu(n).Wo(e)}function uu(n){n.mu=new us({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),Vu(n).start(),n.wu.ru()}function au(n){return cu(n)&&!Vu(n).Co()&&n.lu.size>0}function cu(n){return K(n).fu.size===0}function hu(n){n.mu=void 0}async function lu(n){n.lu.forEach((e,r)=>{ru(n,e)})}async function fu(n,e){hu(n),au(n)?(n.wu.au(e),uu(n)):n.wu.set("Unknown")}async function du(n,e,r){if(n.wu.set("Online"),e instanceof rs&&e.state===2&&e.cause)try{await async function(i,o){const f=o.cause;for(const m of o.targetIds)i.lu.has(m)&&(await i.remoteSyncer.rejectListen(m,f),i.lu.delete(m),i.mu.removeTarget(m))}(n,e)}catch(i){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _u(n,i)}else if(e instanceof ss?n.mu.ut(e):e instanceof is?n.mu._t(e):n.mu.ht(e),!r.isEqual(ct.min()))try{const i=await oo(n.localStore);r.compareTo(i)>=0&&await function(o,f){const m=o.mu.yt(f);return m.targetChanges.forEach((_,re)=>{if(_.resumeToken.approximateByteSize()>0){const ie=o.lu.get(re);ie&&o.lu.set(re,ie.withResumeToken(_.resumeToken,f))}}),m.targetMismatches.forEach(_=>{const re=o.lu.get(_);if(!re)return;o.lu.set(_,re.withResumeToken(pt.EMPTY_BYTE_STRING,re.snapshotVersion)),ou(o,_);const ie=new ki(re.target,_,1,re.sequenceNumber);ru(o,ie)}),o.remoteSyncer.applyRemoteEvent(m)}(n,r)}catch(i){O("RemoteStore","Failed to raise snapshot:",i),await _u(n,i)}}async function _u(n,e,r){if(!Ri(e))throw e;n.fu.add(1),await nu(n),n.wu.set("Offline"),r||(r=()=>oo(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await r(),n.fu.delete(1),await eu(n)})}async function Pu(n,e){const r=K(n);r.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const i=cu(r);r.fu.add(3),await nu(r),i&&r.wu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.fu.delete(3),await eu(r)}async function bu(n,e){const r=K(n);e?(r.fu.delete(2),await eu(r)):e||(r.fu.add(2),await nu(r),r.wu.set("Unknown"))}function Vu(n){return n.gu||(n.gu=function(e,r,i){const o=K(e);return o.eu(),new Jo(r,o.bo,o.authCredentials,o.appCheckCredentials,o.M,i)}(n.datastore,n.asyncQueue,{Hr:lu.bind(null,n),Yr:fu.bind(null,n),Qo:du.bind(null,n)}),n.du.push(async e=>{e?(n.gu.ko(),au(n)?uu(n):n.wu.set("Unknown")):(await n.gu.stop(),hu(n))})),n.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,r,i,o,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=o,this.removalCallback=f,this.deferred=new j,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,r,i,o,f){const m=Date.now()+i,_=new Su(e,r,m,o,f);return _.start(i),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Du(n,e){if(F("AsyncQueue",`${e}: ${n}`),Ri(n))return new Q(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.comparator=e?(r,i)=>e(r,i)||xt.comparator(r.key,i.key):(r,i)=>xt.comparator(r.key,i.key),this.keyedMap=zn(),this.sortedSet=new Bn(this.comparator)}static emptySet(e){return new Cu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,i)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,f=i.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const i=new Cu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=r,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.pu=new Bn(xt.comparator)}track(e){const r=e.doc.key,i=this.pu.get(r);i?e.type!==0&&i.type===3?this.pu=this.pu.insert(r,e):e.type===3&&i.type!==1?this.pu=this.pu.insert(r,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pu=this.pu.insert(r,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pu=this.pu.insert(r,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pu=this.pu.remove(r):e.type===1&&i.type===2?this.pu=this.pu.insert(r,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pu=this.pu.insert(r,{type:2,doc:e.doc}):L():this.pu=this.pu.insert(r,e)}Iu(){const e=[];return this.pu.inorderTraversal((r,i)=>{e.push(i)}),e}}class Nu{constructor(e,r,i,o,f,m,_,re){this.query=e,this.docs=r,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=_,this.excludesMetadataChanges=re}static fromInitialDocuments(e,r,i,o){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new Nu(e,r,Cu.emptySet(r),f,i,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&je(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,i=e.docChanges;if(r.length!==i.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==i[o].type||!r[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.Tu=void 0,this.listeners=[]}}class Mu{constructor(){this.queries=new $n(e=>We(e),je),this.onlineState="Unknown",this.Eu=new Set}}async function Ou(n,e){const r=K(n),i=e.query;let o=!1,f=r.queries.get(i);if(f||(o=!0,f=new ku),o)try{f.Tu=await r.onListen(i)}catch(m){const _=Du(m,`Initialization of query '${ze(e.query)}' failed`);return void e.onError(_)}r.queries.set(i,f),f.listeners.push(e),e.Au(r.onlineState),f.Tu&&e.Ru(f.Tu)&&Lu(r)}async function Fu(n,e){const r=K(n),i=e.query;let o=!1;const f=r.queries.get(i);if(f){const m=f.listeners.indexOf(e);m>=0&&(f.listeners.splice(m,1),o=f.listeners.length===0)}if(o)return r.queries.delete(i),r.onUnlisten(i)}function $u(n,e){const r=K(n);let i=!1;for(const o of e){const f=o.query,m=r.queries.get(f);if(m){for(const _ of m.listeners)_.Ru(o)&&(i=!0);m.Tu=o}}i&&Lu(r)}function Bu(n,e,r){const i=K(n),o=i.queries.get(e);if(o)for(const f of o.listeners)f.onError(r);i.queries.delete(e)}function Lu(n){n.Eu.forEach(e=>{e.next()})}class Uu{constructor(e,r,i){this.query=e,this.Pu=r,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Nu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),r=!0):this.Su(e,this.onlineState)&&(this.Du(e),r=!0),this.Vu=e,r}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let r=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),r=!0),r}Su(e,r){if(!e.fromCache)return!0;const i=r!=="Offline";return(!this.options.Cu||!i)&&(!e.docs.isEmpty()||r==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const r=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Du(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this.key=e}}class Wu{constructor(e){this.key=e}}class zu{constructor(e,r){this.query=e,this.$u=r,this.Bu=null,this.current=!1,this.Lu=Xn(),this.mutatedKeys=Xn(),this.Uu=Ye(e),this.qu=new Cu(this.Uu)}get Ku(){return this.$u}Gu(e,r){const i=r?r.Qu:new xu,o=r?r.qu:this.qu;let f=r?r.mutatedKeys:this.mutatedKeys,m=o,_=!1;const re=$e(this.query)&&o.size===this.query.limit?o.last():null,ie=Be(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((pe,ye)=>{const yt=o.get(pe),Yt=He(this.query,ye)?ye:null,Xt=!!yt&&this.mutatedKeys.has(yt.key),Cn=!!Yt&&(Yt.hasLocalMutations||this.mutatedKeys.has(Yt.key)&&Yt.hasCommittedMutations);let xn=!1;yt&&Yt?yt.data.isEqual(Yt.data)?Xt!==Cn&&(i.track({type:3,doc:Yt}),xn=!0):this.ju(yt,Yt)||(i.track({type:2,doc:Yt}),xn=!0,(re&&this.Uu(Yt,re)>0||ie&&this.Uu(Yt,ie)<0)&&(_=!0)):!yt&&Yt?(i.track({type:0,doc:Yt}),xn=!0):yt&&!Yt&&(i.track({type:1,doc:yt}),xn=!0,(re||ie)&&(_=!0)),xn&&(Yt?(m=m.add(Yt),f=Cn?f.add(pe):f.delete(pe)):(m=m.delete(pe),f=f.delete(pe)))}),$e(this.query)||Be(this.query))for(;m.size>this.query.limit;){const pe=$e(this.query)?m.last():m.first();m=m.delete(pe.key),f=f.delete(pe.key),i.track({type:1,doc:pe})}return{qu:m,Qu:i,ni:_,mutatedKeys:f}}ju(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,i){const o=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const f=e.Qu.Iu();f.sort((ie,pe)=>function(ye,yt){const Yt=Xt=>{switch(Xt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return Yt(ye)-Yt(yt)}(ie.type,pe.type)||this.Uu(ie.doc,pe.doc)),this.Wu(i);const m=r?this.zu():[],_=this.Lu.size===0&&this.current?1:0,re=_!==this.Bu;return this.Bu=_,f.length!==0||re?{snapshot:new Nu(this.query,e.qu,o,f,e.mutatedKeys,_===0,re,!1),Hu:m}:{Hu:m}}Au(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new xu,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(r=>this.$u=this.$u.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.$u=this.$u.delete(r)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Xn(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const r=[];return e.forEach(i=>{this.Lu.has(i)||r.push(new Wu(i))}),this.Lu.forEach(i=>{e.has(i)||r.push(new ju(i))}),r}Yu(e){this.$u=e.li,this.Lu=Xn();const r=this.Gu(e.documents);return this.applyChanges(r,!0)}Xu(){return Nu.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,this.Bu===0)}}class Hu{constructor(e,r,i){this.query=e,this.targetId=r,this.view=i}}class Ju{constructor(e){this.key=e,this.Zu=!1}}class Yu{constructor(e,r,i,o,f,m){this.localStore=e,this.remoteStore=r,this.eventManager=i,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.ta={},this.ea=new $n(_=>We(_),je),this.na=new Map,this.sa=new Set,this.ia=new Bn(xt.comparator),this.ra=new Map,this.oa=new To,this.ua={},this.aa=new Map,this.ca=br.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return this.ha===!0}}async function Xu(n,e){const r=Va(n);let i,o;const f=r.ea.get(e);if(f)i=f.targetId,r.sharedClientState.addLocalQueryTarget(i),o=f.view.Xu();else{const m=await ho(r.localStore,Ge(e));r.isPrimaryClient&&su(r.remoteStore,m);const _=r.sharedClientState.addLocalQueryTarget(m.targetId);i=m.targetId,o=await Zu(r,e,i,_==="current")}return o}async function Zu(n,e,r,i){n.la=(pe,ye,yt)=>async function(Yt,Xt,Cn,xn){let rr=Xt.view.Gu(Cn);rr.ni&&(rr=await fo(Yt.localStore,Xt.query,!1).then(({documents:mr})=>Xt.view.Gu(mr,rr)));const lr=xn&&xn.targetChanges.get(Xt.targetId),sr=Xt.view.applyChanges(rr,Yt.isPrimaryClient,lr);return fa(Yt,Xt.targetId,sr.Hu),sr.snapshot}(n,pe,ye,yt);const o=await fo(n.localStore,e,!0),f=new zu(e,o.li),m=f.Gu(o.documents),_=ns.createSynthesizedTargetChangeForCurrentChange(r,i&&n.onlineState!=="Offline"),re=f.applyChanges(m,n.isPrimaryClient,_);fa(n,r,re.Hu);const ie=new Hu(e,r,f);return n.ea.set(e,ie),n.na.has(r)?n.na.get(r).push(e):n.na.set(r,[e]),re.snapshot}async function ta(n,e){const r=K(n),i=r.ea.get(e),o=r.na.get(i.targetId);if(o.length>1)return r.na.set(i.targetId,o.filter(f=>!je(f,e))),void r.ea.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lo(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),iu(r.remoteStore,i.targetId),ha(r,i.targetId)}).catch(Cr)):(ha(r,i.targetId),await lo(r.localStore,i.targetId,!0))}async function na(n,e){const r=K(n);try{const i=await uo(r.localStore,e);e.targetChanges.forEach((o,f)=>{const m=r.ra.get(f);m&&(U(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?m.Zu=!0:o.modifiedDocuments.size>0?U(m.Zu):o.removedDocuments.size>0&&(U(m.Zu),m.Zu=!1))}),await wa(r,i,e)}catch(i){await Cr(i)}}function sa(n,e,r){const i=K(n);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const o=[];i.ea.forEach((f,m)=>{const _=m.view.Au(e);_.snapshot&&o.push(_.snapshot)}),function(f,m){const _=K(f);_.onlineState=m;let re=!1;_.queries.forEach((ie,pe)=>{for(const ye of pe.listeners)ye.Au(m)&&(re=!0)}),re&&Lu(_)}(i.eventManager,e),o.length&&i.ta.Qo(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ia(n,e,r){const i=K(n);i.sharedClientState.updateQueryState(e,"rejected",r);const o=i.ra.get(e),f=o&&o.key;if(f){let m=new Bn(xt.comparator);m=m.insert(f,ne.newNoDocument(f,ct.min()));const _=Xn().add(f),re=new es(ct.min(),new Map,new qn(rt),m,_);await na(i,re),i.ia=i.ia.remove(f),i.ra.delete(e),_a(i)}else await lo(i.localStore,e,!1).then(()=>ha(i,e,r)).catch(Cr)}function ha(n,e,r=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.na.get(e))n.ea.delete(i),r&&n.ta.fa(i,r);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(i=>{n.oa.containsKey(i)||la(n,i)})}function la(n,e){n.sa.delete(e.path.canonicalString());const r=n.ia.get(e);r!==null&&(iu(n.remoteStore,r),n.ia=n.ia.remove(e),n.ra.delete(r),_a(n))}function fa(n,e,r){for(const i of r)i instanceof ju?(n.oa.addReference(i.key,e),da(n,i)):i instanceof Wu?(O("SyncEngine","Document no longer in limbo: "+i.key),n.oa.removeReference(i.key,e),n.oa.containsKey(i.key)||la(n,i.key)):L()}function da(n,e){const r=e.key,i=r.path.canonicalString();n.ia.get(r)||n.sa.has(i)||(O("SyncEngine","New document in limbo: "+r),n.sa.add(i),_a(n))}function _a(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const r=new xt(_t.fromString(e)),i=n.ca.next();n.ra.set(i,new Ju(r)),n.ia=n.ia.insert(r,i),su(n.remoteStore,new ki(Ge(Fe(r.path)),i,2,nt.A))}}async function wa(n,e,r){const i=K(n),o=[],f=[],m=[];i.ea.isEmpty()||(i.ea.forEach((_,re)=>{m.push(i.la(re,e,r).then(ie=>{if(ie){i.isPrimaryClient&&i.sharedClientState.updateQueryState(re.targetId,ie.fromCache?"not-current":"current"),o.push(ie);const pe=to.Ys(re.targetId,ie);f.push(pe)}}))}),await Promise.all(m),i.ta.Qo(o),await async function(_,re){const ie=K(_);try{await ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>pi.forEach(re,ye=>pi.forEach(ye.Hs,yt=>ie.persistence.referenceDelegate.addReference(pe,ye.targetId,yt)).next(()=>pi.forEach(ye.Js,yt=>ie.persistence.referenceDelegate.removeReference(pe,ye.targetId,yt)))))}catch(pe){if(!Ri(pe))throw pe;O("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of re){const ye=pe.targetId;if(!pe.fromCache){const yt=ie.ii.get(ye),Yt=yt.snapshotVersion,Xt=yt.withLastLimboFreeSnapshotVersion(Yt);ie.ii=ie.ii.insert(ye,Xt)}}}(i.localStore,f))}async function ma(n,e){const r=K(n);if(!r.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const i=await io(r.localStore,e);r.currentUser=e,function(o,f){o.aa.forEach(m=>{m.forEach(_=>{_.reject(new Q(G.CANCELLED,f))})}),o.aa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await wa(r,i.hi)}}function ga(n,e){const r=K(n),i=r.ra.get(e);if(i&&i.Zu)return Xn().add(i.key);{let o=Xn();const f=r.na.get(e);if(!f)return o;for(const m of f){const _=r.ea.get(m);o=o.unionWith(_.view.Ku)}return o}}function Va(n){const e=K(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=na.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ga.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ia.bind(null,e),e.ta.Qo=$u.bind(null,e.eventManager),e.ta.fa=Bu.bind(null,e.eventManager),e}class Da{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=Wo(e.databaseInfo.databaseId),this.sharedClientState=this._a(e),this.persistence=this.wa(e),await this.persistence.start(),this.gcScheduler=this.ma(e),this.localStore=this.ga(e)}ma(e){return null}ga(e){return so(this.persistence,new eo,e.initialUser,this.M)}wa(e){return new Vo(So.zi,this.M)}_a(e){return new Bo}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Na{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sa(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ma.bind(null,this.syncEngine),await bu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Mu}createDatastore(e){const r=Wo(e.databaseInfo.databaseId),i=(o=e.databaseInfo,new Go(o));var o;return function(f,m,_,re){return new Xo(f,m,_,re)}(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,f=_=>sa(this.syncEngine,_,0),m=Uo.vt()?new Uo:new Lo,new tu(r,i,o,f,m);var r,i,o,f,m}createSyncEngine(e,r){return function(i,o,f,m,_,re,ie){const pe=new Yu(i,o,f,m,_,re);return ie&&(pe.ha=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return async function(e){const r=K(e);O("RemoteStore","RemoteStore shutting down."),r.fu.add(5),await nu(r),r._u.shutdown(),r.wu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,r,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=C.UNAUTHENTICATED,this.clientId=it.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async f=>{O("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(i,f=>(O("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new j;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=Du(r,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function La(n,e){n.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const r=await n.getConfiguration();await e.initialize(r);let i=r.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await io(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}async function Ua(n,e){n.asyncQueue.verifyOperationInProgress();const r=await qa(n);O("FirestoreClient","Initializing OnlineComponentProvider");const i=await n.getConfiguration();await e.initialize(r,i),n.setCredentialChangeListener(o=>Pu(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,f)=>Pu(e.remoteStore,f)),n.onlineComponents=e}async function qa(n){return n.offlineComponents||(O("FirestoreClient","Using default OfflineComponentProvider"),await La(n,new Da)),n.offlineComponents}async function Ka(n){return n.onlineComponents||(O("FirestoreClient","Using default OnlineComponentProvider"),await Ua(n,new Na)),n.onlineComponents}async function za(n){const e=await Ka(n),r=e.eventManager;return r.onListen=Xu.bind(null,e.syncEngine),r.onUnlisten=ta.bind(null,e.syncEngine),r}const rc=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n,e,r){if(!r)throw new Q(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uc(n,e,r,i){if(e===!0&&i===!0)throw new Q(G.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function cc(n){if(xt.isDocumentKey(n))throw new Q(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":L()}function lc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=hc(n);throw new Q(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){var r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,r,i){this._authCredentials=r,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dc({}),this._settingsFrozen=!1,e instanceof vt?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Q(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vt(o.options.projectId)}(e))}get app(){if(!this._app)throw new Q(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dc(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new z;switch(r.type){case"gapi":const i=r.client;return U(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new X(i,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Q(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=rc.get(e);r&&(O("ComponentProvider","Removing Datastore"),rc.delete(e),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mc(this.firestore,e,this._key)}}class gc{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gc(this.firestore,e,this._query)}}class yc extends gc{constructor(e,r,i){super(e,r,Fe(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mc(this.firestore,null,new xt(e))}withConverter(e){return new yc(this.firestore,e,this._path)}}function pc(n,e,...r){if(n=getModularInstance(n),oc("collection","path",e),n instanceof _c){const i=_t.fromString(e,...r);return cc(i),new yc(n,null,i)}{if(!(n instanceof mc||n instanceof yc))throw new Q(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_t.fromString(e,...r));return cc(i),new yc(n.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new zo(this,"async_queue_retry"),this.qa=()=>{const r=jo();r&&O("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Do.Ao()};const e=jo();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const r=jo();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const r=new j;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}async Qa(){if(this.Ma.length!==0){try{await this.Ma[0](),this.Ma.shift(),this.Do.reset()}catch(e){if(!Ri(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Ma.length>0&&this.Do.To(()=>this.Qa())}}Ga(e){const r=this.ka.then(()=>(this.Ba=!0,e().catch(i=>{this.$a=i,this.Ba=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(i);throw F("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ba=!1,i))));return this.ka=r,r}enqueueAfterDelay(e,r,i){this.Ka(),this.Ua.indexOf(e)>-1&&(r=0);const o=Su.createAndSchedule(this,e,r,i,f=>this.ja(f));return this.Fa.push(o),o}Ka(){this.$a&&L()}verifyOperationInProgress(){}async Wa(){let e;do e=this.ka,await e;while(e!==this.ka)}za(e){for(const r of this.Fa)if(r.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(const r of this.Fa)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const r=this.Fa.indexOf(e);this.Fa.splice(r,1)}}function Pc(n){return function(e,r){if(typeof e!="object"||e===null)return!1;const i=e;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class vc extends _c{constructor(e,r,i){super(e,r,i),this.type="firestore",this._queue=new Rc,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||xc(this),this._firestoreClient.terminate()}}function Dc(n=getApp()){return _getProvider(n,"firestore").getImmediate()}function Cc(n){return n._firestoreClient||xc(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xc(n){var e;const r=n._freezeSettings(),i=function(o,f,m,_){return new Vt(o,f,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new Ba(n._authCredentials,n._appCheckCredentials,n._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Q(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jc(pt.fromBase64String(e))}catch(r){throw new Q(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new jc(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Q(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Q(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=/^__.*__$/;function Xc(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class Zc{constructor(e,r,i,o,f,m){this.settings=e,this.databaseId=r,this.M=i,this.ignoreUndefinedProperties=o,f===void 0&&this.Ya(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Zc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.Za({path:i,ec:!1});return o.nc(e),o}sc(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.Za({path:i,ec:!1});return o.Ya(),o}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return ph(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(e.length===0)throw this.rc("Document fields must not be empty");if(Xc(this.Xa)&&Hc.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class th{constructor(e,r,i){this.databaseId=e,this.ignoreUndefinedProperties=r,this.M=i||Wo(e)}ac(e,r,i,o=!1){return new Zc({Xa:e,methodName:r,uc:i,path:mt.emptyPath(),ec:!1,oc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function eh(n){const e=n._freezeSettings(),r=Wo(n._databaseId);return new th(n._databaseId,!!e.ignoreUndefinedProperties,r)}function lh(n,e,r,i=!1){return fh(r,n.ac(i?4:3,e))}function fh(n,e){if(_h(n=getModularInstance(n)))return wh("Unsupported field value:",e,n),dh(n,e);if(n instanceof Wc)return function(r,i){if(!Xc(i.Xa))throw i.rc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&e.Xa!==4)throw e.rc("Nested arrays are not supported");return function(r,i){const o=[];let f=0;for(const m of r){let _=fh(m,i.ic(f));_==null&&(_={nullValue:"NULL_VALUE"}),o.push(_),f++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=getModularInstance(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return en(i.M,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:ds(i.M,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ds(i.M,o)}}if(r instanceof zc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jc)return{bytesValue:_s(i.M,r._byteString)};if(r instanceof mc){const o=i.databaseId,f=r.firestore._databaseId;if(!f.isEqual(o))throw i.rc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gs(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.rc(`Unsupported field value: ${hc(r)}`)}(n,e)}function dh(n,e){const r={};return ft(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lt(n,(i,o)=>{const f=fh(o,e.tc(i));f!=null&&(r[i]=f)}),{mapValue:{fields:r}}}function _h(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof at||n instanceof zc||n instanceof jc||n instanceof mc||n instanceof Wc)}function wh(n,e,r){if(!_h(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const i=hc(r);throw i==="an object"?e.rc(n+" a custom object"):e.rc(n+" "+i)}}const gh=new RegExp("[~\\*/\\[\\]]");function yh(n,e,r){if(e.search(gh)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new Gc(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function ph(n,e,r,i,o){const f=i&&!i.isEmpty(),m=o!==void 0;let _=`Function ${e}() called with invalid data`;r&&(_+=" (via `toFirestore()`)"),_+=". ";let re="";return(f||m)&&(re+=" (found",f&&(re+=` in field ${i}`),m&&(re+=` in document ${o}`),re+=")"),new Q(G.INVALID_ARGUMENT,_+n+re)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,r,i,o,f){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new mc(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Eh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Ah("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Eh extends Th{data(){return super.data()}}function Ah(n,e){return typeof e=="string"?yh(n,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ph extends Th{constructor(e,r,i,o,f,m){super(e,r,i,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const i=this._document.data.field(Ah("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}}class bh extends Ph{data(e={}){return super.data(e)}}class Vh{constructor(e,r,i,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new Rh(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(i=>{e.call(r,new bh(this._firestore,this._userDataWriter,i.key,i,new Rh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Q(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let f=0;return i._snapshot.docChanges.map(m=>({type:"added",doc:new bh(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Rh(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:f++}))}{let f=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(m=>o||m.type!==3).map(m=>{const _=new bh(i._firestore,i._userDataWriter,m.doc.key,m.doc,new Rh(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);let re=-1,ie=-1;return m.type!==0&&(re=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),ie=f.indexOf(m.doc.key)),{type:vh(m.type),doc:_,oldIndex:re,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function vh(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n){if(Be(n)&&n.explicitOrderBy.length===0)throw new Q(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ch{}function xh(n,...e){for(const r of e)n=r._apply(n);return n}class Nh extends Ch{constructor(e,r,i){super(),this.lc=e,this.fc=r,this.dc=i,this.type="where"}_apply(e){const r=eh(e.firestore),i=function(o,f,m,_,re,ie,pe){let ye;if(re.isKeyField()){if(ie==="array-contains"||ie==="array-contains-any")throw new Q(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if(ie==="in"||ie==="not-in"){zh(pe,ie);const Yt=[];for(const Xt of pe)Yt.push(Wh(_,o,Xt));ye={arrayValue:{values:Yt}}}else ye=Wh(_,o,pe)}else ie!=="in"&&ie!=="not-in"&&ie!=="array-contains-any"||zh(pe,ie),ye=lh(m,f,pe,ie==="in"||ie==="not-in");const yt=Te.create(re,ie,ye);return function(Yt,Xt){if(Xt.S()){const xn=Ue(Yt);if(xn!==null&&!xn.isEqual(Xt.field))throw new Q(G.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xn.toString()}' and '${Xt.field.toString()}'`);const rr=Le(Yt);rr!==null&&Hh(Yt,Xt.field,rr)}const Cn=function(xn,rr){for(const lr of xn.filters)if(rr.indexOf(lr.op)>=0)return lr.op;return null}(Yt,function(xn){switch(xn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Xt.op));if(Cn!==null)throw Cn===Xt.op?new Q(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${Xt.op.toString()}' filter.`):new Q(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${Xt.op.toString()}' filters with '${Cn.toString()}' filters.`)}(o,yt),yt}(e._query,"where",r,e.firestore._databaseId,this.lc,this.fc,this.dc);return new gc(e.firestore,e.converter,function(o,f){const m=o.filters.concat([f]);return new Me(o.path,o.collectionGroup,o.explicitOrderBy.slice(),m,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function kh(n,e,r){const i=e,o=Ah("where",n);return new Nh(o,i,r)}function Wh(n,e,r){if(typeof(r=getModularInstance(r))=="string"){if(r==="")throw new Q(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qe(e)&&r.indexOf("/")!==-1)throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const i=e.path.child(_t.fromString(r));if(!xt.isDocumentKey(i))throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qt(n,new xt(i))}if(r instanceof mc)return qt(n,r._key);throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hc(r)}.`)}function zh(n,e){if(!Array.isArray(n)||n.length===0)throw new Q(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Q(G.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Hh(n,e,r){if(!r.isEqual(e))throw new Q(G.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{convertValue(e,r="none"){switch(Mt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(At(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw L()}}convertObject(e,r){const i={};return lt(e.fields,(o,f)=>{i[o]=this.convertValue(f,r)}),i}convertGeoPoint(e){return new zc(Et(e.latitude),Et(e.longitude))}convertArray(e,r){return(e.values||[]).map(i=>this.convertValue(i,r))}convertServerTimestamp(e,r){switch(r){case"previous":const i=Pt(e);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(bt(e));default:return null}}convertTimestamp(e){const r=Tt(e);return new at(r.seconds,r.nanos)}convertDocumentKey(e,r){const i=_t.fromString(e);U(Gs(i));const o=new vt(i.get(1),i.get(3)),f=new xt(i.popFirst(5));return o.isEqual(r)||F(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}class nl extends Jh{constructor(e){super(),this.firestore=e}convertBytes(e){return new jc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new mc(this.firestore,null,r)}}function fl(n,...e){var r,i,o;n=getModularInstance(n);let f={includeMetadataChanges:!1},m=0;typeof e[m]!="object"||Pc(e[m])||(f=e[m],m++);const _={includeMetadataChanges:f.includeMetadataChanges};if(Pc(e[m])){const ye=e[m];e[m]=(r=ye.next)===null||r===void 0?void 0:r.bind(ye),e[m+1]=(i=ye.error)===null||i===void 0?void 0:i.bind(ye),e[m+2]=(o=ye.complete)===null||o===void 0?void 0:o.bind(ye)}let re,ie,pe;if(n instanceof mc)ie=lc(n.firestore,vc),pe=Fe(n._key.path),re={next:ye=>{e[m]&&e[m](wl(ie,n,ye))},error:e[m+1],complete:e[m+2]};else{const ye=lc(n,gc);ie=lc(ye.firestore,vc),pe=ye._query;const yt=new nl(ie);re={next:Yt=>{e[m]&&e[m](new Vh(ie,yt,ye,Yt))},error:e[m+1],complete:e[m+2]},Dh(n._query)}return function(ye,yt,Yt,Xt){const Cn=new Ma(Xt),xn=new Uu(yt,Cn,Yt);return ye.asyncQueue.enqueueAndForget(async()=>Ou(await za(ye),xn)),()=>{Cn.Ia(),ye.asyncQueue.enqueueAndForget(async()=>Fu(await za(ye),xn))}}(Cc(ie),pe,_,re)}function wl(n,e,r){const i=r.docs.get(e._key),o=new nl(n);return new Ph(n,o,e._key,i,new Rh(r.hasPendingWrites,r.fromCache),e.converter)}(function(n,e=!0){(function(r){x=r})(SDK_VERSION),_registerComponent(new Component("firestore",(r,{options:i})=>{const o=r.getProvider("app").getImmediate(),f=new vc(o,new J(r.getProvider("auth-internal")),new tt(r.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),f._setSettings(i),f},"PUBLIC")),registerVersion(D,"3.4.8",n),registerVersion(D,"3.4.8","esm2017")})();const name$1="@firebase/installations",version$1="0.5.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$1}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=60*60*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(n){return n instanceof FirebaseError&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:n}){return`${INSTALLATIONS_API_URL}/projects/${n}/installations`}function extractAuthTokenInfoFromResponse(n){return{token:n.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(n.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(n,e){const i=(await e.json()).error;return ERROR_FACTORY$1.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function getHeaders$1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function getHeadersWithAuth(n,{refreshToken:e}){const r=getHeaders$1(n);return r.append("Authorization",getAuthorizationHeader(e)),r}async function retryIfServerError(n){const e=await n();return e.status>=500&&e.status<600?n():e}function getExpiresInFromResponseExpiresIn(n){return Number(n.replace("s","000"))}function getAuthorizationHeader(n){return`${INTERNAL_AUTH_VERSION} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:n,heartbeatServiceProvider:e},{fid:r}){const i=getInstallationsEndpoint(n),o=getHeaders$1(n),f=e.getImmediate({optional:!0});if(f){const ie=await f.getHeartbeatsHeader();ie&&o.append("x-firebase-client",ie)}const m={fid:r,authVersion:INTERNAL_AUTH_VERSION,appId:n.appId,sdkVersion:PACKAGE_VERSION},_={method:"POST",headers:o,body:JSON.stringify(m)},re=await retryIfServerError(()=>fetch(i,_));if(re.ok){const ie=await re.json();return{fid:ie.fid||r,registrationStatus:2,refreshToken:ie.refreshToken,authToken:extractAuthTokenInfoFromResponse(ie.authToken)}}else throw await getErrorFromResponse("Create Installation",re)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const r=encode(n);return VALID_FID_PATTERN.test(r)?r:INVALID_FID}catch{return INVALID_FID}}function encode(n){return bufferToBase64UrlSafe(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(n,e){const r=getKey(n);callFidChangeCallbacks(r,e),broadcastFidChange(r,e)}function callFidChangeCallbacks(n,e){const r=fidChangeCallbacks.get(n);if(!!r)for(const i of r)i(e)}function broadcastFidChange(n,e){const r=getBroadcastChannel();r&&r.postMessage({key:n,fid:e}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=n=>{callFidChangeCallbacks(n.data.key,n.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-installations-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-installations-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,(n,e)=>{switch(e){case 0:n.createObjectStore(OBJECT_STORE_NAME)}})),dbPromise}async function set(n,e){const r=getKey(n),o=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),f=o.objectStore(OBJECT_STORE_NAME),m=await f.get(r);return await f.put(e,r),await o.complete,(!m||m.fid!==e.fid)&&fidChanged(n,e.fid),e}async function remove(n){const e=getKey(n),i=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await i.objectStore(OBJECT_STORE_NAME).delete(e),await i.complete}async function update(n,e){const r=getKey(n),o=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),f=o.objectStore(OBJECT_STORE_NAME),m=await f.get(r),_=e(m);return _===void 0?await f.delete(r):await f.put(_,r),await o.complete,_&&(!m||m.fid!==_.fid)&&fidChanged(n,_.fid),_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(n){let e;const r=await update(n.appConfig,i=>{const o=updateOrCreateInstallationEntry(i),f=triggerRegistrationIfNecessary(n,o);return e=f.registrationPromise,f.installationEntry});return r.fid===INVALID_FID?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function updateOrCreateInstallationEntry(n){const e=n||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(e)}function triggerRegistrationIfNecessary(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ERROR_FACTORY$1.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=registerInstallation(n,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:waitUntilFidRegistration(n)}:{installationEntry:e}}async function registerInstallation(n,e){try{const r=await createInstallationRequest(n,e);return set(n.appConfig,r)}catch(r){throw isServerError(r)&&r.customData.serverCode===409?await remove(n.appConfig):await set(n.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function waitUntilFidRegistration(n){let e=await updateInstallationRequest(n.appConfig);for(;e.registrationStatus===1;)await sleep(100),e=await updateInstallationRequest(n.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:i}=await getInstallationEntry(n);return i||r}return e}function updateInstallationRequest(n){return update(n,e=>{if(!e)throw ERROR_FACTORY$1.create("installation-not-found");return clearTimedOutRequest(e)})}function clearTimedOutRequest(n){return hasInstallationRequestTimedOut(n)?{fid:n.fid,registrationStatus:0}:n}function hasInstallationRequestTimedOut(n){return n.registrationStatus===1&&n.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:n,heartbeatServiceProvider:e},r){const i=getGenerateAuthTokenEndpoint(n,r),o=getHeadersWithAuth(n,r),f=e.getImmediate({optional:!0});if(f){const ie=await f.getHeartbeatsHeader();ie&&o.append("x-firebase-client",ie)}const m={installation:{sdkVersion:PACKAGE_VERSION,appId:n.appId}},_={method:"POST",headers:o,body:JSON.stringify(m)},re=await retryIfServerError(()=>fetch(i,_));if(re.ok){const ie=await re.json();return extractAuthTokenInfoFromResponse(ie)}else throw await getErrorFromResponse("Generate Auth Token",re)}function getGenerateAuthTokenEndpoint(n,{fid:e}){return`${getInstallationsEndpoint(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(n,e=!1){let r;const i=await update(n.appConfig,f=>{if(!isEntryRegistered(f))throw ERROR_FACTORY$1.create("not-registered");const m=f.authToken;if(!e&&isAuthTokenValid(m))return f;if(m.requestStatus===1)return r=waitUntilAuthTokenRequest(n,e),f;{if(!navigator.onLine)throw ERROR_FACTORY$1.create("app-offline");const _=makeAuthTokenRequestInProgressEntry(f);return r=fetchAuthTokenFromServer(n,_),_}});return r?await r:i.authToken}async function waitUntilAuthTokenRequest(n,e){let r=await updateAuthTokenRequest(n.appConfig);for(;r.authToken.requestStatus===1;)await sleep(100),r=await updateAuthTokenRequest(n.appConfig);const i=r.authToken;return i.requestStatus===0?refreshAuthToken(n,e):i}function updateAuthTokenRequest(n){return update(n,e=>{if(!isEntryRegistered(e))throw ERROR_FACTORY$1.create("not-registered");const r=e.authToken;return hasAuthTokenRequestTimedOut(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fetchAuthTokenFromServer(n,e){try{const r=await generateAuthTokenRequest(n,e),i=Object.assign(Object.assign({},e),{authToken:r});return await set(n.appConfig,i),r}catch(r){if(isServerError(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await remove(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await set(n.appConfig,i)}throw r}}function isEntryRegistered(n){return n!==void 0&&n.registrationStatus===2}function isAuthTokenValid(n){return n.requestStatus===2&&!isAuthTokenExpired(n)}function isAuthTokenExpired(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function hasAuthTokenRequestTimedOut(n){return n.requestStatus===1&&n.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(n){const e=n,{installationEntry:r,registrationPromise:i}=await getInstallationEntry(e);return i?i.catch(console.error):refreshAuthToken(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken(n,e=!1){const r=n;return await completeInstallationRegistration(r),(await refreshAuthToken(r,e)).token}async function completeInstallationRegistration(n){const{registrationPromise:e}=await getInstallationEntry(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(n){if(!n||!n.options)throw getMissingValueError("App Configuration");if(!n.name)throw getMissingValueError("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!n.options[r])throw getMissingValueError(r);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function getMissingValueError(n){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=n=>{const e=n.getProvider("app").getImmediate(),r=extractAppConfig(e),i=_getProvider(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},internalFactory=n=>{const e=n.getProvider("app").getImmediate(),r=_getProvider(e,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(r),getToken:o=>getToken(r,o)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations(),registerVersion(name$1,version$1),registerVersion(name$1,version$1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function promiseAllSettled(n){return Promise.all(n.map(e=>e.catch(r=>r)))}function insertScriptTag(n,e){const r=document.createElement("script");r.src=`${GTAG_URL}?l=${n}&id=${e}`,r.async=!0,document.head.appendChild(r)}function getOrCreateDataLayer(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function gtagOnConfig(n,e,r,i,o,f){const m=i[o];try{if(m)await e[m];else{const re=(await promiseAllSettled(r)).find(ie=>ie.measurementId===o);re&&await e[re.appId]}}catch(_){logger.error(_)}n("config",o,f)}async function gtagOnEvent(n,e,r,i,o){try{let f=[];if(o&&o.send_to){let m=o.send_to;Array.isArray(m)||(m=[m]);const _=await promiseAllSettled(r);for(const re of m){const ie=_.find(ye=>ye.measurementId===re),pe=ie&&e[ie.appId];if(pe)f.push(pe);else{f=[];break}}}f.length===0&&(f=Object.values(e)),await Promise.all(f),n("event",i,o||{})}catch(f){logger.error(f)}}function wrapGtag(n,e,r,i){async function o(f,m,_){try{f==="event"?await gtagOnEvent(n,e,r,m,_):f==="config"?await gtagOnConfig(n,e,r,i,m,_):n("set",m)}catch(re){logger.error(re)}}return o}function wrapOrCreateGtag(n,e,r,i,o){let f=function(...m){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(f=window[o]),window[o]=wrapGtag(f,n,e,r),{gtagCore:f,wrappedGtag:window[o]}}function findGtagScriptOnPage(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(GTAG_URL))return e;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(e={},r=BASE_INTERVAL_MILLIS){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const defaultRetryData=new RetryData;function getHeaders(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function fetchDynamicConfig(n){var e;const{appId:r,apiKey:i}=n,o={method:"GET",headers:getHeaders(i)},f=DYNAMIC_CONFIG_URL.replace("{app-id}",r),m=await fetch(f,o);if(m.status!==200&&m.status!==304){let _="";try{const re=await m.json();!((e=re.error)===null||e===void 0)&&e.message&&(_=re.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:m.status,responseMessage:_})}return m.json()}async function fetchDynamicConfigWithRetry(n,e=defaultRetryData,r){const{appId:i,apiKey:o,measurementId:f}=n.options;if(!i)throw ERROR_FACTORY.create("no-app-id");if(!o){if(f)return{measurementId:f,appId:i};throw ERROR_FACTORY.create("no-api-key")}const m=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_=new AnalyticsAbortSignal;return setTimeout(async()=>{_.abort()},r!==void 0?r:FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:i,apiKey:o,measurementId:f},m,_,e)}async function attemptFetchDynamicConfigWithRetry(n,{throttleEndTimeMillis:e,backoffCount:r},i,o=defaultRetryData){const{appId:f,measurementId:m}=n;try{await setAbortableTimeout(i,e)}catch(_){if(m)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${_.message}]`),{appId:f,measurementId:m};throw _}try{const _=await fetchDynamicConfig(n);return o.deleteThrottleMetadata(f),_}catch(_){if(!isRetriableError(_)){if(o.deleteThrottleMetadata(f),m)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${_.message}]`),{appId:f,measurementId:m};throw _}const re=Number(_.customData.httpStatus)===503?calculateBackoffMillis(r,o.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(r,o.intervalMillis),ie={throttleEndTimeMillis:Date.now()+re,backoffCount:r+1};return o.setThrottleMetadata(f,ie),logger.debug(`Calling attemptFetch again in ${re} millis`),attemptFetchDynamicConfigWithRetry(n,ie,i,o)}}function setAbortableTimeout(n,e){return new Promise((r,i)=>{const o=Math.max(e-Date.now(),0),f=setTimeout(r,o);n.addEventListener(()=>{clearTimeout(f),i(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function isRetriableError(n){if(!(n instanceof FirebaseError)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(n){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:n}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(n,e,r,i,o,f,m){var _;const re=fetchDynamicConfigWithRetry(n);re.then(Yt=>{r[Yt.measurementId]=Yt.appId,n.options.measurementId&&Yt.measurementId!==n.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${Yt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yt=>logger.error(Yt)),e.push(re);const ie=validateIndexedDB().then(Yt=>{if(Yt)return i.getId()}),[pe,ye]=await Promise.all([re,ie]);findGtagScriptOnPage()||insertScriptTag(f,pe.measurementId),o("js",new Date);const yt=(_=m==null?void 0:m.config)!==null&&_!==void 0?_:{};return yt[ORIGIN_KEY]="firebase",yt.update=!0,ye!=null&&(yt[GA_FID_KEY]=ye),o("config",pe.measurementId,yt),pe.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(e){this.app=e}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const n=[];if(isBrowserExtension()&&n.push("This is a browser extension environment."),areCookiesEnabled()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),r=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:e});logger.warn(r.message)}}function factory(n,e,r){warnOnBrowserContextMismatch();const i=n.options.appId;if(!i)throw ERROR_FACTORY.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[i]!=null)throw ERROR_FACTORY.create("already-exists",{id:i});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:f,gtagCore:m}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=f,gtagCoreFunction=m,globalInitDone=!0}return initializationPromisesMap[i]=_initializeAnalytics(n,dynamicConfigPromisesList,measurementIdToAppId,e,gtagCoreFunction,dataLayerName,r),new AnalyticsService(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function logEvent$1(n,e,r,i,o){if(o&&o.global){n("event",r,i);return}else{const f=await e,m=Object.assign(Object.assign({},i),{send_to:f});n("event",r,m)}}function getAnalytics(n=getApp()){n=getModularInstance(n);const e=_getProvider(n,ANALYTICS_TYPE);return e.isInitialized()?e.getImmediate():initializeAnalytics(n)}function initializeAnalytics(n,e={}){const r=_getProvider(n,ANALYTICS_TYPE);if(r.isInitialized()){const o=r.getImmediate();if(deepEqual(e,r.getOptions()))return o;throw ERROR_FACTORY.create("already-initialized")}return r.initialize({options:e})}function logEvent(n,e,r,i){n=getModularInstance(n),logEvent$1(wrappedGtagFunction,initializationPromisesMap[n.app.options.appId],e,r,i).catch(o=>logger.error(o))}const name="@firebase/analytics",version="0.7.8";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return factory(i,o,r)},"PUBLIC")),_registerComponent(new Component("analytics-internal",n,"PRIVATE")),registerVersion(name,version),registerVersion(name,version,"esm2017");function n(e){try{const r=e.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(i,o,f)=>logEvent(r,i,o,f)}}catch(r){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:r})}}}registerAnalytics();var _export_sfc$1=(n,e)=>{for(const[r,i]of e)n[r]=i;return n};const _sfc_main$1$1={},_withScopeId=n=>(pushScopeId("data-v-39432f99"),n=n(),popScopeId(),n),_hoisted_1$1$1={class:"container"},_hoisted_2$2=_withScopeId(()=>createBaseVNode("div",{class:"spinner"},null,-1)),_hoisted_3$2=[_hoisted_2$2];function _sfc_render$1(n,e){return openBlock(),createElementBlock("div",_hoisted_1$1$1,_hoisted_3$2)}var Spinner=_export_sfc$1(_sfc_main$1$1,[["render",_sfc_render$1],["__scopeId","data-v-39432f99"]]);const stateHandler=n=>({loading(){n.value="loading"},loaded(){n.value="loaded"},complete(){n.value="complete"},error(){n.value="error"}}),infiniteEventEmitter=(n,e)=>()=>{e.loading(),n("infinite",e)},isVisible=(n,e)=>{const r=n.getBoundingClientRect(),i=e.getBoundingClientRect();return r.top-i.top<=e.clientHeight||!e.clientHeight},getEventHandler=(n,{state:e,distance:r,emitInfiniteEvent:i,top:o})=>()=>{const{scrollTop:f,scrollHeight:m,clientHeight:_}=n,re=e.value=="loaded"||!e.value;o&&Math.ceil(f)-r<=0&&re&&i(),!o&&Math.ceil(f)+_>=m-r&&re&&i()};let eventHandler;const startScrollEvent=n=>{if(n.target&&!document.querySelector(n.target))return console.error("Vue3 infinite loading: target prop should be a valid css selector");const e=document.querySelector(n.target)||document.documentElement,r=document.querySelector(n.target)||window,i=n.vue3InfiniteLoading.value;isVisible(i,e)&&n.firstLoad&&n.emitInfiniteEvent(),eventHandler=getEventHandler(e,n),r.addEventListener("scroll",eventHandler)},removeScrollEvent=n=>{(document.querySelector(n.target)||window).removeEventListener("scroll",eventHandler)},_hoisted_1$2={class:"state-error"},_sfc_main$2={props:{top:{type:Boolean,required:!1},target:{type:[String,Boolean],required:!1},distance:{type:Number,required:!1,default:100},identifier:{required:!1},firstLoad:{type:Boolean,required:!1,default:!0},slots:{type:Object,required:!1}},emits:["infinite"],setup(n,{emit:e}){const r=n,i=ref(null),o=ref(""),{top:f,target:m,distance:_,firstLoad:re,slots:ie}=r,{identifier:pe}=toRefs(r),ye={vue3InfiniteLoading:i,state:o,target:m,distance:_,top:f,firstLoad:re,emitInfiniteEvent:infiniteEventEmitter(e,stateHandler(o))},yt=(Xt,Cn)=>watch(o,xn=>{xn=="loaded"&&f&&(Promise.resolve().then(()=>{Xt.scrollTop=Xt.scrollHeight-Cn}),Cn=Xt.scrollHeight),xn=="complete"&&removeScrollEvent(ye)}),Yt=()=>watch(pe,()=>{o.value="",removeScrollEvent(ye),startScrollEvent(ye)});return onMounted(()=>{startScrollEvent(ye);let Xt=document.querySelector(m)||document.documentElement,Cn=Xt.scrollHeight;yt(Xt,Cn),pe&&Yt()}),onUnmounted(()=>{removeScrollEvent(ye)}),(Xt,Cn)=>(openBlock(),createElementBlock("div",{ref:(xn,rr)=>{rr.vue3InfiniteLoading=xn,i.value=xn}},[o.value=="loading"?renderSlot(Xt.$slots,"spinner",{key:0},()=>[createVNode(Spinner)]):createCommentVNode("v-if",!0),o.value=="complete"?renderSlot(Xt.$slots,"complete",{key:1},()=>{var xn;return[createBaseVNode("span",null,toDisplayString(((xn=unref(ie))==null?void 0:xn.complete)||"No more results!"),1)]}):createCommentVNode("v-if",!0),o.value=="error"?renderSlot(Xt.$slots,"error",{key:2,retry:ye.emitInfiniteEvent},()=>{var xn;return[createBaseVNode("span",_hoisted_1$2,[createBaseVNode("span",null,toDisplayString(((xn=unref(ie))==null?void 0:xn.error)||"Oops something went wrong!"),1),createBaseVNode("button",{class:"retry",onClick:Cn[0]||(Cn[0]=(...rr)=>ye.emitInfiniteEvent&&ye.emitInfiniteEvent(...rr))},"retry")])]}):createCommentVNode("v-if",!0)],512))}};var style="",_export_sfc=(n,e)=>{const r=n.__vccOpts||n;for(const[i,o]of e)r[i]=o;return r};const _sfc_main$1={props:{rank:Number,name:String,members:String,score:[Number,String],isActive:Boolean}},_hoisted_1$1={class:"text-yellow w-10 text-right"},_hoisted_2$1={class:"px-4 flex-1"},_hoisted_3$1={class:"capitalize"},_hoisted_4$1={class:"sm:text-lg text-gray-300 capitalize"},_hoisted_5$1={class:"leading-tight text-center"},_hoisted_6$1=createBaseVNode("p",{class:"text-xs sm:text-sm"},"Score",-1),_hoisted_7={class:"text-yellow text-xl"};function _sfc_render(n,e,r,i,o,f){return openBlock(),createElementBlock("div",{class:normalizeClass(["py-1 sm:py-2",r.isActive?"sticky bottom-0 top-0 z-50":""])},[createBaseVNode("div",{class:normalizeClass(["rounded-xl text-lg sm:text-xl font-medium py-2 sm:py-4 pl-2 pr-4 sm:pl-4 sm:pr-8 flex items-center",r.isActive?"border-2 border-yellow bg-blue-alt":"border border-white-30"])},[createBaseVNode("p",_hoisted_1$1,toDisplayString(r.rank)+".",1),createBaseVNode("div",_hoisted_2$1,[createBaseVNode("p",_hoisted_3$1,toDisplayString(r.name),1),createBaseVNode("p",_hoisted_4$1,toDisplayString(r.members),1)]),createBaseVNode("div",_hoisted_5$1,[_hoisted_6$1,createBaseVNode("p",_hoisted_7,toDisplayString(r.score),1)])],2)],2)}var ScoreRow=_export_sfc(_sfc_main$1,[["render",_sfc_render]]),commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var r,i="4.17.21",o=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",m="Expected a function",_="Invalid `variable` option passed into `_.template`",re="__lodash_hash_undefined__",ie=500,pe="__lodash_placeholder__",ye=1,yt=2,Yt=4,Xt=1,Cn=2,xn=1,rr=2,lr=4,sr=8,mr=16,Sr=32,Mr=64,wr=128,zr=256,Kr=512,li=30,si="...",gr=800,Xr=16,Si=1,Xs=2,ni=3,Ur=1/0,Dr=9007199254740991,zi=17976931348623157e292,Js=0/0,hi=4294967295,Zs=hi-1,Zi=hi>>>1,Sl=[["ary",wr],["bind",xn],["bindKey",rr],["curry",sr],["curryRight",mr],["flip",Kr],["partial",Sr],["partialRight",Mr],["rearg",zr]],ro="[object Arguments]",Tu="[object Array]",ji="[object AsyncFunction]",ps="[object Boolean]",co="[object Date]",go="[object DOMException]",yo="[object Error]",_o="[object Function]",et="[object GeneratorFunction]",gt="[object Map]",Zt="[object Number]",Gn="[object Null]",An="[object Object]",nr="[object Promise]",or="[object Proxy]",tr="[object RegExp]",er="[object Set]",Jn="[object String]",pr="[object Symbol]",ur="[object Undefined]",dr="[object WeakMap]",Er="[object WeakSet]",xr="[object ArrayBuffer]",Pr="[object DataView]",Fr="[object Float32Array]",Hr="[object Float64Array]",mi="[object Int8Array]",ws="[object Int16Array]",Iu="[object Int32Array]",Ds="[object Uint8Array]",Au="[object Uint8ClampedArray]",ai="[object Uint16Array]",Ei="[object Uint32Array]",Rl=/\b__p \+= '';/g,Sm=/\b(__p \+=) '' \+/g,Rm=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xd=/&(?:amp|lt|gt|quot|#39);/g,Zd=/[&<>"']/g,xm=RegExp(Xd.source),Om=RegExp(Zd.source),Nm=/<%-([\s\S]+?)%>/g,$m=/<%([\s\S]+?)%>/g,ep=/<%=([\s\S]+?)%>/g,km=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lm=/^\w*$/,Dm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bh=/[\\^$.*+?()[\]{}|]/g,Mm=RegExp(Bh.source),Uh=/^\s+/,Pm=/\s/,Fm=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bm=/\{\n\/\* \[wrapped with (.+)\] \*/,Um=/,? & /,Vm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hm=/[()=,{}\[\]\/\s]/,qm=/\\(\\)?/g,Km=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tp=/\w*$/,Gm=/^[-+]0x[0-9a-f]+$/i,Wm=/^0b[01]+$/i,zm=/^\[object .+?Constructor\]$/,jm=/^0o[0-7]+$/i,Ym=/^(?:0|[1-9]\d*)$/,Qm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xl=/($^)/,Xm=/['\n\r\u2028\u2029\\]/g,Ol="\\ud800-\\udfff",Jm="\\u0300-\\u036f",Zm="\\ufe20-\\ufe2f",ey="\\u20d0-\\u20ff",np=Jm+Zm+ey,rp="\\u2700-\\u27bf",ip="a-z\\xdf-\\xf6\\xf8-\\xff",ty="\\xac\\xb1\\xd7\\xf7",ny="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ry="\\u2000-\\u206f",iy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sp="A-Z\\xc0-\\xd6\\xd8-\\xde",op="\\ufe0e\\ufe0f",ap=ty+ny+ry+iy,qh="['\u2019]",sy="["+Ol+"]",up="["+ap+"]",Nl="["+np+"]",cp="\\d+",oy="["+rp+"]",lp="["+ip+"]",hp="[^"+Ol+ap+cp+rp+ip+sp+"]",Kh="\\ud83c[\\udffb-\\udfff]",ay="(?:"+Nl+"|"+Kh+")",fp="[^"+Ol+"]",Gh="(?:\\ud83c[\\udde6-\\uddff]){2}",jh="[\\ud800-\\udbff][\\udc00-\\udfff]",Ru="["+sp+"]",dp="\\u200d",pp="(?:"+lp+"|"+hp+")",uy="(?:"+Ru+"|"+hp+")",gp="(?:"+qh+"(?:d|ll|m|re|s|t|ve))?",mp="(?:"+qh+"(?:D|LL|M|RE|S|T|VE))?",yp=ay+"?",vp="["+op+"]?",cy="(?:"+dp+"(?:"+[fp,Gh,jh].join("|")+")"+vp+yp+")*",ly="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hy="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_p=vp+yp+cy,fy="(?:"+[oy,Gh,jh].join("|")+")"+_p,dy="(?:"+[fp+Nl+"?",Nl,Gh,jh,sy].join("|")+")",py=RegExp(qh,"g"),gy=RegExp(Nl,"g"),Yh=RegExp(Kh+"(?="+Kh+")|"+dy+_p,"g"),my=RegExp([Ru+"?"+lp+"+"+gp+"(?="+[up,Ru,"$"].join("|")+")",uy+"+"+mp+"(?="+[up,Ru+pp,"$"].join("|")+")",Ru+"?"+pp+"+"+gp,Ru+"+"+mp,hy,ly,cp,fy].join("|"),"g"),yy=RegExp("["+dp+Ol+np+op+"]"),vy=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_y=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wy=-1,jr={};jr[Fr]=jr[Hr]=jr[mi]=jr[ws]=jr[Iu]=jr[Ds]=jr[Au]=jr[ai]=jr[Ei]=!0,jr[ro]=jr[Tu]=jr[xr]=jr[ps]=jr[Pr]=jr[co]=jr[yo]=jr[_o]=jr[gt]=jr[Zt]=jr[An]=jr[tr]=jr[er]=jr[Jn]=jr[dr]=!1;var Wr={};Wr[ro]=Wr[Tu]=Wr[xr]=Wr[Pr]=Wr[ps]=Wr[co]=Wr[Fr]=Wr[Hr]=Wr[mi]=Wr[ws]=Wr[Iu]=Wr[gt]=Wr[Zt]=Wr[An]=Wr[tr]=Wr[er]=Wr[Jn]=Wr[pr]=Wr[Ds]=Wr[Au]=Wr[ai]=Wr[Ei]=!0,Wr[yo]=Wr[_o]=Wr[dr]=!1;var Ey={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ty={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Iy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ay={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},by=parseFloat,Cy=parseInt,wp=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Sy=typeof self=="object"&&self&&self.Object===Object&&self,ui=wp||Sy||Function("return this")(),Qh=e&&!e.nodeType&&e,Yo=Qh&&!0&&n&&!n.nodeType&&n,Ep=Yo&&Yo.exports===Qh,Xh=Ep&&wp.process,Fi=function(){try{var Nt=Yo&&Yo.require&&Yo.require("util").types;return Nt||Xh&&Xh.binding&&Xh.binding("util")}catch{}}(),Tp=Fi&&Fi.isArrayBuffer,Ip=Fi&&Fi.isDate,Ap=Fi&&Fi.isMap,bp=Fi&&Fi.isRegExp,Cp=Fi&&Fi.isSet,Sp=Fi&&Fi.isTypedArray;function xi(Nt,gn,Jt){switch(Jt.length){case 0:return Nt.call(gn);case 1:return Nt.call(gn,Jt[0]);case 2:return Nt.call(gn,Jt[0],Jt[1]);case 3:return Nt.call(gn,Jt[0],Jt[1],Jt[2])}return Nt.apply(gn,Jt)}function Ry(Nt,gn,Jt,ar){for(var Tr=-1,Br=Nt==null?0:Nt.length;++Tr<Br;){var ri=Nt[Tr];gn(ar,ri,Jt(ri),Nt)}return ar}function Bi(Nt,gn){for(var Jt=-1,ar=Nt==null?0:Nt.length;++Jt<ar&&gn(Nt[Jt],Jt,Nt)!==!1;);return Nt}function xy(Nt,gn){for(var Jt=Nt==null?0:Nt.length;Jt--&&gn(Nt[Jt],Jt,Nt)!==!1;);return Nt}function Rp(Nt,gn){for(var Jt=-1,ar=Nt==null?0:Nt.length;++Jt<ar;)if(!gn(Nt[Jt],Jt,Nt))return!1;return!0}function wo(Nt,gn){for(var Jt=-1,ar=Nt==null?0:Nt.length,Tr=0,Br=[];++Jt<ar;){var ri=Nt[Jt];gn(ri,Jt,Nt)&&(Br[Tr++]=ri)}return Br}function $l(Nt,gn){var Jt=Nt==null?0:Nt.length;return!!Jt&&qu(Nt,gn,0)>-1}function Zh(Nt,gn,Jt){for(var ar=-1,Tr=Nt==null?0:Nt.length;++ar<Tr;)if(Jt(gn,Nt[ar]))return!0;return!1}function Yr(Nt,gn){for(var Jt=-1,ar=Nt==null?0:Nt.length,Tr=Array(ar);++Jt<ar;)Tr[Jt]=gn(Nt[Jt],Jt,Nt);return Tr}function Co(Nt,gn){for(var Jt=-1,ar=gn.length,Tr=Nt.length;++Jt<ar;)Nt[Tr+Jt]=gn[Jt];return Nt}function ef(Nt,gn,Jt,ar){var Tr=-1,Br=Nt==null?0:Nt.length;for(ar&&Br&&(Jt=Nt[++Tr]);++Tr<Br;)Jt=gn(Jt,Nt[Tr],Tr,Nt);return Jt}function Oy(Nt,gn,Jt,ar){var Tr=Nt==null?0:Nt.length;for(ar&&Tr&&(Jt=Nt[--Tr]);Tr--;)Jt=gn(Jt,Nt[Tr],Tr,Nt);return Jt}function tf(Nt,gn){for(var Jt=-1,ar=Nt==null?0:Nt.length;++Jt<ar;)if(gn(Nt[Jt],Jt,Nt))return!0;return!1}var Ny=nf("length");function $y(Nt){return Nt.split("")}function ky(Nt){return Nt.match(Vm)||[]}function xp(Nt,gn,Jt){var ar;return Jt(Nt,function(Tr,Br,ri){if(gn(Tr,Br,ri))return ar=Br,!1}),ar}function kl(Nt,gn,Jt,ar){for(var Tr=Nt.length,Br=Jt+(ar?1:-1);ar?Br--:++Br<Tr;)if(gn(Nt[Br],Br,Nt))return Br;return-1}function qu(Nt,gn,Jt){return gn===gn?Gy(Nt,gn,Jt):kl(Nt,Op,Jt)}function Ly(Nt,gn,Jt,ar){for(var Tr=Jt-1,Br=Nt.length;++Tr<Br;)if(ar(Nt[Tr],gn))return Tr;return-1}function Op(Nt){return Nt!==Nt}function Np(Nt,gn){var Jt=Nt==null?0:Nt.length;return Jt?sf(Nt,gn)/Jt:Js}function nf(Nt){return function(gn){return gn==null?r:gn[Nt]}}function rf(Nt){return function(gn){return Nt==null?r:Nt[gn]}}function $p(Nt,gn,Jt,ar,Tr){return Tr(Nt,function(Br,ri,Gr){Jt=ar?(ar=!1,Br):gn(Jt,Br,ri,Gr)}),Jt}function Dy(Nt,gn){var Jt=Nt.length;for(Nt.sort(gn);Jt--;)Nt[Jt]=Nt[Jt].value;return Nt}function sf(Nt,gn){for(var Jt,ar=-1,Tr=Nt.length;++ar<Tr;){var Br=gn(Nt[ar]);Br!==r&&(Jt=Jt===r?Br:Jt+Br)}return Jt}function of(Nt,gn){for(var Jt=-1,ar=Array(Nt);++Jt<Nt;)ar[Jt]=gn(Jt);return ar}function My(Nt,gn){return Yr(gn,function(Jt){return[Jt,Nt[Jt]]})}function kp(Nt){return Nt&&Nt.slice(0,Pp(Nt)+1).replace(Uh,"")}function Oi(Nt){return function(gn){return Nt(gn)}}function af(Nt,gn){return Yr(gn,function(Jt){return Nt[Jt]})}function ll(Nt,gn){return Nt.has(gn)}function Lp(Nt,gn){for(var Jt=-1,ar=Nt.length;++Jt<ar&&qu(gn,Nt[Jt],0)>-1;);return Jt}function Dp(Nt,gn){for(var Jt=Nt.length;Jt--&&qu(gn,Nt[Jt],0)>-1;);return Jt}function Py(Nt,gn){for(var Jt=Nt.length,ar=0;Jt--;)Nt[Jt]===gn&&++ar;return ar}var Fy=rf(Ey),By=rf(Ty);function Uy(Nt){return"\\"+Ay[Nt]}function Vy(Nt,gn){return Nt==null?r:Nt[gn]}function Ku(Nt){return yy.test(Nt)}function Hy(Nt){return vy.test(Nt)}function qy(Nt){for(var gn,Jt=[];!(gn=Nt.next()).done;)Jt.push(gn.value);return Jt}function uf(Nt){var gn=-1,Jt=Array(Nt.size);return Nt.forEach(function(ar,Tr){Jt[++gn]=[Tr,ar]}),Jt}function Mp(Nt,gn){return function(Jt){return Nt(gn(Jt))}}function xo(Nt,gn){for(var Jt=-1,ar=Nt.length,Tr=0,Br=[];++Jt<ar;){var ri=Nt[Jt];(ri===gn||ri===pe)&&(Nt[Jt]=pe,Br[Tr++]=Jt)}return Br}function Ll(Nt){var gn=-1,Jt=Array(Nt.size);return Nt.forEach(function(ar){Jt[++gn]=ar}),Jt}function Ky(Nt){var gn=-1,Jt=Array(Nt.size);return Nt.forEach(function(ar){Jt[++gn]=[ar,ar]}),Jt}function Gy(Nt,gn,Jt){for(var ar=Jt-1,Tr=Nt.length;++ar<Tr;)if(Nt[ar]===gn)return ar;return-1}function Wy(Nt,gn,Jt){for(var ar=Jt+1;ar--;)if(Nt[ar]===gn)return ar;return ar}function Gu(Nt){return Ku(Nt)?jy(Nt):Ny(Nt)}function Yi(Nt){return Ku(Nt)?Yy(Nt):$y(Nt)}function Pp(Nt){for(var gn=Nt.length;gn--&&Pm.test(Nt.charAt(gn)););return gn}var zy=rf(Iy);function jy(Nt){for(var gn=Yh.lastIndex=0;Yh.test(Nt);)++gn;return gn}function Yy(Nt){return Nt.match(Yh)||[]}function Qy(Nt){return Nt.match(my)||[]}var Xy=function Nt(gn){gn=gn==null?ui:Qu.defaults(ui.Object(),gn,Qu.pick(ui,_y));var Jt=gn.Array,ar=gn.Date,Tr=gn.Error,Br=gn.Function,ri=gn.Math,Gr=gn.Object,cf=gn.RegExp,Jy=gn.String,Ui=gn.TypeError,Dl=Jt.prototype,Zy=Br.prototype,el=Gr.prototype,Ml=gn["__core-js_shared__"],Pl=Zy.toString,qr=el.hasOwnProperty,ev=0,Fp=function(){var s=/[^.]+$/.exec(Ml&&Ml.keys&&Ml.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Fl=el.toString,tv=Pl.call(Gr),nv=ui._,rv=cf("^"+Pl.call(qr).replace(Bh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bl=Ep?gn.Buffer:r,Oo=gn.Symbol,Ul=gn.Uint8Array,Bp=Bl?Bl.allocUnsafe:r,Vl=Mp(Gr.getPrototypeOf,Gr),Up=Gr.create,Vp=el.propertyIsEnumerable,Hl=Dl.splice,Hp=Oo?Oo.isConcatSpreadable:r,hl=Oo?Oo.iterator:r,Qo=Oo?Oo.toStringTag:r,ql=function(){try{var s=vu(Gr,"defineProperty");return s({},"",{}),s}catch{}}(),iv=gn.clearTimeout!==ui.clearTimeout&&gn.clearTimeout,sv=ar&&ar.now!==ui.Date.now&&ar.now,ov=gn.setTimeout!==ui.setTimeout&&gn.setTimeout,Kl=ri.ceil,Gl=ri.floor,lf=Gr.getOwnPropertySymbols,av=Bl?Bl.isBuffer:r,qp=gn.isFinite,uv=Dl.join,cv=Mp(Gr.keys,Gr),ii=ri.max,fi=ri.min,lv=ar.now,hv=gn.parseInt,Kp=ri.random,fv=Dl.reverse,hf=vu(gn,"DataView"),dl=vu(gn,"Map"),ff=vu(gn,"Promise"),tl=vu(gn,"Set"),pl=vu(gn,"WeakMap"),gl=vu(Gr,"create"),Wl=pl&&new pl,rl={},dv=wu(hf),pv=wu(dl),gv=wu(ff),mv=wu(tl),yv=wu(pl),zl=Oo?Oo.prototype:r,ml=zl?zl.valueOf:r,Gp=zl?zl.toString:r;function oe(s){if(Jr(s)&&!Ir(s)&&!(s instanceof kr)){if(s instanceof Vi)return s;if(qr.call(s,"__wrapped__"))return Wg(s)}return new Vi(s)}var il=function(){function s(){}return function(h){if(!Qr(h))return{};if(Up)return Up(h);s.prototype=h;var g=new s;return s.prototype=r,g}}();function jl(){}function Vi(s,h){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=r}oe.templateSettings={escape:Nm,evaluate:$m,interpolate:ep,variable:"",imports:{_:oe}},oe.prototype=jl.prototype,oe.prototype.constructor=oe,Vi.prototype=il(jl.prototype),Vi.prototype.constructor=Vi;function kr(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=hi,this.__views__=[]}function vv(){var s=new kr(this.__wrapped__);return s.__actions__=Ti(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Ti(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Ti(this.__views__),s}function _v(){if(this.__filtered__){var s=new kr(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function wv(){var s=this.__wrapped__.value(),h=this.__dir__,g=Ir(s),ee=h<0,se=g?s.length:0,ue=$0(0,se,this.__views__),Ie=ue.start,ut=ue.end,kt=ut-Ie,yn=ee?ut:Ie-1,wn=this.__iteratees__,On=wn.length,ir=0,fr=fi(kt,this.__takeCount__);if(!g||!ee&&se==kt&&fr==kt)return gg(s,this.__actions__);var vr=[];e:for(;kt--&&ir<fr;){yn+=h;for(var Rr=-1,_r=s[yn];++Rr<On;){var Nr=wn[Rr],Lr=Nr.iteratee,Di=Nr.type,wi=Lr(_r);if(Di==Xs)_r=wi;else if(!wi){if(Di==Si)continue e;break e}}vr[ir++]=_r}return vr}kr.prototype=il(jl.prototype),kr.prototype.constructor=kr;function pu(s){var h=-1,g=s==null?0:s.length;for(this.clear();++h<g;){var ee=s[h];this.set(ee[0],ee[1])}}function Ev(){this.__data__=gl?gl(null):{},this.size=0}function Tv(s){var h=this.has(s)&&delete this.__data__[s];return this.size-=h?1:0,h}function Iv(s){var h=this.__data__;if(gl){var g=h[s];return g===re?r:g}return qr.call(h,s)?h[s]:r}function Av(s){var h=this.__data__;return gl?h[s]!==r:qr.call(h,s)}function bv(s,h){var g=this.__data__;return this.size+=this.has(s)?0:1,g[s]=gl&&h===r?re:h,this}pu.prototype.clear=Ev,pu.prototype.delete=Tv,pu.prototype.get=Iv,pu.prototype.has=Av,pu.prototype.set=bv;function Ps(s){var h=-1,g=s==null?0:s.length;for(this.clear();++h<g;){var ee=s[h];this.set(ee[0],ee[1])}}function Cv(){this.__data__=[],this.size=0}function Sv(s){var h=this.__data__,g=Yl(h,s);if(g<0)return!1;var ee=h.length-1;return g==ee?h.pop():Hl.call(h,g,1),--this.size,!0}function Rv(s){var h=this.__data__,g=Yl(h,s);return g<0?r:h[g][1]}function xv(s){return Yl(this.__data__,s)>-1}function Ov(s,h){var g=this.__data__,ee=Yl(g,s);return ee<0?(++this.size,g.push([s,h])):g[ee][1]=h,this}Ps.prototype.clear=Cv,Ps.prototype.delete=Sv,Ps.prototype.get=Rv,Ps.prototype.has=xv,Ps.prototype.set=Ov;function Vs(s){var h=-1,g=s==null?0:s.length;for(this.clear();++h<g;){var ee=s[h];this.set(ee[0],ee[1])}}function Nv(){this.size=0,this.__data__={hash:new pu,map:new(dl||Ps),string:new pu}}function $v(s){var h=ch(this,s).delete(s);return this.size-=h?1:0,h}function kv(s){return ch(this,s).get(s)}function Lv(s){return ch(this,s).has(s)}function Dv(s,h){var g=ch(this,s),ee=g.size;return g.set(s,h),this.size+=g.size==ee?0:1,this}Vs.prototype.clear=Nv,Vs.prototype.delete=$v,Vs.prototype.get=kv,Vs.prototype.has=Lv,Vs.prototype.set=Dv;function gu(s){var h=-1,g=s==null?0:s.length;for(this.__data__=new Vs;++h<g;)this.add(s[h])}function Mv(s){return this.__data__.set(s,re),this}function Pv(s){return this.__data__.has(s)}gu.prototype.add=gu.prototype.push=Mv,gu.prototype.has=Pv;function Qi(s){var h=this.__data__=new Ps(s);this.size=h.size}function Fv(){this.__data__=new Ps,this.size=0}function Bv(s){var h=this.__data__,g=h.delete(s);return this.size=h.size,g}function Uv(s){return this.__data__.get(s)}function Vv(s){return this.__data__.has(s)}function Hv(s,h){var g=this.__data__;if(g instanceof Ps){var ee=g.__data__;if(!dl||ee.length<o-1)return ee.push([s,h]),this.size=++g.size,this;g=this.__data__=new Vs(ee)}return g.set(s,h),this.size=g.size,this}Qi.prototype.clear=Fv,Qi.prototype.delete=Bv,Qi.prototype.get=Uv,Qi.prototype.has=Vv,Qi.prototype.set=Hv;function Wp(s,h){var g=Ir(s),ee=!g&&Eu(s),se=!g&&!ee&&Mo(s),ue=!g&&!ee&&!se&&ul(s),Ie=g||ee||se||ue,ut=Ie?of(s.length,Jy):[],kt=ut.length;for(var yn in s)(h||qr.call(s,yn))&&!(Ie&&(yn=="length"||se&&(yn=="offset"||yn=="parent")||ue&&(yn=="buffer"||yn=="byteLength"||yn=="byteOffset")||zs(yn,kt)))&&ut.push(yn);return ut}function zp(s){var h=s.length;return h?s[Af(0,h-1)]:r}function qv(s,h){return hh(Ti(s),mu(h,0,s.length))}function Kv(s){return hh(Ti(s))}function df(s,h,g){(g!==r&&!Xi(s[h],g)||g===r&&!(h in s))&&Hs(s,h,g)}function yl(s,h,g){var ee=s[h];(!(qr.call(s,h)&&Xi(ee,g))||g===r&&!(h in s))&&Hs(s,h,g)}function Yl(s,h){for(var g=s.length;g--;)if(Xi(s[g][0],h))return g;return-1}function Gv(s,h,g,ee){return No(s,function(se,ue,Ie){h(ee,se,g(se),Ie)}),ee}function jp(s,h){return s&&Cs(h,oi(h),s)}function Wv(s,h){return s&&Cs(h,Ai(h),s)}function Hs(s,h,g){h=="__proto__"&&ql?ql(s,h,{configurable:!0,enumerable:!0,value:g,writable:!0}):s[h]=g}function pf(s,h){for(var g=-1,ee=h.length,se=Jt(ee),ue=s==null;++g<ee;)se[g]=ue?r:Yf(s,h[g]);return se}function mu(s,h,g){return s===s&&(g!==r&&(s=s<=g?s:g),h!==r&&(s=s>=h?s:h)),s}function Hi(s,h,g,ee,se,ue){var Ie,ut=h&ye,kt=h&yt,yn=h&Yt;if(g&&(Ie=se?g(s,ee,se,ue):g(s)),Ie!==r)return Ie;if(!Qr(s))return s;var wn=Ir(s);if(wn){if(Ie=L0(s),!ut)return Ti(s,Ie)}else{var On=di(s),ir=On==_o||On==et;if(Mo(s))return vg(s,ut);if(On==An||On==ro||ir&&!se){if(Ie=kt||ir?{}:Pg(s),!ut)return kt?I0(s,Wv(Ie,s)):T0(s,jp(Ie,s))}else{if(!Wr[On])return se?s:{};Ie=D0(s,On,ut)}}ue||(ue=new Qi);var fr=ue.get(s);if(fr)return fr;ue.set(s,Ie),fm(s)?s.forEach(function(_r){Ie.add(Hi(_r,h,g,_r,s,ue))}):lm(s)&&s.forEach(function(_r,Nr){Ie.set(Nr,Hi(_r,h,g,Nr,s,ue))});var vr=yn?kt?Df:Lf:kt?Ai:oi,Rr=wn?r:vr(s);return Bi(Rr||s,function(_r,Nr){Rr&&(Nr=_r,_r=s[Nr]),yl(Ie,Nr,Hi(_r,h,g,Nr,s,ue))}),Ie}function zv(s){var h=oi(s);return function(g){return Yp(g,s,h)}}function Yp(s,h,g){var ee=g.length;if(s==null)return!ee;for(s=Gr(s);ee--;){var se=g[ee],ue=h[se],Ie=s[se];if(Ie===r&&!(se in s)||!ue(Ie))return!1}return!0}function Qp(s,h,g){if(typeof s!="function")throw new Ui(m);return bl(function(){s.apply(r,g)},h)}function vl(s,h,g,ee){var se=-1,ue=$l,Ie=!0,ut=s.length,kt=[],yn=h.length;if(!ut)return kt;g&&(h=Yr(h,Oi(g))),ee?(ue=Zh,Ie=!1):h.length>=o&&(ue=ll,Ie=!1,h=new gu(h));e:for(;++se<ut;){var wn=s[se],On=g==null?wn:g(wn);if(wn=ee||wn!==0?wn:0,Ie&&On===On){for(var ir=yn;ir--;)if(h[ir]===On)continue e;kt.push(wn)}else ue(h,On,ee)||kt.push(wn)}return kt}var No=Ig(bs),Xp=Ig(mf,!0);function jv(s,h){var g=!0;return No(s,function(ee,se,ue){return g=!!h(ee,se,ue),g}),g}function Ql(s,h,g){for(var ee=-1,se=s.length;++ee<se;){var ue=s[ee],Ie=h(ue);if(Ie!=null&&(ut===r?Ie===Ie&&!Li(Ie):g(Ie,ut)))var ut=Ie,kt=ue}return kt}function Yv(s,h,g,ee){var se=s.length;for(g=Ar(g),g<0&&(g=-g>se?0:se+g),ee=ee===r||ee>se?se:Ar(ee),ee<0&&(ee+=se),ee=g>ee?0:pm(ee);g<ee;)s[g++]=h;return s}function Jp(s,h){var g=[];return No(s,function(ee,se,ue){h(ee,se,ue)&&g.push(ee)}),g}function ci(s,h,g,ee,se){var ue=-1,Ie=s.length;for(g||(g=P0),se||(se=[]);++ue<Ie;){var ut=s[ue];h>0&&g(ut)?h>1?ci(ut,h-1,g,ee,se):Co(se,ut):ee||(se[se.length]=ut)}return se}var gf=Ag(),Zp=Ag(!0);function bs(s,h){return s&&gf(s,h,oi)}function mf(s,h){return s&&Zp(s,h,oi)}function Xl(s,h){return wo(h,function(g){return js(s[g])})}function yu(s,h){h=ko(h,s);for(var g=0,ee=h.length;s!=null&&g<ee;)s=s[Ss(h[g++])];return g&&g==ee?s:r}function eg(s,h,g){var ee=h(s);return Ir(s)?ee:Co(ee,g(s))}function vi(s){return s==null?s===r?ur:Gn:Qo&&Qo in Gr(s)?N0(s):K0(s)}function yf(s,h){return s>h}function Qv(s,h){return s!=null&&qr.call(s,h)}function Xv(s,h){return s!=null&&h in Gr(s)}function Jv(s,h,g){return s>=fi(h,g)&&s<ii(h,g)}function vf(s,h,g){for(var ee=g?Zh:$l,se=s[0].length,ue=s.length,Ie=ue,ut=Jt(ue),kt=1/0,yn=[];Ie--;){var wn=s[Ie];Ie&&h&&(wn=Yr(wn,Oi(h))),kt=fi(wn.length,kt),ut[Ie]=!g&&(h||se>=120&&wn.length>=120)?new gu(Ie&&wn):r}wn=s[0];var On=-1,ir=ut[0];e:for(;++On<se&&yn.length<kt;){var fr=wn[On],vr=h?h(fr):fr;if(fr=g||fr!==0?fr:0,!(ir?ll(ir,vr):ee(yn,vr,g))){for(Ie=ue;--Ie;){var Rr=ut[Ie];if(!(Rr?ll(Rr,vr):ee(s[Ie],vr,g)))continue e}ir&&ir.push(vr),yn.push(fr)}}return yn}function Zv(s,h,g,ee){return bs(s,function(se,ue,Ie){h(ee,g(se),ue,Ie)}),ee}function _l(s,h,g){h=ko(h,s),s=Vg(s,h);var ee=s==null?s:s[Ss(Ki(h))];return ee==null?r:xi(ee,s,g)}function tg(s){return Jr(s)&&vi(s)==ro}function e0(s){return Jr(s)&&vi(s)==xr}function t0(s){return Jr(s)&&vi(s)==co}function El(s,h,g,ee,se){return s===h?!0:s==null||h==null||!Jr(s)&&!Jr(h)?s!==s&&h!==h:n0(s,h,g,ee,El,se)}function n0(s,h,g,ee,se,ue){var Ie=Ir(s),ut=Ir(h),kt=Ie?Tu:di(s),yn=ut?Tu:di(h);kt=kt==ro?An:kt,yn=yn==ro?An:yn;var wn=kt==An,On=yn==An,ir=kt==yn;if(ir&&Mo(s)){if(!Mo(h))return!1;Ie=!0,wn=!1}if(ir&&!wn)return ue||(ue=new Qi),Ie||ul(s)?Lg(s,h,g,ee,se,ue):x0(s,h,kt,g,ee,se,ue);if(!(g&Xt)){var fr=wn&&qr.call(s,"__wrapped__"),vr=On&&qr.call(h,"__wrapped__");if(fr||vr){var Rr=fr?s.value():s,_r=vr?h.value():h;return ue||(ue=new Qi),se(Rr,_r,g,ee,ue)}}return ir?(ue||(ue=new Qi),O0(s,h,g,ee,se,ue)):!1}function r0(s){return Jr(s)&&di(s)==gt}function wf(s,h,g,ee){var se=g.length,ue=se,Ie=!ee;if(s==null)return!ue;for(s=Gr(s);se--;){var ut=g[se];if(Ie&&ut[2]?ut[1]!==s[ut[0]]:!(ut[0]in s))return!1}for(;++se<ue;){ut=g[se];var kt=ut[0],yn=s[kt],wn=ut[1];if(Ie&&ut[2]){if(yn===r&&!(kt in s))return!1}else{var On=new Qi;if(ee)var ir=ee(yn,wn,kt,s,h,On);if(!(ir===r?El(wn,yn,Xt|Cn,ee,On):ir))return!1}}return!0}function ng(s){if(!Qr(s)||B0(s))return!1;var h=js(s)?rv:zm;return h.test(wu(s))}function i0(s){return Jr(s)&&vi(s)==tr}function s0(s){return Jr(s)&&di(s)==er}function o0(s){return Jr(s)&&Lh(s.length)&&!!jr[vi(s)]}function rg(s){return typeof s=="function"?s:s==null?bi:typeof s=="object"?Ir(s)?og(s[0],s[1]):sg(s):bm(s)}function Ef(s){if(!Al(s))return cv(s);var h=[];for(var g in Gr(s))qr.call(s,g)&&g!="constructor"&&h.push(g);return h}function a0(s){if(!Qr(s))return q0(s);var h=Al(s),g=[];for(var ee in s)ee=="constructor"&&(h||!qr.call(s,ee))||g.push(ee);return g}function Tf(s,h){return s<h}function ig(s,h){var g=-1,ee=Ii(s)?Jt(s.length):[];return No(s,function(se,ue,Ie){ee[++g]=h(se,ue,Ie)}),ee}function sg(s){var h=Pf(s);return h.length==1&&h[0][2]?Bg(h[0][0],h[0][1]):function(g){return g===s||wf(g,s,h)}}function og(s,h){return Bf(s)&&Fg(h)?Bg(Ss(s),h):function(g){var ee=Yf(g,s);return ee===r&&ee===h?Qf(g,s):El(h,ee,Xt|Cn)}}function Jl(s,h,g,ee,se){s!==h&&gf(h,function(ue,Ie){if(se||(se=new Qi),Qr(ue))u0(s,h,Ie,g,Jl,ee,se);else{var ut=ee?ee(Vf(s,Ie),ue,Ie+"",s,h,se):r;ut===r&&(ut=ue),df(s,Ie,ut)}},Ai)}function u0(s,h,g,ee,se,ue,Ie){var ut=Vf(s,g),kt=Vf(h,g),yn=Ie.get(kt);if(yn){df(s,g,yn);return}var wn=ue?ue(ut,kt,g+"",s,h,Ie):r,On=wn===r;if(On){var ir=Ir(kt),fr=!ir&&Mo(kt),vr=!ir&&!fr&&ul(kt);wn=kt,ir||fr||vr?Ir(ut)?wn=ut:ei(ut)?wn=Ti(ut):fr?(On=!1,wn=vg(kt,!0)):vr?(On=!1,wn=_g(kt,!0)):wn=[]:Cl(kt)||Eu(kt)?(wn=ut,Eu(ut)?wn=gm(ut):(!Qr(ut)||js(ut))&&(wn=Pg(kt))):On=!1}On&&(Ie.set(kt,wn),se(wn,kt,ee,ue,Ie),Ie.delete(kt)),df(s,g,wn)}function ag(s,h){var g=s.length;if(!!g)return h+=h<0?g:0,zs(h,g)?s[h]:r}function ug(s,h,g){h.length?h=Yr(h,function(ue){return Ir(ue)?function(Ie){return yu(Ie,ue.length===1?ue[0]:ue)}:ue}):h=[bi];var ee=-1;h=Yr(h,Oi(yr()));var se=ig(s,function(ue,Ie,ut){var kt=Yr(h,function(yn){return yn(ue)});return{criteria:kt,index:++ee,value:ue}});return Dy(se,function(ue,Ie){return E0(ue,Ie,g)})}function c0(s,h){return cg(s,h,function(g,ee){return Qf(s,ee)})}function cg(s,h,g){for(var ee=-1,se=h.length,ue={};++ee<se;){var Ie=h[ee],ut=yu(s,Ie);g(ut,Ie)&&Tl(ue,ko(Ie,s),ut)}return ue}function l0(s){return function(h){return yu(h,s)}}function If(s,h,g,ee){var se=ee?Ly:qu,ue=-1,Ie=h.length,ut=s;for(s===h&&(h=Ti(h)),g&&(ut=Yr(s,Oi(g)));++ue<Ie;)for(var kt=0,yn=h[ue],wn=g?g(yn):yn;(kt=se(ut,wn,kt,ee))>-1;)ut!==s&&Hl.call(ut,kt,1),Hl.call(s,kt,1);return s}function lg(s,h){for(var g=s?h.length:0,ee=g-1;g--;){var se=h[g];if(g==ee||se!==ue){var ue=se;zs(se)?Hl.call(s,se,1):Sf(s,se)}}return s}function Af(s,h){return s+Gl(Kp()*(h-s+1))}function h0(s,h,g,ee){for(var se=-1,ue=ii(Kl((h-s)/(g||1)),0),Ie=Jt(ue);ue--;)Ie[ee?ue:++se]=s,s+=g;return Ie}function bf(s,h){var g="";if(!s||h<1||h>Dr)return g;do h%2&&(g+=s),h=Gl(h/2),h&&(s+=s);while(h);return g}function Or(s,h){return Hf(Ug(s,h,bi),s+"")}function f0(s){return zp(cl(s))}function d0(s,h){var g=cl(s);return hh(g,mu(h,0,g.length))}function Tl(s,h,g,ee){if(!Qr(s))return s;h=ko(h,s);for(var se=-1,ue=h.length,Ie=ue-1,ut=s;ut!=null&&++se<ue;){var kt=Ss(h[se]),yn=g;if(kt==="__proto__"||kt==="constructor"||kt==="prototype")return s;if(se!=Ie){var wn=ut[kt];yn=ee?ee(wn,kt,ut):r,yn===r&&(yn=Qr(wn)?wn:zs(h[se+1])?[]:{})}yl(ut,kt,yn),ut=ut[kt]}return s}var hg=Wl?function(s,h){return Wl.set(s,h),s}:bi,p0=ql?function(s,h){return ql(s,"toString",{configurable:!0,enumerable:!1,value:Jf(h),writable:!0})}:bi;function g0(s){return hh(cl(s))}function qi(s,h,g){var ee=-1,se=s.length;h<0&&(h=-h>se?0:se+h),g=g>se?se:g,g<0&&(g+=se),se=h>g?0:g-h>>>0,h>>>=0;for(var ue=Jt(se);++ee<se;)ue[ee]=s[ee+h];return ue}function m0(s,h){var g;return No(s,function(ee,se,ue){return g=h(ee,se,ue),!g}),!!g}function Zl(s,h,g){var ee=0,se=s==null?ee:s.length;if(typeof h=="number"&&h===h&&se<=Zi){for(;ee<se;){var ue=ee+se>>>1,Ie=s[ue];Ie!==null&&!Li(Ie)&&(g?Ie<=h:Ie<h)?ee=ue+1:se=ue}return se}return Cf(s,h,bi,g)}function Cf(s,h,g,ee){var se=0,ue=s==null?0:s.length;if(ue===0)return 0;h=g(h);for(var Ie=h!==h,ut=h===null,kt=Li(h),yn=h===r;se<ue;){var wn=Gl((se+ue)/2),On=g(s[wn]),ir=On!==r,fr=On===null,vr=On===On,Rr=Li(On);if(Ie)var _r=ee||vr;else yn?_r=vr&&(ee||ir):ut?_r=vr&&ir&&(ee||!fr):kt?_r=vr&&ir&&!fr&&(ee||!Rr):fr||Rr?_r=!1:_r=ee?On<=h:On<h;_r?se=wn+1:ue=wn}return fi(ue,Zs)}function fg(s,h){for(var g=-1,ee=s.length,se=0,ue=[];++g<ee;){var Ie=s[g],ut=h?h(Ie):Ie;if(!g||!Xi(ut,kt)){var kt=ut;ue[se++]=Ie===0?0:Ie}}return ue}function dg(s){return typeof s=="number"?s:Li(s)?Js:+s}function $i(s){if(typeof s=="string")return s;if(Ir(s))return Yr(s,$i)+"";if(Li(s))return Gp?Gp.call(s):"";var h=s+"";return h=="0"&&1/s==-Ur?"-0":h}function $o(s,h,g){var ee=-1,se=$l,ue=s.length,Ie=!0,ut=[],kt=ut;if(g)Ie=!1,se=Zh;else if(ue>=o){var yn=h?null:S0(s);if(yn)return Ll(yn);Ie=!1,se=ll,kt=new gu}else kt=h?[]:ut;e:for(;++ee<ue;){var wn=s[ee],On=h?h(wn):wn;if(wn=g||wn!==0?wn:0,Ie&&On===On){for(var ir=kt.length;ir--;)if(kt[ir]===On)continue e;h&&kt.push(On),ut.push(wn)}else se(kt,On,g)||(kt!==ut&&kt.push(On),ut.push(wn))}return ut}function Sf(s,h){return h=ko(h,s),s=Vg(s,h),s==null||delete s[Ss(Ki(h))]}function pg(s,h,g,ee){return Tl(s,h,g(yu(s,h)),ee)}function nh(s,h,g,ee){for(var se=s.length,ue=ee?se:-1;(ee?ue--:++ue<se)&&h(s[ue],ue,s););return g?qi(s,ee?0:ue,ee?ue+1:se):qi(s,ee?ue+1:0,ee?se:ue)}function gg(s,h){var g=s;return g instanceof kr&&(g=g.value()),ef(h,function(ee,se){return se.func.apply(se.thisArg,Co([ee],se.args))},g)}function Rf(s,h,g){var ee=s.length;if(ee<2)return ee?$o(s[0]):[];for(var se=-1,ue=Jt(ee);++se<ee;)for(var Ie=s[se],ut=-1;++ut<ee;)ut!=se&&(ue[se]=vl(ue[se]||Ie,s[ut],h,g));return $o(ci(ue,1),h,g)}function mg(s,h,g){for(var ee=-1,se=s.length,ue=h.length,Ie={};++ee<se;){var ut=ee<ue?h[ee]:r;g(Ie,s[ee],ut)}return Ie}function xf(s){return ei(s)?s:[]}function Of(s){return typeof s=="function"?s:bi}function ko(s,h){return Ir(s)?s:Bf(s,h)?[s]:Gg(Vr(s))}var y0=Or;function Do(s,h,g){var ee=s.length;return g=g===r?ee:g,!h&&g>=ee?s:qi(s,h,g)}var yg=iv||function(s){return ui.clearTimeout(s)};function vg(s,h){if(h)return s.slice();var g=s.length,ee=Bp?Bp(g):new s.constructor(g);return s.copy(ee),ee}function Nf(s){var h=new s.constructor(s.byteLength);return new Ul(h).set(new Ul(s)),h}function v0(s,h){var g=h?Nf(s.buffer):s.buffer;return new s.constructor(g,s.byteOffset,s.byteLength)}function _0(s){var h=new s.constructor(s.source,tp.exec(s));return h.lastIndex=s.lastIndex,h}function w0(s){return ml?Gr(ml.call(s)):{}}function _g(s,h){var g=h?Nf(s.buffer):s.buffer;return new s.constructor(g,s.byteOffset,s.length)}function wg(s,h){if(s!==h){var g=s!==r,ee=s===null,se=s===s,ue=Li(s),Ie=h!==r,ut=h===null,kt=h===h,yn=Li(h);if(!ut&&!yn&&!ue&&s>h||ue&&Ie&&kt&&!ut&&!yn||ee&&Ie&&kt||!g&&kt||!se)return 1;if(!ee&&!ue&&!yn&&s<h||yn&&g&&se&&!ee&&!ue||ut&&g&&se||!Ie&&se||!kt)return-1}return 0}function E0(s,h,g){for(var ee=-1,se=s.criteria,ue=h.criteria,Ie=se.length,ut=g.length;++ee<Ie;){var kt=wg(se[ee],ue[ee]);if(kt){if(ee>=ut)return kt;var yn=g[ee];return kt*(yn=="desc"?-1:1)}}return s.index-h.index}function Eg(s,h,g,ee){for(var se=-1,ue=s.length,Ie=g.length,ut=-1,kt=h.length,yn=ii(ue-Ie,0),wn=Jt(kt+yn),On=!ee;++ut<kt;)wn[ut]=h[ut];for(;++se<Ie;)(On||se<ue)&&(wn[g[se]]=s[se]);for(;yn--;)wn[ut++]=s[se++];return wn}function Tg(s,h,g,ee){for(var se=-1,ue=s.length,Ie=-1,ut=g.length,kt=-1,yn=h.length,wn=ii(ue-ut,0),On=Jt(wn+yn),ir=!ee;++se<wn;)On[se]=s[se];for(var fr=se;++kt<yn;)On[fr+kt]=h[kt];for(;++Ie<ut;)(ir||se<ue)&&(On[fr+g[Ie]]=s[se++]);return On}function Ti(s,h){var g=-1,ee=s.length;for(h||(h=Jt(ee));++g<ee;)h[g]=s[g];return h}function Cs(s,h,g,ee){var se=!g;g||(g={});for(var ue=-1,Ie=h.length;++ue<Ie;){var ut=h[ue],kt=ee?ee(g[ut],s[ut],ut,g,s):r;kt===r&&(kt=s[ut]),se?Hs(g,ut,kt):yl(g,ut,kt)}return g}function T0(s,h){return Cs(s,Ff(s),h)}function I0(s,h){return Cs(s,Dg(s),h)}function rh(s,h){return function(g,ee){var se=Ir(g)?Ry:Gv,ue=h?h():{};return se(g,s,yr(ee,2),ue)}}function sl(s){return Or(function(h,g){var ee=-1,se=g.length,ue=se>1?g[se-1]:r,Ie=se>2?g[2]:r;for(ue=s.length>3&&typeof ue=="function"?(se--,ue):r,Ie&&_i(g[0],g[1],Ie)&&(ue=se<3?r:ue,se=1),h=Gr(h);++ee<se;){var ut=g[ee];ut&&s(h,ut,ee,ue)}return h})}function Ig(s,h){return function(g,ee){if(g==null)return g;if(!Ii(g))return s(g,ee);for(var se=g.length,ue=h?se:-1,Ie=Gr(g);(h?ue--:++ue<se)&&ee(Ie[ue],ue,Ie)!==!1;);return g}}function Ag(s){return function(h,g,ee){for(var se=-1,ue=Gr(h),Ie=ee(h),ut=Ie.length;ut--;){var kt=Ie[s?ut:++se];if(g(ue[kt],kt,ue)===!1)break}return h}}function A0(s,h,g){var ee=h&xn,se=Il(s);function ue(){var Ie=this&&this!==ui&&this instanceof ue?se:s;return Ie.apply(ee?g:this,arguments)}return ue}function bg(s){return function(h){h=Vr(h);var g=Ku(h)?Yi(h):r,ee=g?g[0]:h.charAt(0),se=g?Do(g,1).join(""):h.slice(1);return ee[s]()+se}}function ol(s){return function(h){return ef(Im(Tm(h).replace(py,"")),s,"")}}function Il(s){return function(){var h=arguments;switch(h.length){case 0:return new s;case 1:return new s(h[0]);case 2:return new s(h[0],h[1]);case 3:return new s(h[0],h[1],h[2]);case 4:return new s(h[0],h[1],h[2],h[3]);case 5:return new s(h[0],h[1],h[2],h[3],h[4]);case 6:return new s(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new s(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var g=il(s.prototype),ee=s.apply(g,h);return Qr(ee)?ee:g}}function b0(s,h,g){var ee=Il(s);function se(){for(var ue=arguments.length,Ie=Jt(ue),ut=ue,kt=al(se);ut--;)Ie[ut]=arguments[ut];var yn=ue<3&&Ie[0]!==kt&&Ie[ue-1]!==kt?[]:xo(Ie,kt);if(ue-=yn.length,ue<g)return Og(s,h,ih,se.placeholder,r,Ie,yn,r,r,g-ue);var wn=this&&this!==ui&&this instanceof se?ee:s;return xi(wn,this,Ie)}return se}function Cg(s){return function(h,g,ee){var se=Gr(h);if(!Ii(h)){var ue=yr(g,3);h=oi(h),g=function(ut){return ue(se[ut],ut,se)}}var Ie=s(h,g,ee);return Ie>-1?se[ue?h[Ie]:Ie]:r}}function Sg(s){return Ws(function(h){var g=h.length,ee=g,se=Vi.prototype.thru;for(s&&h.reverse();ee--;){var ue=h[ee];if(typeof ue!="function")throw new Ui(m);if(se&&!Ie&&uh(ue)=="wrapper")var Ie=new Vi([],!0)}for(ee=Ie?ee:g;++ee<g;){ue=h[ee];var ut=uh(ue),kt=ut=="wrapper"?Mf(ue):r;kt&&Uf(kt[0])&&kt[1]==(wr|sr|Sr|zr)&&!kt[4].length&&kt[9]==1?Ie=Ie[uh(kt[0])].apply(Ie,kt[3]):Ie=ue.length==1&&Uf(ue)?Ie[ut]():Ie.thru(ue)}return function(){var yn=arguments,wn=yn[0];if(Ie&&yn.length==1&&Ir(wn))return Ie.plant(wn).value();for(var On=0,ir=g?h[On].apply(this,yn):wn;++On<g;)ir=h[On].call(this,ir);return ir}})}function ih(s,h,g,ee,se,ue,Ie,ut,kt,yn){var wn=h&wr,On=h&xn,ir=h&rr,fr=h&(sr|mr),vr=h&Kr,Rr=ir?r:Il(s);function _r(){for(var Nr=arguments.length,Lr=Jt(Nr),Di=Nr;Di--;)Lr[Di]=arguments[Di];if(fr)var wi=al(_r),Pi=Py(Lr,wi);if(ee&&(Lr=Eg(Lr,ee,se,fr)),ue&&(Lr=Tg(Lr,ue,Ie,fr)),Nr-=Pi,fr&&Nr<yn){var ti=xo(Lr,wi);return Og(s,h,ih,_r.placeholder,g,Lr,ti,ut,kt,yn-Nr)}var Ji=On?g:this,Qs=ir?Ji[s]:s;return Nr=Lr.length,ut?Lr=G0(Lr,ut):vr&&Nr>1&&Lr.reverse(),wn&&kt<Nr&&(Lr.length=kt),this&&this!==ui&&this instanceof _r&&(Qs=Rr||Il(Qs)),Qs.apply(Ji,Lr)}return _r}function Rg(s,h){return function(g,ee){return Zv(g,s,h(ee),{})}}function sh(s,h){return function(g,ee){var se;if(g===r&&ee===r)return h;if(g!==r&&(se=g),ee!==r){if(se===r)return ee;typeof g=="string"||typeof ee=="string"?(g=$i(g),ee=$i(ee)):(g=dg(g),ee=dg(ee)),se=s(g,ee)}return se}}function $f(s){return Ws(function(h){return h=Yr(h,Oi(yr())),Or(function(g){var ee=this;return s(h,function(se){return xi(se,ee,g)})})})}function oh(s,h){h=h===r?" ":$i(h);var g=h.length;if(g<2)return g?bf(h,s):h;var ee=bf(h,Kl(s/Gu(h)));return Ku(h)?Do(Yi(ee),0,s).join(""):ee.slice(0,s)}function C0(s,h,g,ee){var se=h&xn,ue=Il(s);function Ie(){for(var ut=-1,kt=arguments.length,yn=-1,wn=ee.length,On=Jt(wn+kt),ir=this&&this!==ui&&this instanceof Ie?ue:s;++yn<wn;)On[yn]=ee[yn];for(;kt--;)On[yn++]=arguments[++ut];return xi(ir,se?g:this,On)}return Ie}function xg(s){return function(h,g,ee){return ee&&typeof ee!="number"&&_i(h,g,ee)&&(g=ee=r),h=Ys(h),g===r?(g=h,h=0):g=Ys(g),ee=ee===r?h<g?1:-1:Ys(ee),h0(h,g,ee,s)}}function ah(s){return function(h,g){return typeof h=="string"&&typeof g=="string"||(h=Wi(h),g=Wi(g)),s(h,g)}}function Og(s,h,g,ee,se,ue,Ie,ut,kt,yn){var wn=h&sr,On=wn?Ie:r,ir=wn?r:Ie,fr=wn?ue:r,vr=wn?r:ue;h|=wn?Sr:Mr,h&=~(wn?Mr:Sr),h&lr||(h&=~(xn|rr));var Rr=[s,h,se,fr,On,vr,ir,ut,kt,yn],_r=g.apply(r,Rr);return Uf(s)&&Hg(_r,Rr),_r.placeholder=ee,qg(_r,s,h)}function kf(s){var h=ri[s];return function(g,ee){if(g=Wi(g),ee=ee==null?0:fi(Ar(ee),292),ee&&qp(g)){var se=(Vr(g)+"e").split("e"),ue=h(se[0]+"e"+(+se[1]+ee));return se=(Vr(ue)+"e").split("e"),+(se[0]+"e"+(+se[1]-ee))}return h(g)}}var S0=tl&&1/Ll(new tl([,-0]))[1]==Ur?function(s){return new tl(s)}:$d;function Ng(s){return function(h){var g=di(h);return g==gt?uf(h):g==er?Ky(h):My(h,s(h))}}function Ks(s,h,g,ee,se,ue,Ie,ut){var kt=h&rr;if(!kt&&typeof s!="function")throw new Ui(m);var yn=ee?ee.length:0;if(yn||(h&=~(Sr|Mr),ee=se=r),Ie=Ie===r?Ie:ii(Ar(Ie),0),ut=ut===r?ut:Ar(ut),yn-=se?se.length:0,h&Mr){var wn=ee,On=se;ee=se=r}var ir=kt?r:Mf(s),fr=[s,h,g,ee,se,wn,On,ue,Ie,ut];if(ir&&H0(fr,ir),s=fr[0],h=fr[1],g=fr[2],ee=fr[3],se=fr[4],ut=fr[9]=fr[9]===r?kt?0:s.length:ii(fr[9]-yn,0),!ut&&h&(sr|mr)&&(h&=~(sr|mr)),!h||h==xn)var vr=A0(s,h,g);else h==sr||h==mr?vr=b0(s,h,ut):(h==Sr||h==(xn|Sr))&&!se.length?vr=C0(s,h,g,ee):vr=ih.apply(r,fr);var Rr=ir?hg:Hg;return qg(Rr(vr,fr),s,h)}function $g(s,h,g,ee){return s===r||Xi(s,el[g])&&!qr.call(ee,g)?h:s}function kg(s,h,g,ee,se,ue){return Qr(s)&&Qr(h)&&(ue.set(h,s),Jl(s,h,r,kg,ue),ue.delete(h)),s}function R0(s){return Cl(s)?r:s}function Lg(s,h,g,ee,se,ue){var Ie=g&Xt,ut=s.length,kt=h.length;if(ut!=kt&&!(Ie&&kt>ut))return!1;var yn=ue.get(s),wn=ue.get(h);if(yn&&wn)return yn==h&&wn==s;var On=-1,ir=!0,fr=g&Cn?new gu:r;for(ue.set(s,h),ue.set(h,s);++On<ut;){var vr=s[On],Rr=h[On];if(ee)var _r=Ie?ee(Rr,vr,On,h,s,ue):ee(vr,Rr,On,s,h,ue);if(_r!==r){if(_r)continue;ir=!1;break}if(fr){if(!tf(h,function(Nr,Lr){if(!ll(fr,Lr)&&(vr===Nr||se(vr,Nr,g,ee,ue)))return fr.push(Lr)})){ir=!1;break}}else if(!(vr===Rr||se(vr,Rr,g,ee,ue))){ir=!1;break}}return ue.delete(s),ue.delete(h),ir}function x0(s,h,g,ee,se,ue,Ie){switch(g){case Pr:if(s.byteLength!=h.byteLength||s.byteOffset!=h.byteOffset)return!1;s=s.buffer,h=h.buffer;case xr:return!(s.byteLength!=h.byteLength||!ue(new Ul(s),new Ul(h)));case ps:case co:case Zt:return Xi(+s,+h);case yo:return s.name==h.name&&s.message==h.message;case tr:case Jn:return s==h+"";case gt:var ut=uf;case er:var kt=ee&Xt;if(ut||(ut=Ll),s.size!=h.size&&!kt)return!1;var yn=Ie.get(s);if(yn)return yn==h;ee|=Cn,Ie.set(s,h);var wn=Lg(ut(s),ut(h),ee,se,ue,Ie);return Ie.delete(s),wn;case pr:if(ml)return ml.call(s)==ml.call(h)}return!1}function O0(s,h,g,ee,se,ue){var Ie=g&Xt,ut=Lf(s),kt=ut.length,yn=Lf(h),wn=yn.length;if(kt!=wn&&!Ie)return!1;for(var On=kt;On--;){var ir=ut[On];if(!(Ie?ir in h:qr.call(h,ir)))return!1}var fr=ue.get(s),vr=ue.get(h);if(fr&&vr)return fr==h&&vr==s;var Rr=!0;ue.set(s,h),ue.set(h,s);for(var _r=Ie;++On<kt;){ir=ut[On];var Nr=s[ir],Lr=h[ir];if(ee)var Di=Ie?ee(Lr,Nr,ir,h,s,ue):ee(Nr,Lr,ir,s,h,ue);if(!(Di===r?Nr===Lr||se(Nr,Lr,g,ee,ue):Di)){Rr=!1;break}_r||(_r=ir=="constructor")}if(Rr&&!_r){var wi=s.constructor,Pi=h.constructor;wi!=Pi&&"constructor"in s&&"constructor"in h&&!(typeof wi=="function"&&wi instanceof wi&&typeof Pi=="function"&&Pi instanceof Pi)&&(Rr=!1)}return ue.delete(s),ue.delete(h),Rr}function Ws(s){return Hf(Ug(s,r,Yg),s+"")}function Lf(s){return eg(s,oi,Ff)}function Df(s){return eg(s,Ai,Dg)}var Mf=Wl?function(s){return Wl.get(s)}:$d;function uh(s){for(var h=s.name+"",g=rl[h],ee=qr.call(rl,h)?g.length:0;ee--;){var se=g[ee],ue=se.func;if(ue==null||ue==s)return se.name}return h}function al(s){var h=qr.call(oe,"placeholder")?oe:s;return h.placeholder}function yr(){var s=oe.iteratee||Zf;return s=s===Zf?rg:s,arguments.length?s(arguments[0],arguments[1]):s}function ch(s,h){var g=s.__data__;return F0(h)?g[typeof h=="string"?"string":"hash"]:g.map}function Pf(s){for(var h=oi(s),g=h.length;g--;){var ee=h[g],se=s[ee];h[g]=[ee,se,Fg(se)]}return h}function vu(s,h){var g=Vy(s,h);return ng(g)?g:r}function N0(s){var h=qr.call(s,Qo),g=s[Qo];try{s[Qo]=r;var ee=!0}catch{}var se=Fl.call(s);return ee&&(h?s[Qo]=g:delete s[Qo]),se}var Ff=lf?function(s){return s==null?[]:(s=Gr(s),wo(lf(s),function(h){return Vp.call(s,h)}))}:Wd,Dg=lf?function(s){for(var h=[];s;)Co(h,Ff(s)),s=Vl(s);return h}:Wd,di=vi;(hf&&di(new hf(new ArrayBuffer(1)))!=Pr||dl&&di(new dl)!=gt||ff&&di(ff.resolve())!=nr||tl&&di(new tl)!=er||pl&&di(new pl)!=dr)&&(di=function(s){var h=vi(s),g=h==An?s.constructor:r,ee=g?wu(g):"";if(ee)switch(ee){case dv:return Pr;case pv:return gt;case gv:return nr;case mv:return er;case yv:return dr}return h});function $0(s,h,g){for(var ee=-1,se=g.length;++ee<se;){var ue=g[ee],Ie=ue.size;switch(ue.type){case"drop":s+=Ie;break;case"dropRight":h-=Ie;break;case"take":h=fi(h,s+Ie);break;case"takeRight":s=ii(s,h-Ie);break}}return{start:s,end:h}}function k0(s){var h=s.match(Bm);return h?h[1].split(Um):[]}function Mg(s,h,g){h=ko(h,s);for(var ee=-1,se=h.length,ue=!1;++ee<se;){var Ie=Ss(h[ee]);if(!(ue=s!=null&&g(s,Ie)))break;s=s[Ie]}return ue||++ee!=se?ue:(se=s==null?0:s.length,!!se&&Lh(se)&&zs(Ie,se)&&(Ir(s)||Eu(s)))}function L0(s){var h=s.length,g=new s.constructor(h);return h&&typeof s[0]=="string"&&qr.call(s,"index")&&(g.index=s.index,g.input=s.input),g}function Pg(s){return typeof s.constructor=="function"&&!Al(s)?il(Vl(s)):{}}function D0(s,h,g){var ee=s.constructor;switch(h){case xr:return Nf(s);case ps:case co:return new ee(+s);case Pr:return v0(s,g);case Fr:case Hr:case mi:case ws:case Iu:case Ds:case Au:case ai:case Ei:return _g(s,g);case gt:return new ee;case Zt:case Jn:return new ee(s);case tr:return _0(s);case er:return new ee;case pr:return w0(s)}}function M0(s,h){var g=h.length;if(!g)return s;var ee=g-1;return h[ee]=(g>1?"& ":"")+h[ee],h=h.join(g>2?", ":" "),s.replace(Fm,`{
/* [wrapped with `+h+`] */
`)}function P0(s){return Ir(s)||Eu(s)||!!(Hp&&s&&s[Hp])}function zs(s,h){var g=typeof s;return h=h==null?Dr:h,!!h&&(g=="number"||g!="symbol"&&Ym.test(s))&&s>-1&&s%1==0&&s<h}function _i(s,h,g){if(!Qr(g))return!1;var ee=typeof h;return(ee=="number"?Ii(g)&&zs(h,g.length):ee=="string"&&h in g)?Xi(g[h],s):!1}function Bf(s,h){if(Ir(s))return!1;var g=typeof s;return g=="number"||g=="symbol"||g=="boolean"||s==null||Li(s)?!0:Lm.test(s)||!km.test(s)||h!=null&&s in Gr(h)}function F0(s){var h=typeof s;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?s!=="__proto__":s===null}function Uf(s){var h=uh(s),g=oe[h];if(typeof g!="function"||!(h in kr.prototype))return!1;if(s===g)return!0;var ee=Mf(g);return!!ee&&s===ee[0]}function B0(s){return!!Fp&&Fp in s}var U0=Ml?js:Yd;function Al(s){var h=s&&s.constructor,g=typeof h=="function"&&h.prototype||el;return s===g}function Fg(s){return s===s&&!Qr(s)}function Bg(s,h){return function(g){return g==null?!1:g[s]===h&&(h!==r||s in Gr(g))}}function V0(s){var h=Oh(s,function(ee){return g.size===ie&&g.clear(),ee}),g=h.cache;return h}function H0(s,h){var g=s[1],ee=h[1],se=g|ee,ue=se<(xn|rr|wr),Ie=ee==wr&&g==sr||ee==wr&&g==zr&&s[7].length<=h[8]||ee==(wr|zr)&&h[7].length<=h[8]&&g==sr;if(!(ue||Ie))return s;ee&xn&&(s[2]=h[2],se|=g&xn?0:lr);var ut=h[3];if(ut){var kt=s[3];s[3]=kt?Eg(kt,ut,h[4]):ut,s[4]=kt?xo(s[3],pe):h[4]}return ut=h[5],ut&&(kt=s[5],s[5]=kt?Tg(kt,ut,h[6]):ut,s[6]=kt?xo(s[5],pe):h[6]),ut=h[7],ut&&(s[7]=ut),ee&wr&&(s[8]=s[8]==null?h[8]:fi(s[8],h[8])),s[9]==null&&(s[9]=h[9]),s[0]=h[0],s[1]=se,s}function q0(s){var h=[];if(s!=null)for(var g in Gr(s))h.push(g);return h}function K0(s){return Fl.call(s)}function Ug(s,h,g){return h=ii(h===r?s.length-1:h,0),function(){for(var ee=arguments,se=-1,ue=ii(ee.length-h,0),Ie=Jt(ue);++se<ue;)Ie[se]=ee[h+se];se=-1;for(var ut=Jt(h+1);++se<h;)ut[se]=ee[se];return ut[h]=g(Ie),xi(s,this,ut)}}function Vg(s,h){return h.length<2?s:yu(s,qi(h,0,-1))}function G0(s,h){for(var g=s.length,ee=fi(h.length,g),se=Ti(s);ee--;){var ue=h[ee];s[ee]=zs(ue,g)?se[ue]:r}return s}function Vf(s,h){if(!(h==="constructor"&&typeof s[h]=="function")&&h!="__proto__")return s[h]}var Hg=Kg(hg),bl=ov||function(s,h){return ui.setTimeout(s,h)},Hf=Kg(p0);function qg(s,h,g){var ee=h+"";return Hf(s,M0(ee,W0(k0(ee),g)))}function Kg(s){var h=0,g=0;return function(){var ee=lv(),se=Xr-(ee-g);if(g=ee,se>0){if(++h>=gr)return arguments[0]}else h=0;return s.apply(r,arguments)}}function hh(s,h){var g=-1,ee=s.length,se=ee-1;for(h=h===r?ee:h;++g<h;){var ue=Af(g,se),Ie=s[ue];s[ue]=s[g],s[g]=Ie}return s.length=h,s}var Gg=V0(function(s){var h=[];return s.charCodeAt(0)===46&&h.push(""),s.replace(Dm,function(g,ee,se,ue){h.push(se?ue.replace(qm,"$1"):ee||g)}),h});function Ss(s){if(typeof s=="string"||Li(s))return s;var h=s+"";return h=="0"&&1/s==-Ur?"-0":h}function wu(s){if(s!=null){try{return Pl.call(s)}catch{}try{return s+""}catch{}}return""}function W0(s,h){return Bi(Sl,function(g){var ee="_."+g[0];h&g[1]&&!$l(s,ee)&&s.push(ee)}),s.sort()}function Wg(s){if(s instanceof kr)return s.clone();var h=new Vi(s.__wrapped__,s.__chain__);return h.__actions__=Ti(s.__actions__),h.__index__=s.__index__,h.__values__=s.__values__,h}function z0(s,h,g){(g?_i(s,h,g):h===r)?h=1:h=ii(Ar(h),0);var ee=s==null?0:s.length;if(!ee||h<1)return[];for(var se=0,ue=0,Ie=Jt(Kl(ee/h));se<ee;)Ie[ue++]=qi(s,se,se+=h);return Ie}function j0(s){for(var h=-1,g=s==null?0:s.length,ee=0,se=[];++h<g;){var ue=s[h];ue&&(se[ee++]=ue)}return se}function Y0(){var s=arguments.length;if(!s)return[];for(var h=Jt(s-1),g=arguments[0],ee=s;ee--;)h[ee-1]=arguments[ee];return Co(Ir(g)?Ti(g):[g],ci(h,1))}var Q0=Or(function(s,h){return ei(s)?vl(s,ci(h,1,ei,!0)):[]}),X0=Or(function(s,h){var g=Ki(h);return ei(g)&&(g=r),ei(s)?vl(s,ci(h,1,ei,!0),yr(g,2)):[]}),J0=Or(function(s,h){var g=Ki(h);return ei(g)&&(g=r),ei(s)?vl(s,ci(h,1,ei,!0),r,g):[]});function Z0(s,h,g){var ee=s==null?0:s.length;return ee?(h=g||h===r?1:Ar(h),qi(s,h<0?0:h,ee)):[]}function e_(s,h,g){var ee=s==null?0:s.length;return ee?(h=g||h===r?1:Ar(h),h=ee-h,qi(s,0,h<0?0:h)):[]}function t_(s,h){return s&&s.length?nh(s,yr(h,3),!0,!0):[]}function n_(s,h){return s&&s.length?nh(s,yr(h,3),!0):[]}function r_(s,h,g,ee){var se=s==null?0:s.length;return se?(g&&typeof g!="number"&&_i(s,h,g)&&(g=0,ee=se),Yv(s,h,g,ee)):[]}function zg(s,h,g){var ee=s==null?0:s.length;if(!ee)return-1;var se=g==null?0:Ar(g);return se<0&&(se=ii(ee+se,0)),kl(s,yr(h,3),se)}function jg(s,h,g){var ee=s==null?0:s.length;if(!ee)return-1;var se=ee-1;return g!==r&&(se=Ar(g),se=g<0?ii(ee+se,0):fi(se,ee-1)),kl(s,yr(h,3),se,!0)}function Yg(s){var h=s==null?0:s.length;return h?ci(s,1):[]}function i_(s){var h=s==null?0:s.length;return h?ci(s,Ur):[]}function s_(s,h){var g=s==null?0:s.length;return g?(h=h===r?1:Ar(h),ci(s,h)):[]}function o_(s){for(var h=-1,g=s==null?0:s.length,ee={};++h<g;){var se=s[h];ee[se[0]]=se[1]}return ee}function Qg(s){return s&&s.length?s[0]:r}function a_(s,h,g){var ee=s==null?0:s.length;if(!ee)return-1;var se=g==null?0:Ar(g);return se<0&&(se=ii(ee+se,0)),qu(s,h,se)}function u_(s){var h=s==null?0:s.length;return h?qi(s,0,-1):[]}var c_=Or(function(s){var h=Yr(s,xf);return h.length&&h[0]===s[0]?vf(h):[]}),l_=Or(function(s){var h=Ki(s),g=Yr(s,xf);return h===Ki(g)?h=r:g.pop(),g.length&&g[0]===s[0]?vf(g,yr(h,2)):[]}),h_=Or(function(s){var h=Ki(s),g=Yr(s,xf);return h=typeof h=="function"?h:r,h&&g.pop(),g.length&&g[0]===s[0]?vf(g,r,h):[]});function f_(s,h){return s==null?"":uv.call(s,h)}function Ki(s){var h=s==null?0:s.length;return h?s[h-1]:r}function d_(s,h,g){var ee=s==null?0:s.length;if(!ee)return-1;var se=ee;return g!==r&&(se=Ar(g),se=se<0?ii(ee+se,0):fi(se,ee-1)),h===h?Wy(s,h,se):kl(s,Op,se,!0)}function p_(s,h){return s&&s.length?ag(s,Ar(h)):r}var g_=Or(Xg);function Xg(s,h){return s&&s.length&&h&&h.length?If(s,h):s}function m_(s,h,g){return s&&s.length&&h&&h.length?If(s,h,yr(g,2)):s}function y_(s,h,g){return s&&s.length&&h&&h.length?If(s,h,r,g):s}var v_=Ws(function(s,h){var g=s==null?0:s.length,ee=pf(s,h);return lg(s,Yr(h,function(se){return zs(se,g)?+se:se}).sort(wg)),ee});function __(s,h){var g=[];if(!(s&&s.length))return g;var ee=-1,se=[],ue=s.length;for(h=yr(h,3);++ee<ue;){var Ie=s[ee];h(Ie,ee,s)&&(g.push(Ie),se.push(ee))}return lg(s,se),g}function qf(s){return s==null?s:fv.call(s)}function w_(s,h,g){var ee=s==null?0:s.length;return ee?(g&&typeof g!="number"&&_i(s,h,g)?(h=0,g=ee):(h=h==null?0:Ar(h),g=g===r?ee:Ar(g)),qi(s,h,g)):[]}function E_(s,h){return Zl(s,h)}function T_(s,h,g){return Cf(s,h,yr(g,2))}function I_(s,h){var g=s==null?0:s.length;if(g){var ee=Zl(s,h);if(ee<g&&Xi(s[ee],h))return ee}return-1}function A_(s,h){return Zl(s,h,!0)}function b_(s,h,g){return Cf(s,h,yr(g,2),!0)}function C_(s,h){var g=s==null?0:s.length;if(g){var ee=Zl(s,h,!0)-1;if(Xi(s[ee],h))return ee}return-1}function S_(s){return s&&s.length?fg(s):[]}function R_(s,h){return s&&s.length?fg(s,yr(h,2)):[]}function x_(s){var h=s==null?0:s.length;return h?qi(s,1,h):[]}function O_(s,h,g){return s&&s.length?(h=g||h===r?1:Ar(h),qi(s,0,h<0?0:h)):[]}function N_(s,h,g){var ee=s==null?0:s.length;return ee?(h=g||h===r?1:Ar(h),h=ee-h,qi(s,h<0?0:h,ee)):[]}function $_(s,h){return s&&s.length?nh(s,yr(h,3),!1,!0):[]}function k_(s,h){return s&&s.length?nh(s,yr(h,3)):[]}var L_=Or(function(s){return $o(ci(s,1,ei,!0))}),D_=Or(function(s){var h=Ki(s);return ei(h)&&(h=r),$o(ci(s,1,ei,!0),yr(h,2))}),M_=Or(function(s){var h=Ki(s);return h=typeof h=="function"?h:r,$o(ci(s,1,ei,!0),r,h)});function P_(s){return s&&s.length?$o(s):[]}function F_(s,h){return s&&s.length?$o(s,yr(h,2)):[]}function B_(s,h){return h=typeof h=="function"?h:r,s&&s.length?$o(s,r,h):[]}function Kf(s){if(!(s&&s.length))return[];var h=0;return s=wo(s,function(g){if(ei(g))return h=ii(g.length,h),!0}),of(h,function(g){return Yr(s,nf(g))})}function Jg(s,h){if(!(s&&s.length))return[];var g=Kf(s);return h==null?g:Yr(g,function(ee){return xi(h,r,ee)})}var U_=Or(function(s,h){return ei(s)?vl(s,h):[]}),V_=Or(function(s){return Rf(wo(s,ei))}),H_=Or(function(s){var h=Ki(s);return ei(h)&&(h=r),Rf(wo(s,ei),yr(h,2))}),q_=Or(function(s){var h=Ki(s);return h=typeof h=="function"?h:r,Rf(wo(s,ei),r,h)}),K_=Or(Kf);function G_(s,h){return mg(s||[],h||[],yl)}function W_(s,h){return mg(s||[],h||[],Tl)}var z_=Or(function(s){var h=s.length,g=h>1?s[h-1]:r;return g=typeof g=="function"?(s.pop(),g):r,Jg(s,g)});function Zg(s){var h=oe(s);return h.__chain__=!0,h}function j_(s,h){return h(s),s}function mh(s,h){return h(s)}var Y_=Ws(function(s){var h=s.length,g=h?s[0]:0,ee=this.__wrapped__,se=function(ue){return pf(ue,s)};return h>1||this.__actions__.length||!(ee instanceof kr)||!zs(g)?this.thru(se):(ee=ee.slice(g,+g+(h?1:0)),ee.__actions__.push({func:mh,args:[se],thisArg:r}),new Vi(ee,this.__chain__).thru(function(ue){return h&&!ue.length&&ue.push(r),ue}))});function Q_(){return Zg(this)}function X_(){return new Vi(this.value(),this.__chain__)}function J_(){this.__values__===r&&(this.__values__=dm(this.value()));var s=this.__index__>=this.__values__.length,h=s?r:this.__values__[this.__index__++];return{done:s,value:h}}function Z_(){return this}function e1(s){for(var h,g=this;g instanceof jl;){var ee=Wg(g);ee.__index__=0,ee.__values__=r,h?se.__wrapped__=ee:h=ee;var se=ee;g=g.__wrapped__}return se.__wrapped__=s,h}function t1(){var s=this.__wrapped__;if(s instanceof kr){var h=s;return this.__actions__.length&&(h=new kr(this)),h=h.reverse(),h.__actions__.push({func:mh,args:[qf],thisArg:r}),new Vi(h,this.__chain__)}return this.thru(qf)}function n1(){return gg(this.__wrapped__,this.__actions__)}var r1=rh(function(s,h,g){qr.call(s,g)?++s[g]:Hs(s,g,1)});function i1(s,h,g){var ee=Ir(s)?Rp:jv;return g&&_i(s,h,g)&&(h=r),ee(s,yr(h,3))}function s1(s,h){var g=Ir(s)?wo:Jp;return g(s,yr(h,3))}var o1=Cg(zg),a1=Cg(jg);function u1(s,h){return ci(Ih(s,h),1)}function c1(s,h){return ci(Ih(s,h),Ur)}function l1(s,h,g){return g=g===r?1:Ar(g),ci(Ih(s,h),g)}function em(s,h){var g=Ir(s)?Bi:No;return g(s,yr(h,3))}function tm(s,h){var g=Ir(s)?xy:Xp;return g(s,yr(h,3))}var h1=rh(function(s,h,g){qr.call(s,g)?s[g].push(h):Hs(s,g,[h])});function f1(s,h,g,ee){s=Ii(s)?s:cl(s),g=g&&!ee?Ar(g):0;var se=s.length;return g<0&&(g=ii(se+g,0)),Mh(s)?g<=se&&s.indexOf(h,g)>-1:!!se&&qu(s,h,g)>-1}var d1=Or(function(s,h,g){var ee=-1,se=typeof h=="function",ue=Ii(s)?Jt(s.length):[];return No(s,function(Ie){ue[++ee]=se?xi(h,Ie,g):_l(Ie,h,g)}),ue}),p1=rh(function(s,h,g){Hs(s,g,h)});function Ih(s,h){var g=Ir(s)?Yr:ig;return g(s,yr(h,3))}function g1(s,h,g,ee){return s==null?[]:(Ir(h)||(h=h==null?[]:[h]),g=ee?r:g,Ir(g)||(g=g==null?[]:[g]),ug(s,h,g))}var m1=rh(function(s,h,g){s[g?0:1].push(h)},function(){return[[],[]]});function y1(s,h,g){var ee=Ir(s)?ef:$p,se=arguments.length<3;return ee(s,yr(h,4),g,se,No)}function v1(s,h,g){var ee=Ir(s)?Oy:$p,se=arguments.length<3;return ee(s,yr(h,4),g,se,Xp)}function _1(s,h){var g=Ir(s)?wo:Jp;return g(s,$h(yr(h,3)))}function w1(s){var h=Ir(s)?zp:f0;return h(s)}function E1(s,h,g){(g?_i(s,h,g):h===r)?h=1:h=Ar(h);var ee=Ir(s)?qv:d0;return ee(s,h)}function T1(s){var h=Ir(s)?Kv:g0;return h(s)}function I1(s){if(s==null)return 0;if(Ii(s))return Mh(s)?Gu(s):s.length;var h=di(s);return h==gt||h==er?s.size:Ef(s).length}function A1(s,h,g){var ee=Ir(s)?tf:m0;return g&&_i(s,h,g)&&(h=r),ee(s,yr(h,3))}var b1=Or(function(s,h){if(s==null)return[];var g=h.length;return g>1&&_i(s,h[0],h[1])?h=[]:g>2&&_i(h[0],h[1],h[2])&&(h=[h[0]]),ug(s,ci(h,1),[])}),Sh=sv||function(){return ui.Date.now()};function C1(s,h){if(typeof h!="function")throw new Ui(m);return s=Ar(s),function(){if(--s<1)return h.apply(this,arguments)}}function nm(s,h,g){return h=g?r:h,h=s&&h==null?s.length:h,Ks(s,wr,r,r,r,r,h)}function rm(s,h){var g;if(typeof h!="function")throw new Ui(m);return s=Ar(s),function(){return--s>0&&(g=h.apply(this,arguments)),s<=1&&(h=r),g}}var Gf=Or(function(s,h,g){var ee=xn;if(g.length){var se=xo(g,al(Gf));ee|=Sr}return Ks(s,ee,h,g,se)}),im=Or(function(s,h,g){var ee=xn|rr;if(g.length){var se=xo(g,al(im));ee|=Sr}return Ks(h,ee,s,g,se)});function sm(s,h,g){h=g?r:h;var ee=Ks(s,sr,r,r,r,r,r,h);return ee.placeholder=sm.placeholder,ee}function om(s,h,g){h=g?r:h;var ee=Ks(s,mr,r,r,r,r,r,h);return ee.placeholder=om.placeholder,ee}function am(s,h,g){var ee,se,ue,Ie,ut,kt,yn=0,wn=!1,On=!1,ir=!0;if(typeof s!="function")throw new Ui(m);h=Wi(h)||0,Qr(g)&&(wn=!!g.leading,On="maxWait"in g,ue=On?ii(Wi(g.maxWait)||0,h):ue,ir="trailing"in g?!!g.trailing:ir);function fr(ti){var Ji=ee,Qs=se;return ee=se=r,yn=ti,Ie=s.apply(Qs,Ji),Ie}function vr(ti){return yn=ti,ut=bl(Nr,h),wn?fr(ti):Ie}function Rr(ti){var Ji=ti-kt,Qs=ti-yn,Cm=h-Ji;return On?fi(Cm,ue-Qs):Cm}function _r(ti){var Ji=ti-kt,Qs=ti-yn;return kt===r||Ji>=h||Ji<0||On&&Qs>=ue}function Nr(){var ti=Sh();if(_r(ti))return Lr(ti);ut=bl(Nr,Rr(ti))}function Lr(ti){return ut=r,ir&&ee?fr(ti):(ee=se=r,Ie)}function Di(){ut!==r&&yg(ut),yn=0,ee=kt=se=ut=r}function wi(){return ut===r?Ie:Lr(Sh())}function Pi(){var ti=Sh(),Ji=_r(ti);if(ee=arguments,se=this,kt=ti,Ji){if(ut===r)return vr(kt);if(On)return yg(ut),ut=bl(Nr,h),fr(kt)}return ut===r&&(ut=bl(Nr,h)),Ie}return Pi.cancel=Di,Pi.flush=wi,Pi}var S1=Or(function(s,h){return Qp(s,1,h)}),R1=Or(function(s,h,g){return Qp(s,Wi(h)||0,g)});function x1(s){return Ks(s,Kr)}function Oh(s,h){if(typeof s!="function"||h!=null&&typeof h!="function")throw new Ui(m);var g=function(){var ee=arguments,se=h?h.apply(this,ee):ee[0],ue=g.cache;if(ue.has(se))return ue.get(se);var Ie=s.apply(this,ee);return g.cache=ue.set(se,Ie)||ue,Ie};return g.cache=new(Oh.Cache||Vs),g}Oh.Cache=Vs;function $h(s){if(typeof s!="function")throw new Ui(m);return function(){var h=arguments;switch(h.length){case 0:return!s.call(this);case 1:return!s.call(this,h[0]);case 2:return!s.call(this,h[0],h[1]);case 3:return!s.call(this,h[0],h[1],h[2])}return!s.apply(this,h)}}function O1(s){return rm(2,s)}var N1=y0(function(s,h){h=h.length==1&&Ir(h[0])?Yr(h[0],Oi(yr())):Yr(ci(h,1),Oi(yr()));var g=h.length;return Or(function(ee){for(var se=-1,ue=fi(ee.length,g);++se<ue;)ee[se]=h[se].call(this,ee[se]);return xi(s,this,ee)})}),Wf=Or(function(s,h){var g=xo(h,al(Wf));return Ks(s,Sr,r,h,g)}),um=Or(function(s,h){var g=xo(h,al(um));return Ks(s,Mr,r,h,g)}),$1=Ws(function(s,h){return Ks(s,zr,r,r,r,h)});function k1(s,h){if(typeof s!="function")throw new Ui(m);return h=h===r?h:Ar(h),Or(s,h)}function L1(s,h){if(typeof s!="function")throw new Ui(m);return h=h==null?0:ii(Ar(h),0),Or(function(g){var ee=g[h],se=Do(g,0,h);return ee&&Co(se,ee),xi(s,this,se)})}function D1(s,h,g){var ee=!0,se=!0;if(typeof s!="function")throw new Ui(m);return Qr(g)&&(ee="leading"in g?!!g.leading:ee,se="trailing"in g?!!g.trailing:se),am(s,h,{leading:ee,maxWait:h,trailing:se})}function M1(s){return nm(s,1)}function P1(s,h){return Wf(Of(h),s)}function F1(){if(!arguments.length)return[];var s=arguments[0];return Ir(s)?s:[s]}function B1(s){return Hi(s,Yt)}function U1(s,h){return h=typeof h=="function"?h:r,Hi(s,Yt,h)}function V1(s){return Hi(s,ye|Yt)}function H1(s,h){return h=typeof h=="function"?h:r,Hi(s,ye|Yt,h)}function q1(s,h){return h==null||Yp(s,h,oi(h))}function Xi(s,h){return s===h||s!==s&&h!==h}var K1=ah(yf),G1=ah(function(s,h){return s>=h}),Eu=tg(function(){return arguments}())?tg:function(s){return Jr(s)&&qr.call(s,"callee")&&!Vp.call(s,"callee")},Ir=Jt.isArray,W1=Tp?Oi(Tp):e0;function Ii(s){return s!=null&&Lh(s.length)&&!js(s)}function ei(s){return Jr(s)&&Ii(s)}function z1(s){return s===!0||s===!1||Jr(s)&&vi(s)==ps}var Mo=av||Yd,j1=Ip?Oi(Ip):t0;function Y1(s){return Jr(s)&&s.nodeType===1&&!Cl(s)}function Q1(s){if(s==null)return!0;if(Ii(s)&&(Ir(s)||typeof s=="string"||typeof s.splice=="function"||Mo(s)||ul(s)||Eu(s)))return!s.length;var h=di(s);if(h==gt||h==er)return!s.size;if(Al(s))return!Ef(s).length;for(var g in s)if(qr.call(s,g))return!1;return!0}function X1(s,h){return El(s,h)}function J1(s,h,g){g=typeof g=="function"?g:r;var ee=g?g(s,h):r;return ee===r?El(s,h,r,g):!!ee}function zf(s){if(!Jr(s))return!1;var h=vi(s);return h==yo||h==go||typeof s.message=="string"&&typeof s.name=="string"&&!Cl(s)}function Z1(s){return typeof s=="number"&&qp(s)}function js(s){if(!Qr(s))return!1;var h=vi(s);return h==_o||h==et||h==ji||h==or}function cm(s){return typeof s=="number"&&s==Ar(s)}function Lh(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Dr}function Qr(s){var h=typeof s;return s!=null&&(h=="object"||h=="function")}function Jr(s){return s!=null&&typeof s=="object"}var lm=Ap?Oi(Ap):r0;function ew(s,h){return s===h||wf(s,h,Pf(h))}function tw(s,h,g){return g=typeof g=="function"?g:r,wf(s,h,Pf(h),g)}function nw(s){return hm(s)&&s!=+s}function rw(s){if(U0(s))throw new Tr(f);return ng(s)}function iw(s){return s===null}function sw(s){return s==null}function hm(s){return typeof s=="number"||Jr(s)&&vi(s)==Zt}function Cl(s){if(!Jr(s)||vi(s)!=An)return!1;var h=Vl(s);if(h===null)return!0;var g=qr.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&Pl.call(g)==tv}var jf=bp?Oi(bp):i0;function ow(s){return cm(s)&&s>=-Dr&&s<=Dr}var fm=Cp?Oi(Cp):s0;function Mh(s){return typeof s=="string"||!Ir(s)&&Jr(s)&&vi(s)==Jn}function Li(s){return typeof s=="symbol"||Jr(s)&&vi(s)==pr}var ul=Sp?Oi(Sp):o0;function aw(s){return s===r}function uw(s){return Jr(s)&&di(s)==dr}function cw(s){return Jr(s)&&vi(s)==Er}var lw=ah(Tf),hw=ah(function(s,h){return s<=h});function dm(s){if(!s)return[];if(Ii(s))return Mh(s)?Yi(s):Ti(s);if(hl&&s[hl])return qy(s[hl]());var h=di(s),g=h==gt?uf:h==er?Ll:cl;return g(s)}function Ys(s){if(!s)return s===0?s:0;if(s=Wi(s),s===Ur||s===-Ur){var h=s<0?-1:1;return h*zi}return s===s?s:0}function Ar(s){var h=Ys(s),g=h%1;return h===h?g?h-g:h:0}function pm(s){return s?mu(Ar(s),0,hi):0}function Wi(s){if(typeof s=="number")return s;if(Li(s))return Js;if(Qr(s)){var h=typeof s.valueOf=="function"?s.valueOf():s;s=Qr(h)?h+"":h}if(typeof s!="string")return s===0?s:+s;s=kp(s);var g=Wm.test(s);return g||jm.test(s)?Cy(s.slice(2),g?2:8):Gm.test(s)?Js:+s}function gm(s){return Cs(s,Ai(s))}function fw(s){return s?mu(Ar(s),-Dr,Dr):s===0?s:0}function Vr(s){return s==null?"":$i(s)}var dw=sl(function(s,h){if(Al(h)||Ii(h)){Cs(h,oi(h),s);return}for(var g in h)qr.call(h,g)&&yl(s,g,h[g])}),mm=sl(function(s,h){Cs(h,Ai(h),s)}),Fh=sl(function(s,h,g,ee){Cs(h,Ai(h),s,ee)}),pw=sl(function(s,h,g,ee){Cs(h,oi(h),s,ee)}),gw=Ws(pf);function mw(s,h){var g=il(s);return h==null?g:jp(g,h)}var yw=Or(function(s,h){s=Gr(s);var g=-1,ee=h.length,se=ee>2?h[2]:r;for(se&&_i(h[0],h[1],se)&&(ee=1);++g<ee;)for(var ue=h[g],Ie=Ai(ue),ut=-1,kt=Ie.length;++ut<kt;){var yn=Ie[ut],wn=s[yn];(wn===r||Xi(wn,el[yn])&&!qr.call(s,yn))&&(s[yn]=ue[yn])}return s}),vw=Or(function(s){return s.push(r,kg),xi(ym,r,s)});function _w(s,h){return xp(s,yr(h,3),bs)}function ww(s,h){return xp(s,yr(h,3),mf)}function Ew(s,h){return s==null?s:gf(s,yr(h,3),Ai)}function Tw(s,h){return s==null?s:Zp(s,yr(h,3),Ai)}function Iw(s,h){return s&&bs(s,yr(h,3))}function Aw(s,h){return s&&mf(s,yr(h,3))}function bw(s){return s==null?[]:Xl(s,oi(s))}function Cw(s){return s==null?[]:Xl(s,Ai(s))}function Yf(s,h,g){var ee=s==null?r:yu(s,h);return ee===r?g:ee}function Sw(s,h){return s!=null&&Mg(s,h,Qv)}function Qf(s,h){return s!=null&&Mg(s,h,Xv)}var Rw=Rg(function(s,h,g){h!=null&&typeof h.toString!="function"&&(h=Fl.call(h)),s[h]=g},Jf(bi)),xw=Rg(function(s,h,g){h!=null&&typeof h.toString!="function"&&(h=Fl.call(h)),qr.call(s,h)?s[h].push(g):s[h]=[g]},yr),Ow=Or(_l);function oi(s){return Ii(s)?Wp(s):Ef(s)}function Ai(s){return Ii(s)?Wp(s,!0):a0(s)}function Nw(s,h){var g={};return h=yr(h,3),bs(s,function(ee,se,ue){Hs(g,h(ee,se,ue),ee)}),g}function $w(s,h){var g={};return h=yr(h,3),bs(s,function(ee,se,ue){Hs(g,se,h(ee,se,ue))}),g}var kw=sl(function(s,h,g){Jl(s,h,g)}),ym=sl(function(s,h,g,ee){Jl(s,h,g,ee)}),Lw=Ws(function(s,h){var g={};if(s==null)return g;var ee=!1;h=Yr(h,function(ue){return ue=ko(ue,s),ee||(ee=ue.length>1),ue}),Cs(s,Df(s),g),ee&&(g=Hi(g,ye|yt|Yt,R0));for(var se=h.length;se--;)Sf(g,h[se]);return g});function Dw(s,h){return vm(s,$h(yr(h)))}var Mw=Ws(function(s,h){return s==null?{}:c0(s,h)});function vm(s,h){if(s==null)return{};var g=Yr(Df(s),function(ee){return[ee]});return h=yr(h),cg(s,g,function(ee,se){return h(ee,se[0])})}function Pw(s,h,g){h=ko(h,s);var ee=-1,se=h.length;for(se||(se=1,s=r);++ee<se;){var ue=s==null?r:s[Ss(h[ee])];ue===r&&(ee=se,ue=g),s=js(ue)?ue.call(s):ue}return s}function Fw(s,h,g){return s==null?s:Tl(s,h,g)}function Bw(s,h,g,ee){return ee=typeof ee=="function"?ee:r,s==null?s:Tl(s,h,g,ee)}var _m=Ng(oi),wm=Ng(Ai);function Uw(s,h,g){var ee=Ir(s),se=ee||Mo(s)||ul(s);if(h=yr(h,4),g==null){var ue=s&&s.constructor;se?g=ee?new ue:[]:Qr(s)?g=js(ue)?il(Vl(s)):{}:g={}}return(se?Bi:bs)(s,function(Ie,ut,kt){return h(g,Ie,ut,kt)}),g}function Vw(s,h){return s==null?!0:Sf(s,h)}function Hw(s,h,g){return s==null?s:pg(s,h,Of(g))}function qw(s,h,g,ee){return ee=typeof ee=="function"?ee:r,s==null?s:pg(s,h,Of(g),ee)}function cl(s){return s==null?[]:af(s,oi(s))}function Kw(s){return s==null?[]:af(s,Ai(s))}function Gw(s,h,g){return g===r&&(g=h,h=r),g!==r&&(g=Wi(g),g=g===g?g:0),h!==r&&(h=Wi(h),h=h===h?h:0),mu(Wi(s),h,g)}function Ww(s,h,g){return h=Ys(h),g===r?(g=h,h=0):g=Ys(g),s=Wi(s),Jv(s,h,g)}function zw(s,h,g){if(g&&typeof g!="boolean"&&_i(s,h,g)&&(h=g=r),g===r&&(typeof h=="boolean"?(g=h,h=r):typeof s=="boolean"&&(g=s,s=r)),s===r&&h===r?(s=0,h=1):(s=Ys(s),h===r?(h=s,s=0):h=Ys(h)),s>h){var ee=s;s=h,h=ee}if(g||s%1||h%1){var se=Kp();return fi(s+se*(h-s+by("1e-"+((se+"").length-1))),h)}return Af(s,h)}var jw=ol(function(s,h,g){return h=h.toLowerCase(),s+(g?Em(h):h)});function Em(s){return Xf(Vr(s).toLowerCase())}function Tm(s){return s=Vr(s),s&&s.replace(Qm,Fy).replace(gy,"")}function Yw(s,h,g){s=Vr(s),h=$i(h);var ee=s.length;g=g===r?ee:mu(Ar(g),0,ee);var se=g;return g-=h.length,g>=0&&s.slice(g,se)==h}function Qw(s){return s=Vr(s),s&&Om.test(s)?s.replace(Zd,By):s}function Xw(s){return s=Vr(s),s&&Mm.test(s)?s.replace(Bh,"\\$&"):s}var Jw=ol(function(s,h,g){return s+(g?"-":"")+h.toLowerCase()}),Zw=ol(function(s,h,g){return s+(g?" ":"")+h.toLowerCase()}),eE=bg("toLowerCase");function tE(s,h,g){s=Vr(s),h=Ar(h);var ee=h?Gu(s):0;if(!h||ee>=h)return s;var se=(h-ee)/2;return oh(Gl(se),g)+s+oh(Kl(se),g)}function nE(s,h,g){s=Vr(s),h=Ar(h);var ee=h?Gu(s):0;return h&&ee<h?s+oh(h-ee,g):s}function rE(s,h,g){s=Vr(s),h=Ar(h);var ee=h?Gu(s):0;return h&&ee<h?oh(h-ee,g)+s:s}function iE(s,h,g){return g||h==null?h=0:h&&(h=+h),hv(Vr(s).replace(Uh,""),h||0)}function sE(s,h,g){return(g?_i(s,h,g):h===r)?h=1:h=Ar(h),bf(Vr(s),h)}function oE(){var s=arguments,h=Vr(s[0]);return s.length<3?h:h.replace(s[1],s[2])}var aE=ol(function(s,h,g){return s+(g?"_":"")+h.toLowerCase()});function uE(s,h,g){return g&&typeof g!="number"&&_i(s,h,g)&&(h=g=r),g=g===r?hi:g>>>0,g?(s=Vr(s),s&&(typeof h=="string"||h!=null&&!jf(h))&&(h=$i(h),!h&&Ku(s))?Do(Yi(s),0,g):s.split(h,g)):[]}var cE=ol(function(s,h,g){return s+(g?" ":"")+Xf(h)});function lE(s,h,g){return s=Vr(s),g=g==null?0:mu(Ar(g),0,s.length),h=$i(h),s.slice(g,g+h.length)==h}function hE(s,h,g){var ee=oe.templateSettings;g&&_i(s,h,g)&&(h=r),s=Vr(s),h=Fh({},h,ee,$g);var se=Fh({},h.imports,ee.imports,$g),ue=oi(se),Ie=af(se,ue),ut,kt,yn=0,wn=h.interpolate||xl,On="__p += '",ir=cf((h.escape||xl).source+"|"+wn.source+"|"+(wn===ep?Km:xl).source+"|"+(h.evaluate||xl).source+"|$","g"),fr="//# sourceURL="+(qr.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wy+"]")+`
`;s.replace(ir,function(_r,Nr,Lr,Di,wi,Pi){return Lr||(Lr=Di),On+=s.slice(yn,Pi).replace(Xm,Uy),Nr&&(ut=!0,On+=`' +
__e(`+Nr+`) +
'`),wi&&(kt=!0,On+=`';
`+wi+`;
__p += '`),Lr&&(On+=`' +
((__t = (`+Lr+`)) == null ? '' : __t) +
'`),yn=Pi+_r.length,_r}),On+=`';
`;var vr=qr.call(h,"variable")&&h.variable;if(!vr)On=`with (obj) {
`+On+`
}
`;else if(Hm.test(vr))throw new Tr(_);On=(kt?On.replace(Rl,""):On).replace(Sm,"$1").replace(Rm,"$1;"),On="function("+(vr||"obj")+`) {
`+(vr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ut?", __e = _.escape":"")+(kt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+On+`return __p
}`;var Rr=Am(function(){return Br(ue,fr+"return "+On).apply(r,Ie)});if(Rr.source=On,zf(Rr))throw Rr;return Rr}function fE(s){return Vr(s).toLowerCase()}function dE(s){return Vr(s).toUpperCase()}function pE(s,h,g){if(s=Vr(s),s&&(g||h===r))return kp(s);if(!s||!(h=$i(h)))return s;var ee=Yi(s),se=Yi(h),ue=Lp(ee,se),Ie=Dp(ee,se)+1;return Do(ee,ue,Ie).join("")}function gE(s,h,g){if(s=Vr(s),s&&(g||h===r))return s.slice(0,Pp(s)+1);if(!s||!(h=$i(h)))return s;var ee=Yi(s),se=Dp(ee,Yi(h))+1;return Do(ee,0,se).join("")}function mE(s,h,g){if(s=Vr(s),s&&(g||h===r))return s.replace(Uh,"");if(!s||!(h=$i(h)))return s;var ee=Yi(s),se=Lp(ee,Yi(h));return Do(ee,se).join("")}function yE(s,h){var g=li,ee=si;if(Qr(h)){var se="separator"in h?h.separator:se;g="length"in h?Ar(h.length):g,ee="omission"in h?$i(h.omission):ee}s=Vr(s);var ue=s.length;if(Ku(s)){var Ie=Yi(s);ue=Ie.length}if(g>=ue)return s;var ut=g-Gu(ee);if(ut<1)return ee;var kt=Ie?Do(Ie,0,ut).join(""):s.slice(0,ut);if(se===r)return kt+ee;if(Ie&&(ut+=kt.length-ut),jf(se)){if(s.slice(ut).search(se)){var yn,wn=kt;for(se.global||(se=cf(se.source,Vr(tp.exec(se))+"g")),se.lastIndex=0;yn=se.exec(wn);)var On=yn.index;kt=kt.slice(0,On===r?ut:On)}}else if(s.indexOf($i(se),ut)!=ut){var ir=kt.lastIndexOf(se);ir>-1&&(kt=kt.slice(0,ir))}return kt+ee}function vE(s){return s=Vr(s),s&&xm.test(s)?s.replace(Xd,zy):s}var _E=ol(function(s,h,g){return s+(g?" ":"")+h.toUpperCase()}),Xf=bg("toUpperCase");function Im(s,h,g){return s=Vr(s),h=g?r:h,h===r?Hy(s)?Qy(s):ky(s):s.match(h)||[]}var Am=Or(function(s,h){try{return xi(s,r,h)}catch(g){return zf(g)?g:new Tr(g)}}),wE=Ws(function(s,h){return Bi(h,function(g){g=Ss(g),Hs(s,g,Gf(s[g],s))}),s});function EE(s){var h=s==null?0:s.length,g=yr();return s=h?Yr(s,function(ee){if(typeof ee[1]!="function")throw new Ui(m);return[g(ee[0]),ee[1]]}):[],Or(function(ee){for(var se=-1;++se<h;){var ue=s[se];if(xi(ue[0],this,ee))return xi(ue[1],this,ee)}})}function TE(s){return zv(Hi(s,ye))}function Jf(s){return function(){return s}}function IE(s,h){return s==null||s!==s?h:s}var AE=Sg(),bE=Sg(!0);function bi(s){return s}function Zf(s){return rg(typeof s=="function"?s:Hi(s,ye))}function CE(s){return sg(Hi(s,ye))}function SE(s,h){return og(s,Hi(h,ye))}var RE=Or(function(s,h){return function(g){return _l(g,s,h)}}),xE=Or(function(s,h){return function(g){return _l(s,g,h)}});function _d(s,h,g){var ee=oi(h),se=Xl(h,ee);g==null&&!(Qr(h)&&(se.length||!ee.length))&&(g=h,h=s,s=this,se=Xl(h,oi(h)));var ue=!(Qr(g)&&"chain"in g)||!!g.chain,Ie=js(s);return Bi(se,function(ut){var kt=h[ut];s[ut]=kt,Ie&&(s.prototype[ut]=function(){var yn=this.__chain__;if(ue||yn){var wn=s(this.__wrapped__),On=wn.__actions__=Ti(this.__actions__);return On.push({func:kt,args:arguments,thisArg:s}),wn.__chain__=yn,wn}return kt.apply(s,Co([this.value()],arguments))})}),s}function OE(){return ui._===this&&(ui._=nv),this}function $d(){}function NE(s){return s=Ar(s),Or(function(h){return ag(h,s)})}var $E=$f(Yr),kE=$f(Rp),LE=$f(tf);function bm(s){return Bf(s)?nf(Ss(s)):l0(s)}function DE(s){return function(h){return s==null?r:yu(s,h)}}var ME=xg(),PE=xg(!0);function Wd(){return[]}function Yd(){return!1}function FE(){return{}}function BE(){return""}function UE(){return!0}function VE(s,h){if(s=Ar(s),s<1||s>Dr)return[];var g=hi,ee=fi(s,hi);h=yr(h),s-=hi;for(var se=of(ee,h);++g<s;)h(g);return se}function HE(s){return Ir(s)?Yr(s,Ss):Li(s)?[s]:Ti(Gg(Vr(s)))}function qE(s){var h=++ev;return Vr(s)+h}var KE=sh(function(s,h){return s+h},0),GE=kf("ceil"),WE=sh(function(s,h){return s/h},1),zE=kf("floor");function jE(s){return s&&s.length?Ql(s,bi,yf):r}function YE(s,h){return s&&s.length?Ql(s,yr(h,2),yf):r}function QE(s){return Np(s,bi)}function XE(s,h){return Np(s,yr(h,2))}function JE(s){return s&&s.length?Ql(s,bi,Tf):r}function ZE(s,h){return s&&s.length?Ql(s,yr(h,2),Tf):r}var eT=sh(function(s,h){return s*h},1),tT=kf("round"),nT=sh(function(s,h){return s-h},0);function rT(s){return s&&s.length?sf(s,bi):0}function iT(s,h){return s&&s.length?sf(s,yr(h,2)):0}return oe.after=C1,oe.ary=nm,oe.assign=dw,oe.assignIn=mm,oe.assignInWith=Fh,oe.assignWith=pw,oe.at=gw,oe.before=rm,oe.bind=Gf,oe.bindAll=wE,oe.bindKey=im,oe.castArray=F1,oe.chain=Zg,oe.chunk=z0,oe.compact=j0,oe.concat=Y0,oe.cond=EE,oe.conforms=TE,oe.constant=Jf,oe.countBy=r1,oe.create=mw,oe.curry=sm,oe.curryRight=om,oe.debounce=am,oe.defaults=yw,oe.defaultsDeep=vw,oe.defer=S1,oe.delay=R1,oe.difference=Q0,oe.differenceBy=X0,oe.differenceWith=J0,oe.drop=Z0,oe.dropRight=e_,oe.dropRightWhile=t_,oe.dropWhile=n_,oe.fill=r_,oe.filter=s1,oe.flatMap=u1,oe.flatMapDeep=c1,oe.flatMapDepth=l1,oe.flatten=Yg,oe.flattenDeep=i_,oe.flattenDepth=s_,oe.flip=x1,oe.flow=AE,oe.flowRight=bE,oe.fromPairs=o_,oe.functions=bw,oe.functionsIn=Cw,oe.groupBy=h1,oe.initial=u_,oe.intersection=c_,oe.intersectionBy=l_,oe.intersectionWith=h_,oe.invert=Rw,oe.invertBy=xw,oe.invokeMap=d1,oe.iteratee=Zf,oe.keyBy=p1,oe.keys=oi,oe.keysIn=Ai,oe.map=Ih,oe.mapKeys=Nw,oe.mapValues=$w,oe.matches=CE,oe.matchesProperty=SE,oe.memoize=Oh,oe.merge=kw,oe.mergeWith=ym,oe.method=RE,oe.methodOf=xE,oe.mixin=_d,oe.negate=$h,oe.nthArg=NE,oe.omit=Lw,oe.omitBy=Dw,oe.once=O1,oe.orderBy=g1,oe.over=$E,oe.overArgs=N1,oe.overEvery=kE,oe.overSome=LE,oe.partial=Wf,oe.partialRight=um,oe.partition=m1,oe.pick=Mw,oe.pickBy=vm,oe.property=bm,oe.propertyOf=DE,oe.pull=g_,oe.pullAll=Xg,oe.pullAllBy=m_,oe.pullAllWith=y_,oe.pullAt=v_,oe.range=ME,oe.rangeRight=PE,oe.rearg=$1,oe.reject=_1,oe.remove=__,oe.rest=k1,oe.reverse=qf,oe.sampleSize=E1,oe.set=Fw,oe.setWith=Bw,oe.shuffle=T1,oe.slice=w_,oe.sortBy=b1,oe.sortedUniq=S_,oe.sortedUniqBy=R_,oe.split=uE,oe.spread=L1,oe.tail=x_,oe.take=O_,oe.takeRight=N_,oe.takeRightWhile=$_,oe.takeWhile=k_,oe.tap=j_,oe.throttle=D1,oe.thru=mh,oe.toArray=dm,oe.toPairs=_m,oe.toPairsIn=wm,oe.toPath=HE,oe.toPlainObject=gm,oe.transform=Uw,oe.unary=M1,oe.union=L_,oe.unionBy=D_,oe.unionWith=M_,oe.uniq=P_,oe.uniqBy=F_,oe.uniqWith=B_,oe.unset=Vw,oe.unzip=Kf,oe.unzipWith=Jg,oe.update=Hw,oe.updateWith=qw,oe.values=cl,oe.valuesIn=Kw,oe.without=U_,oe.words=Im,oe.wrap=P1,oe.xor=V_,oe.xorBy=H_,oe.xorWith=q_,oe.zip=K_,oe.zipObject=G_,oe.zipObjectDeep=W_,oe.zipWith=z_,oe.entries=_m,oe.entriesIn=wm,oe.extend=mm,oe.extendWith=Fh,_d(oe,oe),oe.add=KE,oe.attempt=Am,oe.camelCase=jw,oe.capitalize=Em,oe.ceil=GE,oe.clamp=Gw,oe.clone=B1,oe.cloneDeep=V1,oe.cloneDeepWith=H1,oe.cloneWith=U1,oe.conformsTo=q1,oe.deburr=Tm,oe.defaultTo=IE,oe.divide=WE,oe.endsWith=Yw,oe.eq=Xi,oe.escape=Qw,oe.escapeRegExp=Xw,oe.every=i1,oe.find=o1,oe.findIndex=zg,oe.findKey=_w,oe.findLast=a1,oe.findLastIndex=jg,oe.findLastKey=ww,oe.floor=zE,oe.forEach=em,oe.forEachRight=tm,oe.forIn=Ew,oe.forInRight=Tw,oe.forOwn=Iw,oe.forOwnRight=Aw,oe.get=Yf,oe.gt=K1,oe.gte=G1,oe.has=Sw,oe.hasIn=Qf,oe.head=Qg,oe.identity=bi,oe.includes=f1,oe.indexOf=a_,oe.inRange=Ww,oe.invoke=Ow,oe.isArguments=Eu,oe.isArray=Ir,oe.isArrayBuffer=W1,oe.isArrayLike=Ii,oe.isArrayLikeObject=ei,oe.isBoolean=z1,oe.isBuffer=Mo,oe.isDate=j1,oe.isElement=Y1,oe.isEmpty=Q1,oe.isEqual=X1,oe.isEqualWith=J1,oe.isError=zf,oe.isFinite=Z1,oe.isFunction=js,oe.isInteger=cm,oe.isLength=Lh,oe.isMap=lm,oe.isMatch=ew,oe.isMatchWith=tw,oe.isNaN=nw,oe.isNative=rw,oe.isNil=sw,oe.isNull=iw,oe.isNumber=hm,oe.isObject=Qr,oe.isObjectLike=Jr,oe.isPlainObject=Cl,oe.isRegExp=jf,oe.isSafeInteger=ow,oe.isSet=fm,oe.isString=Mh,oe.isSymbol=Li,oe.isTypedArray=ul,oe.isUndefined=aw,oe.isWeakMap=uw,oe.isWeakSet=cw,oe.join=f_,oe.kebabCase=Jw,oe.last=Ki,oe.lastIndexOf=d_,oe.lowerCase=Zw,oe.lowerFirst=eE,oe.lt=lw,oe.lte=hw,oe.max=jE,oe.maxBy=YE,oe.mean=QE,oe.meanBy=XE,oe.min=JE,oe.minBy=ZE,oe.stubArray=Wd,oe.stubFalse=Yd,oe.stubObject=FE,oe.stubString=BE,oe.stubTrue=UE,oe.multiply=eT,oe.nth=p_,oe.noConflict=OE,oe.noop=$d,oe.now=Sh,oe.pad=tE,oe.padEnd=nE,oe.padStart=rE,oe.parseInt=iE,oe.random=zw,oe.reduce=y1,oe.reduceRight=v1,oe.repeat=sE,oe.replace=oE,oe.result=Pw,oe.round=tT,oe.runInContext=Nt,oe.sample=w1,oe.size=I1,oe.snakeCase=aE,oe.some=A1,oe.sortedIndex=E_,oe.sortedIndexBy=T_,oe.sortedIndexOf=I_,oe.sortedLastIndex=A_,oe.sortedLastIndexBy=b_,oe.sortedLastIndexOf=C_,oe.startCase=cE,oe.startsWith=lE,oe.subtract=nT,oe.sum=rT,oe.sumBy=iT,oe.template=hE,oe.times=VE,oe.toFinite=Ys,oe.toInteger=Ar,oe.toLength=pm,oe.toLower=fE,oe.toNumber=Wi,oe.toSafeInteger=fw,oe.toString=Vr,oe.toUpper=dE,oe.trim=pE,oe.trimEnd=gE,oe.trimStart=mE,oe.truncate=yE,oe.unescape=vE,oe.uniqueId=qE,oe.upperCase=_E,oe.upperFirst=Xf,oe.each=em,oe.eachRight=tm,oe.first=Qg,_d(oe,function(){var s={};return bs(oe,function(h,g){qr.call(oe.prototype,g)||(s[g]=h)}),s}(),{chain:!1}),oe.VERSION=i,Bi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){oe[s].placeholder=oe}),Bi(["drop","take"],function(s,h){kr.prototype[s]=function(g){g=g===r?1:ii(Ar(g),0);var ee=this.__filtered__&&!h?new kr(this):this.clone();return ee.__filtered__?ee.__takeCount__=fi(g,ee.__takeCount__):ee.__views__.push({size:fi(g,hi),type:s+(ee.__dir__<0?"Right":"")}),ee},kr.prototype[s+"Right"]=function(g){return this.reverse()[s](g).reverse()}}),Bi(["filter","map","takeWhile"],function(s,h){var g=h+1,ee=g==Si||g==ni;kr.prototype[s]=function(se){var ue=this.clone();return ue.__iteratees__.push({iteratee:yr(se,3),type:g}),ue.__filtered__=ue.__filtered__||ee,ue}}),Bi(["head","last"],function(s,h){var g="take"+(h?"Right":"");kr.prototype[s]=function(){return this[g](1).value()[0]}}),Bi(["initial","tail"],function(s,h){var g="drop"+(h?"":"Right");kr.prototype[s]=function(){return this.__filtered__?new kr(this):this[g](1)}}),kr.prototype.compact=function(){return this.filter(bi)},kr.prototype.find=function(s){return this.filter(s).head()},kr.prototype.findLast=function(s){return this.reverse().find(s)},kr.prototype.invokeMap=Or(function(s,h){return typeof s=="function"?new kr(this):this.map(function(g){return _l(g,s,h)})}),kr.prototype.reject=function(s){return this.filter($h(yr(s)))},kr.prototype.slice=function(s,h){s=Ar(s);var g=this;return g.__filtered__&&(s>0||h<0)?new kr(g):(s<0?g=g.takeRight(-s):s&&(g=g.drop(s)),h!==r&&(h=Ar(h),g=h<0?g.dropRight(-h):g.take(h-s)),g)},kr.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},kr.prototype.toArray=function(){return this.take(hi)},bs(kr.prototype,function(s,h){var g=/^(?:filter|find|map|reject)|While$/.test(h),ee=/^(?:head|last)$/.test(h),se=oe[ee?"take"+(h=="last"?"Right":""):h],ue=ee||/^find/.test(h);!se||(oe.prototype[h]=function(){var Ie=this.__wrapped__,ut=ee?[1]:arguments,kt=Ie instanceof kr,yn=ut[0],wn=kt||Ir(Ie),On=function(Nr){var Lr=se.apply(oe,Co([Nr],ut));return ee&&ir?Lr[0]:Lr};wn&&g&&typeof yn=="function"&&yn.length!=1&&(kt=wn=!1);var ir=this.__chain__,fr=!!this.__actions__.length,vr=ue&&!ir,Rr=kt&&!fr;if(!ue&&wn){Ie=Rr?Ie:new kr(this);var _r=s.apply(Ie,ut);return _r.__actions__.push({func:mh,args:[On],thisArg:r}),new Vi(_r,ir)}return vr&&Rr?s.apply(this,ut):(_r=this.thru(On),vr?ee?_r.value()[0]:_r.value():_r)})}),Bi(["pop","push","shift","sort","splice","unshift"],function(s){var h=Dl[s],g=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",ee=/^(?:pop|shift)$/.test(s);oe.prototype[s]=function(){var se=arguments;if(ee&&!this.__chain__){var ue=this.value();return h.apply(Ir(ue)?ue:[],se)}return this[g](function(Ie){return h.apply(Ir(Ie)?Ie:[],se)})}}),bs(kr.prototype,function(s,h){var g=oe[h];if(g){var ee=g.name+"";qr.call(rl,ee)||(rl[ee]=[]),rl[ee].push({name:h,func:g})}}),rl[ih(r,rr).name]=[{name:"wrapper",func:r}],kr.prototype.clone=vv,kr.prototype.reverse=_v,kr.prototype.value=wv,oe.prototype.at=Y_,oe.prototype.chain=Q_,oe.prototype.commit=X_,oe.prototype.next=J_,oe.prototype.plant=e1,oe.prototype.reverse=t1,oe.prototype.toJSON=oe.prototype.valueOf=oe.prototype.value=n1,oe.prototype.first=oe.prototype.head,hl&&(oe.prototype[hl]=Z_),oe},Qu=Xy();Yo?((Yo.exports=Qu)._=Qu,Qh._=Qu):ui._=Qu}).call(commonjsGlobal)})(lodash,lodash.exports);var flexsearch_bundle={exports:{}};(function(module){(function _f(self){try{module&&(self=module)}catch(n){}self._factory=_f;var t;function u(n){return typeof n!="undefined"?n:!0}function aa(n){const e=Array(n);for(let r=0;r<n;r++)e[r]=v();return e}function v(){return Object.create(null)}function ba(n,e){return e.length-n.length}function x(n){return typeof n=="string"}function C(n){return typeof n=="object"}function D(n){return typeof n=="function"}function ca(n,e){var r=da;if(n&&(e&&(n=E(n,e)),this.H&&(n=E(n,this.H)),this.J&&1<n.length&&(n=E(n,this.J)),r||r==="")){if(n=n.split(r),this.filter){e=this.filter,r=n.length;const i=[];for(let o=0,f=0;o<r;o++){const m=n[o];m&&!e[m]&&(i[f++]=m)}n=i}return n}return n}const da=/[\p{Z}\p{S}\p{P}\p{C}]+/u,ea=/[\u0300-\u036f]/g;function fa(n,e){const r=Object.keys(n),i=r.length,o=[];let f="",m=0;for(let _=0,re,ie;_<i;_++)re=r[_],(ie=n[re])?(o[m++]=F(e?"(?!\\b)"+re+"(\\b|_)":re),o[m++]=ie):f+=(f?"|":"")+re;return f&&(o[m++]=F(e?"(?!\\b)("+f+")(\\b|_)":"("+f+")"),o[m]=""),o}function E(n,e){for(let r=0,i=e.length;r<i&&(n=n.replace(e[r],e[r+1]),n);r+=2);return n}function F(n){return new RegExp(n,"g")}function ha(n){let e="",r="";for(let i=0,o=n.length,f;i<o;i++)(f=n[i])!==r&&(e+=r=f);return e}var ja={encode:ia,F:!1,G:""};function ia(n){return ca.call(this,(""+n).toLowerCase(),!1)}const ka={},G={};function la(n){I(n,"add"),I(n,"append"),I(n,"search"),I(n,"update"),I(n,"remove")}function I(n,e){n[e+"Async"]=function(){const r=this,i=arguments;var o=i[i.length-1];let f;return D(o)&&(f=o,delete i[i.length-1]),o=new Promise(function(m){setTimeout(function(){r.async=!0;const _=r[e].apply(r,i);r.async=!1,m(_)})}),f?(o.then(f),this):o}}function ma(n,e,r,i){const o=n.length;let f=[],m,_,re=0;i&&(i=[]);for(let ie=o-1;0<=ie;ie--){const pe=n[ie],ye=pe.length,yt=v();let Yt=!m;for(let Xt=0;Xt<ye;Xt++){const Cn=pe[Xt],xn=Cn.length;if(xn)for(let rr=0,lr,sr;rr<xn;rr++)if(sr=Cn[rr],m){if(m[sr]){if(!ie){if(r)r--;else if(f[re++]=sr,re===e)return f}(ie||i)&&(yt[sr]=1),Yt=!0}if(i&&(_[sr]=(lr=_[sr])?++lr:lr=1,lr<o)){const mr=i[lr-2]||(i[lr-2]=[]);mr[mr.length]=sr}}else yt[sr]=1}if(i)m||(_=yt);else if(!Yt)return[];m=yt}if(i)for(let ie=i.length-1,pe,ye;0<=ie;ie--){pe=i[ie],ye=pe.length;for(let yt=0,Yt;yt<ye;yt++)if(Yt=pe[yt],!m[Yt]){if(r)r--;else if(f[re++]=Yt,re===e)return f;m[Yt]=1}}return f}function na(n,e){const r=v(),i=v(),o=[];for(let f=0;f<n.length;f++)r[n[f]]=1;for(let f=0,m;f<e.length;f++){m=e[f];for(let _=0,re;_<m.length;_++)re=m[_],r[re]&&!i[re]&&(i[re]=1,o[o.length]=re)}return o}function J(n){this.l=n!==!0&&n,this.cache=v(),this.h=[]}function oa(n,e,r){C(n)&&(n=n.query);let i=this.cache.get(n);return i||(i=this.search(n,e,r),this.cache.set(n,i)),i}J.prototype.set=function(n,e){if(!this.cache[n]){var r=this.h.length;for(r===this.l?delete this.cache[this.h[r-1]]:r++,--r;0<r;r--)this.h[r]=this.h[r-1];this.h[0]=n}this.cache[n]=e},J.prototype.get=function(n){const e=this.cache[n];if(this.l&&e&&(n=this.h.indexOf(n))){const r=this.h[n-1];this.h[n-1]=this.h[n],this.h[n]=r}return e};const qa={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function ra(n,e,r,i,o,f){setTimeout(function(){const m=n(r,JSON.stringify(f));m&&m.then?m.then(function(){e.export(n,e,r,i,o+1)}):e.export(n,e,r,i,o+1)})}function K(n,e){if(!(this instanceof K))return new K(n);var r;if(n){x(n)?n=qa[n]:(r=n.preset)&&(n=Object.assign({},r[r],n)),r=n.charset;var i=n.lang;x(r)&&(r.indexOf(":")===-1&&(r+=":default"),r=G[r]),x(i)&&(i=ka[i])}else n={};let o,f,m=n.context||{};if(this.encode=n.encode||r&&r.encode||ia,this.register=e||v(),this.D=o=n.resolution||9,this.G=e=r&&r.G||n.tokenize||"strict",this.depth=e==="strict"&&m.depth,this.l=u(m.bidirectional),this.s=f=u(n.optimize),this.m=u(n.fastupdate),this.B=n.minlength||1,this.C=n.boost,this.map=f?aa(o):v(),this.A=o=m.resolution||1,this.h=f?aa(o):v(),this.F=r&&r.F||n.rtl,this.H=(e=n.matcher||i&&i.H)&&fa(e,!1),this.J=(e=n.stemmer||i&&i.J)&&fa(e,!0),r=e=n.filter||i&&i.filter){r=e,i=v();for(let _=0,re=r.length;_<re;_++)i[r[_]]=1;r=i}this.filter=r,this.cache=(e=n.cache)&&new J(e)}t=K.prototype,t.append=function(n,e){return this.add(n,e,!0)},t.add=function(n,e,r,i){if(e&&(n||n===0)){if(!i&&!r&&this.register[n])return this.update(n,e);if(e=this.encode(e),i=e.length){const ie=v(),pe=v(),ye=this.depth,yt=this.D;for(let Yt=0;Yt<i;Yt++){let Xt=e[this.F?i-1-Yt:Yt];var o=Xt.length;if(Xt&&o>=this.B&&(ye||!pe[Xt])){var f=L(yt,i,Yt),m="";switch(this.G){case"full":if(3<o){for(f=0;f<o;f++)for(var _=o;_>f;_--)if(_-f>=this.B){var re=L(yt,i,Yt,o,f);m=Xt.substring(f,_),M(this,pe,m,re,n,r)}break}case"reverse":if(2<o){for(_=o-1;0<_;_--)m=Xt[_]+m,m.length>=this.B&&M(this,pe,m,L(yt,i,Yt,o,_),n,r);m=""}case"forward":if(1<o){for(_=0;_<o;_++)m+=Xt[_],m.length>=this.B&&M(this,pe,m,f,n,r);break}default:if(this.C&&(f=Math.min(f/this.C(e,Xt,Yt)|0,yt-1)),M(this,pe,Xt,f,n,r),ye&&1<i&&Yt<i-1){for(o=v(),m=this.A,f=Xt,_=Math.min(ye+1,i-Yt),o[f]=1,re=1;re<_;re++)if((Xt=e[this.F?i-1-Yt-re:Yt+re])&&Xt.length>=this.B&&!o[Xt]){o[Xt]=1;const Cn=this.l&&Xt>f;M(this,ie,Cn?f:Xt,L(m+(i/2>m?0:1),i,Yt,_-1,re-1),n,r,Cn?Xt:f)}}}}}this.m||(this.register[n]=1)}}return this};function L(n,e,r,i,o){return r&&1<n?e+(i||0)<=n?r+(o||0):(n-1)/(e+(i||0))*(r+(o||0))+1|0:0}function M(n,e,r,i,o,f,m){let _=m?n.h:n.map;(!e[r]||m&&!e[r][m])&&(n.s&&(_=_[i]),m?(e=e[r]||(e[r]=v()),e[m]=1,_=_[m]||(_[m]=v())):e[r]=1,_=_[r]||(_[r]=[]),n.s||(_=_[i]||(_[i]=[])),f&&_.indexOf(o)!==-1||(_[_.length]=o,n.m&&(n=n.register[o]||(n.register[o]=[]),n[n.length]=_)))}t.search=function(n,e,r){r||(!e&&C(n)?(r=n,n=r.query):C(e)&&(r=e));let i=[],o,f,m=0;if(r){e=r.limit,m=r.offset||0;var _=r.context;f=r.suggest}if(n&&(n=this.encode(n),o=n.length,1<o)){r=v();var re=[];for(let pe=0,ye=0,yt;pe<o;pe++)if((yt=n[pe])&&yt.length>=this.B&&!r[yt])if(this.s||f||this.map[yt])re[ye++]=yt,r[yt]=1;else return i;n=re,o=n.length}if(!o)return i;e||(e=100),_=this.depth&&1<o&&_!==!1,r=0;let ie;_?(ie=n[0],r=1):1<o&&n.sort(ba);for(let pe,ye;r<o;r++){if(ye=n[r],_?(pe=sa(this,i,f,e,m,o===2,ye,ie),f&&pe===!1&&i.length||(ie=ye)):pe=sa(this,i,f,e,m,o===1,ye),pe)return pe;if(f&&r===o-1){if(re=i.length,!re){if(_){_=0,r=-1;continue}return i}if(re===1)return ta(i[0],e,m)}}return ma(i,e,m,f)};function sa(n,e,r,i,o,f,m,_){let re=[],ie=_?n.h:n.map;if(n.s||(ie=ua(ie,m,_,n.l)),ie){let pe=0;const ye=Math.min(ie.length,_?n.A:n.D);for(let yt=0,Yt=0,Xt,Cn;yt<ye&&!((Xt=ie[yt])&&(n.s&&(Xt=ua(Xt,m,_,n.l)),o&&Xt&&f&&(Cn=Xt.length,Cn<=o?(o-=Cn,Xt=null):(Xt=Xt.slice(o),o=0)),Xt&&(re[pe++]=Xt,f&&(Yt+=Xt.length,Yt>=i))));yt++);if(pe){if(f)return ta(re,i,0);e[e.length]=re;return}}return!r&&re}function ta(n,e,r){return n=n.length===1?n[0]:[].concat.apply([],n),r||n.length>e?n.slice(r,r+e):n}function ua(n,e,r,i){return r?(i=i&&e>r,n=(n=n[i?e:r])&&n[i?r:e]):n=n[e],n}t.contain=function(n){return!!this.register[n]},t.update=function(n,e){return this.remove(n).add(n,e)},t.remove=function(n,e){const r=this.register[n];if(r){if(this.m)for(let i=0,o;i<r.length;i++)o=r[i],o.splice(o.indexOf(n),1);else N(this.map,n,this.D,this.s),this.depth&&N(this.h,n,this.A,this.s);if(e||delete this.register[n],this.cache){e=this.cache;for(let i=0,o,f;i<e.h.length;i++)f=e.h[i],o=e.cache[f],o.indexOf(n)!==-1&&(e.h.splice(i--,1),delete e.cache[f])}}return this};function N(n,e,r,i,o){let f=0;if(n.constructor===Array)if(o)e=n.indexOf(e),e!==-1?1<n.length&&(n.splice(e,1),f++):f++;else{o=Math.min(n.length,r);for(let m=0,_;m<o;m++)(_=n[m])&&(f=N(_,e,r,i,o),i||f||delete n[m])}else for(let m in n)(f=N(n[m],e,r,i,o))||delete n[m];return f}t.searchCache=oa,t.export=function(n,e,r,i,o){let f,m;switch(o||(o=0)){case 0:if(f="reg",this.m){m=v();for(let _ in this.register)m[_]=1}else m=this.register;break;case 1:f="cfg",m={doc:0,opt:this.s?1:0};break;case 2:f="map",m=this.map;break;case 3:f="ctx",m=this.h;break;default:return}return ra(n,e||this,r?r+"."+f:f,i,o,m),!0},t.import=function(n,e){if(e)switch(x(e)&&(e=JSON.parse(e)),n){case"cfg":this.s=!!e.opt;break;case"reg":this.m=!1,this.register=e;break;case"map":this.map=e;break;case"ctx":this.h=e}},la(K.prototype);function va(n){n=n.data;var e=self._index;const r=n.args;var i=n.task;switch(i){case"init":i=n.options||{},n=n.factory,e=i.encode,i.cache=!1,e&&e.indexOf("function")===0&&(i.encode=Function("return "+e)()),n?(Function("return "+n)()(self),self._index=new self.FlexSearch.Index(i),delete self.FlexSearch):self._index=new K(i);break;default:n=n.id,e=e[i].apply(e,r),postMessage(i==="search"?{id:n,msg:e}:{id:n})}}let wa=0;function O(n){if(!(this instanceof O))return new O(n);var e;n?D(e=n.encode)&&(n.encode=e.toString()):n={},(e=(self||window)._factory)&&(e=e.toString());const r=self.exports,i=this;this.o=xa(e,r,n.worker),this.h=v(),this.o&&(r?this.o.on("message",function(o){i.h[o.id](o.msg),delete i.h[o.id]}):this.o.onmessage=function(o){o=o.data,i.h[o.id](o.msg),delete i.h[o.id]},this.o.postMessage({task:"init",factory:e,options:n}))}P("add"),P("append"),P("search"),P("update"),P("remove");function P(n){O.prototype[n]=O.prototype[n+"Async"]=function(){const e=this,r=[].slice.call(arguments);var i=r[r.length-1];let o;return D(i)&&(o=i,r.splice(r.length-1,1)),i=new Promise(function(f){setTimeout(function(){e.h[++wa]=f,e.o.postMessage({task:n,id:wa,args:r})})}),o?(i.then(o),this):i}}function xa(a,b,c){let d;try{d=b?eval('new (require("worker_threads")["Worker"])("../dist/node/node.js")'):a?new Worker(URL.createObjectURL(new Blob(["onmessage="+va.toString()],{type:"text/javascript"}))):new Worker(x(c)?c:"worker/worker.js",{type:"module"})}catch(n){}return d}function Q(n){if(!(this instanceof Q))return new Q(n);var e=n.document||n.doc||n,r;this.K=[],this.h=[],this.A=[],this.register=v(),this.key=(r=e.key||e.id)&&S(r,this.A)||"id",this.m=u(n.fastupdate),this.C=(r=e.store)&&r!==!0&&[],this.store=r&&v(),this.I=(r=e.tag)&&S(r,this.A),this.l=r&&v(),this.cache=(r=n.cache)&&new J(r),n.cache=!1,this.o=n.worker,this.async=!1,r=v();let i=e.index||e.field||e;x(i)&&(i=[i]);for(let o=0,f,m;o<i.length;o++)f=i[o],x(f)||(m=f,f=f.field),m=C(m)?Object.assign({},n,m):n,this.o&&(r[f]=new O(m),r[f].o||(this.o=!1)),this.o||(r[f]=new K(m,this.register)),this.K[o]=S(f,this.A),this.h[o]=f;if(this.C)for(n=e.store,x(n)&&(n=[n]),e=0;e<n.length;e++)this.C[e]=S(n[e],this.A);this.index=r}function S(n,e){const r=n.split(":");let i=0;for(let o=0;o<r.length;o++)n=r[o],0<=n.indexOf("[]")&&(n=n.substring(0,n.length-2))&&(e[i]=!0),n&&(r[i++]=n);return i<r.length&&(r.length=i),1<i?r:r[0]}function T(n,e){if(x(e))n=n[e];else for(let r=0;n&&r<e.length;r++)n=n[e[r]];return n}function U(n,e,r,i,o){if(n=n[o],i===r.length-1)e[o]=n;else if(n)if(n.constructor===Array)for(e=e[o]=Array(n.length),o=0;o<n.length;o++)U(n,e,r,i,o);else e=e[o]||(e[o]=v()),o=r[++i],U(n,e,r,i,o)}function V(n,e,r,i,o,f,m,_){if(n=n[m])if(i===e.length-1){if(n.constructor===Array){if(r[i]){for(e=0;e<n.length;e++)o.add(f,n[e],!0,!0);return}n=n.join(" ")}o.add(f,n,_,!0)}else if(n.constructor===Array)for(m=0;m<n.length;m++)V(n,e,r,i,o,f,m,_);else m=e[++i],V(n,e,r,i,o,f,m,_)}t=Q.prototype,t.add=function(n,e,r){if(C(n)&&(e=n,n=T(e,this.key)),e&&(n||n===0)){if(!r&&this.register[n])return this.update(n,e);for(let i=0,o,f;i<this.h.length;i++)f=this.h[i],o=this.K[i],x(o)&&(o=[o]),V(e,o,this.A,0,this.index[f],n,o[0],r);if(this.I){let i=T(e,this.I),o=v();x(i)&&(i=[i]);for(let f=0,m,_;f<i.length;f++)if(m=i[f],!o[m]&&(o[m]=1,_=this.l[m]||(this.l[m]=[]),!r||_.indexOf(n)===-1)&&(_[_.length]=n,this.m)){const re=this.register[n]||(this.register[n]=[]);re[re.length]=_}}if(this.store&&(!r||!this.store[n])){let i;if(this.C){i=v();for(let o=0,f;o<this.C.length;o++)f=this.C[o],x(f)?i[f]=e[f]:U(e,i,f,0,f[0])}this.store[n]=i||e}}return this},t.append=function(n,e){return this.add(n,e,!0)},t.update=function(n,e){return this.remove(n).add(n,e)},t.remove=function(n){if(C(n)&&(n=T(n,this.key)),this.register[n]){for(var e=0;e<this.h.length&&(this.index[this.h[e]].remove(n,!this.o),!this.m);e++);if(this.I&&!this.m)for(let r in this.l){e=this.l[r];const i=e.indexOf(n);i!==-1&&(1<e.length?e.splice(i,1):delete this.l[r])}this.store&&delete this.store[n],delete this.register[n]}return this},t.search=function(n,e,r,i){r||(!e&&C(n)?(r=n,n=r.query):C(e)&&(r=e,e=0));let o=[],f=[],m,_,re,ie,pe,ye,yt=0;if(r)if(r.constructor===Array)re=r,r=null;else{if(re=(m=r.pluck)||r.index||r.field,ie=r.tag,_=this.store&&r.enrich,pe=r.bool==="and",e=r.limit||100,ye=r.offset||0,ie&&(x(ie)&&(ie=[ie]),!n)){for(let Xt=0,Cn;Xt<ie.length;Xt++)(Cn=ya.call(this,ie[Xt],e,ye,_))&&(o[o.length]=Cn,yt++);return yt?o:[]}x(re)&&(re=[re])}re||(re=this.h),pe=pe&&(1<re.length||ie&&1<ie.length);const Yt=!i&&(this.o||this.async)&&[];for(let Xt=0,Cn,xn,rr;Xt<re.length;Xt++){let lr;if(xn=re[Xt],x(xn)||(lr=xn,xn=xn.field),Yt)Yt[Xt]=this.index[xn].searchAsync(n,e,lr||r);else{if(i?Cn=i[Xt]:Cn=this.index[xn].search(n,e,lr||r),rr=Cn&&Cn.length,ie&&rr){const sr=[];let mr=0;pe&&(sr[0]=[Cn]);for(let Sr=0,Mr,wr;Sr<ie.length;Sr++)Mr=ie[Sr],(rr=(wr=this.l[Mr])&&wr.length)&&(mr++,sr[sr.length]=pe?[wr]:wr);mr&&(Cn=pe?ma(sr,e||100,ye||0):na(Cn,sr),rr=Cn.length)}if(rr)f[yt]=xn,o[yt++]=Cn;else if(pe)return[]}}if(Yt){const Xt=this;return new Promise(function(Cn){Promise.all(Yt).then(function(xn){Cn(Xt.search(n,e,r,xn))})})}if(!yt)return[];if(m&&(!_||!this.store))return o[0];for(let Xt=0,Cn;Xt<f.length;Xt++){if(Cn=o[Xt],Cn.length&&_&&(Cn=za.call(this,Cn)),m)return Cn;o[Xt]={field:f[Xt],result:Cn}}return o};function ya(n,e,r,i){let o=this.l[n],f=o&&o.length-r;if(f&&0<f)return(f>e||r)&&(o=o.slice(r,r+e)),i&&(o=za.call(this,o)),{tag:n,result:o}}function za(n){const e=Array(n.length);for(let r=0,i;r<n.length;r++)i=n[r],e[r]={id:i,doc:this.store[i]};return e}t.contain=function(n){return!!this.register[n]},t.get=function(n){return this.store[n]},t.set=function(n,e){return this.store[n]=e,this},t.searchCache=oa,t.export=function(n,e,r,i,o){if(o||(o=0),i||(i=0),i<this.h.length){const f=this.h[i],m=this.index[f];e=this,setTimeout(function(){m.export(n,e,o?f.replace(":","-"):"",i,o++)||(i++,o=1,e.export(n,e,f,i,o))})}else{let f;switch(o){case 1:r="tag",f=this.l;break;case 2:r="store",f=this.store;break;default:return}ra(n,this,r,i,o,f)}},t.import=function(n,e){if(e)switch(x(e)&&(e=JSON.parse(e)),n){case"tag":this.l=e;break;case"reg":this.m=!1,this.register=e;for(let i=0,o;i<this.h.length;i++)o=this.index[this.h[i]],o.register=e,o.m=!1;break;case"store":this.store=e;break;default:n=n.split(".");const r=n[0];n=n[1],r&&n&&this.index[r].import(n,e)}},la(Q.prototype);var Ba={encode:Aa,F:!1,G:""};const Ca=[F("[\xE0\xE1\xE2\xE3\xE4\xE5]"),"a",F("[\xE8\xE9\xEA\xEB]"),"e",F("[\xEC\xED\xEE\xEF]"),"i",F("[\xF2\xF3\xF4\xF5\xF6\u0151]"),"o",F("[\xF9\xFA\xFB\xFC\u0171]"),"u",F("[\xFD\u0177\xFF]"),"y",F("\xF1"),"n",F("[\xE7c]"),"k",F("\xDF"),"s",F(" & ")," and "];function Aa(n){var e=n;return e.normalize&&(e=e.normalize("NFD").replace(ea,"")),ca.call(this,e.toLowerCase(),!n.normalize&&Ca)}var Ea={encode:Da,F:!1,G:"strict"};const Fa=/[^a-z0-9]+/,Ga={b:"p",v:"f",w:"f",z:"s",x:"s",\u00DF:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Da(n){n=Aa.call(this,n).join(" ");const e=[];if(n){const r=n.split(Fa),i=r.length;for(let o=0,f,m=0;o<i;o++)if((n=r[o])&&(!this.filter||!this.filter[n])){f=n[0];let _=Ga[f]||f,re=_;for(let ie=1;ie<n.length;ie++){f=n[ie];const pe=Ga[f]||f;pe&&pe!==re&&(_+=pe,re=pe)}e[m++]=_}}return e}var Ia={encode:Ha,F:!1,G:""};const Ja=[F("ae"),"a",F("oe"),"o",F("sh"),"s",F("th"),"t",F("ph"),"f",F("pf"),"f",F("(?![aeo])h(?![aeo])"),"",F("(?!^[aeo])h(?!^[aeo])"),""];function Ha(n,e){return n&&(n=Da.call(this,n).join(" "),2<n.length&&(n=E(n,Ja)),e||(1<n.length&&(n=ha(n)),n&&(n=n.split(" ")))),n}var La={encode:Ka,F:!1,G:""};const Ma=F("(?!\\b)[aeo]");function Ka(n){return n&&(n=Ha.call(this,n,!0),1<n.length&&(n=n.replace(Ma,"")),1<n.length&&(n=ha(n)),n&&(n=n.split(" "))),n}G["latin:default"]=ja,G["latin:simple"]=Ba,G["latin:balance"]=Ea,G["latin:advanced"]=Ia,G["latin:extra"]=La;const W=self;let Y;const Z={Index:K,Document:Q,Worker:O,registerCharset:function(n,e){G[n]=e},registerLanguage:function(n,e){ka[n]=e}};(Y=W.define)&&Y.amd?Y([],function(){return Z}):W.exports?W.exports=Z:W.FlexSearch=Z})(commonjsGlobal)})(flexsearch_bundle);var App_vue_vue_type_style_index_0_lang="";const _hoisted_1={id:"score-list",class:"w-full bg-blue text-white"},_hoisted_2={class:"w-full max-w-screen-lg py-4 mx-auto px-4 sm:px-8"},_hoisted_3={key:0,class:"bg-amber-50 text-amber-500 rounded-sm opacity-90 text-sm font-bold p-2 text-center"},_hoisted_4={class:"sticky top-0 z-40 pt-4 px-4"},_hoisted_5={class:"w-full my-4"},_hoisted_6={class:"my-4 shadow-inner"},_sfc_main=defineComponent({setup(n){var xn;const e=inject("firestore"),r=new flexsearch_bundle.exports.Index({preset:"match",tokenize:"full",cache:100}),i=ref({}),o=ref({}),f=ref(!1);function m(){f.value=location.search.includes("test"),fl(xh(pc(e,"games"),kh("test","==",f.value)),rr=>{rr.docs.forEach(lr=>{if(!i.value[lr.id]){const sr=lr.data();sr.id=lr.id,i.value[lr.id]=sr,fl(xh(pc(e,`games/${sr.id}/scores`)),lodash.exports.debounce(mr=>{mr.docs.forEach(Sr=>{const Mr=Sr.data();Mr.id=Sr.id,Mr.game=sr,o.value[Mr.id]=Mr,r.add(Mr.id,`${Mr.name} ${Mr.members||Mr.game.title}`)})},100,{maxWait:1e3}))}})})}onMounted(m);const re=(xn=new URLSearchParams(window.location.search).get("team_id"))!=null?xn:"",ie=computed(()=>{let rr=Object.values(o.value);return rr.sort((lr,sr)=>sr.score-lr.score),rr.forEach((lr,sr)=>{lr.rank=sr+1}),rr}),pe=ref("");let ye=ref(100),yt=100;const Yt=computed(()=>{if(pe.value){const sr=r.search(pe.value,{suggest:!0,limit:ye.value}),mr=[];return sr.forEach(Sr=>mr.push(o.value[String(Sr)])),ye.value=mr.length<100?100:mr.length,mr.sort((Sr,Mr)=>Mr.score-Sr.score),mr.slice(0,ye.value)}let rr=ie.value.slice(0,ye.value),lr=o.value[re];return lr&&lr.rank>ye.value&&rr.push(lr),rr});let Xt=!1;function Cn({complete:rr,loaded:lr,error:sr}){if(!ie.value.length)return lr();if(ye.value>=ie.value.length){rr();return}Xt||(Xt=!0,setTimeout(()=>{ye.value+=yt,Xt=!1,lr()},50))}return(rr,lr)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[f.value?(openBlock(),createElementBlock("div",_hoisted_3,"SHOWING TEST DATA")):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,[withDirectives(createBaseVNode("input",{name:"search","onUpdate:modelValue":lr[0]||(lr[0]=sr=>pe.value=sr),placeholder:"Search...",class:"py-3 px-4 shadow-sm text-blue focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-xl"},null,512),[[vModelText,pe.value]])])]),createBaseVNode("div",_hoisted_6,[createVNode(TransitionGroup,{name:"flip-list",appear:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Yt),(sr,mr)=>(openBlock(),createBlock(ScoreRow,{key:sr.id,rank:sr.rank,name:sr.name,members:sr.members||sr.game.title,score:sr.score,"is-active":sr.id===unref(re)},null,8,["rank","name","members","score","is-active"]))),128))]),_:1}),createVNode(unref(_sfc_main$2),{target:"#score-list",onInfinite:Cn,class:"text-center p-4"})])]),createVNode(unref(_sfc_main$2),{onInfinite:Cn,class:"opacity-0"})]))}});var styles="";const app=createApp(_sfc_main),firebaseConfig={apiKey:"AIzaSyCQgkdpL6qywF6uZB5vatN1pVmrKu9tNs4",authDomain:"webcrafters-scoreboard.firebaseapp.com",projectId:"webcrafters-scoreboard",storageBucket:"webcrafters-scoreboard.appspot.com",messagingSenderId:"542190411287",appId:"1:542190411287:web:41f1c831da7a14c6568652",measurementId:"G-VF0LYZJYHE"},firebaseApp=initializeApp(firebaseConfig);getAnalytics(firebaseApp);const firestore=Dc(firebaseApp);app.provide("firestore",firestore),app.mount("#webcrafters-scoreboard")});
